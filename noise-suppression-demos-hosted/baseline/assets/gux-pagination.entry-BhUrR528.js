import{r as n,c as s,b as r,h as a,g as o}from"./index-d9wy7qxQ.js";import{a as g}from"./after-next-render-07a41f53-C_KTwidI.js";import{t as c}from"./usage-6129fffe-6kP8_2TX.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const l=":host{display:block;border-top:var(--gse-ui-dataTableItems-tablePagination-divider-width) var(--gse-ui-dataTableItems-tablePagination-divider-style) var(--gse-ui-dataTableItems-tablePagination-divider-color)}.gux-pagination-container{display:flex;flex-direction:row;flex-wrap:nowrap;place-content:stretch space-between;align-items:center;height:var(--gse-ui-dataTableItems-cell-tablePagination-height);padding:var(--gse-ui-dataTableItems-tablePagination-padding);background-color:var(--gse-ui-dataTableItems-tablePagination-defaultBackgroundColor)}.gux-pagination-container .gux-pagination-info{display:flex;flex:0 1 auto;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-dataTableItems-tablePagination-recordsetControls-gap);place-content:stretch flex-start;align-items:center;align-self:auto;order:0}.gux-pagination-container .gux-pagination-info>*{flex:0 1 auto;align-self:auto;order:0}.gux-pagination-container .gux-pagination-spacer{flex:1 1 auto;align-self:auto;order:0}.gux-pagination-container .gux-pagination-change{flex:0 1 auto;align-self:auto;order:0}.gux-pagination-container .gux-pagination-change:first-child{margin-left:0}",h=l,d=24,u=class{constructor(e){n(this,e),this.guxpaginationchange=s(this,"guxpaginationchange",7),this.reinstateLayoutBreakpoint=0,this.layout="advanced",this.currentPage=1,this.totalItems=0,this.itemsPerPage=25,this.totalPages=void 0,this.displayedLayout=void 0}setPage(e){if(e<=0){this.setPage(1);return}const t=this.calculateTotalPages(this.totalItems,this.itemsPerPage);if(e>t){this.setPage(t);return}this.currentPage=e,this.guxpaginationchange.emit({currentPage:this.currentPage,itemsPerPage:this.itemsPerPage})}handleInternalitemsperpagechange(e){this.itemsPerPage=e.detail,this.setPage(1)}handleInternalcurrentpagechange(e){this.setPage(e.detail)}calculateTotalPages(e,t){return Math.max(1,Math.ceil(e/t))}calculateCurrentPage(e,t){const i=e>0?1:0;return Math.max(i,Math.min(t,e))}checkPaginationContainerWidthForLayout(){r(()=>{const e=this.root.shadowRoot.querySelector(".gux-pagination-container"),t=this.root.shadowRoot.querySelector(".gux-pagination-spacer"),i=e.clientWidth;t.clientWidth<d&&this.displayedLayout!=="simple"?(this.reinstateLayoutBreakpoint=i,this.displayedLayout="simple"):i>this.reinstateLayoutBreakpoint&&(this.reinstateLayoutBreakpoint=0,this.displayedLayout=this.layout)})}componentWillLoad(){c(this.root,{variant:this.layout})}componentWillRender(){this.totalPages=this.calculateTotalPages(this.totalItems,this.itemsPerPage),this.currentPage=this.calculateCurrentPage(this.totalPages,this.currentPage)}disconnectedCallback(){this.resizeObserver&&this.resizeObserver.unobserve(this.root.shadowRoot.querySelector(".gux-pagination-container"))}componentDidLoad(){!this.resizeObserver&&window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>this.checkPaginationContainerWidthForLayout())),this.resizeObserver&&this.resizeObserver.observe(this.root.shadowRoot.querySelector(".gux-pagination-container")),g(()=>{this.checkPaginationContainerWidthForLayout()},500)}render(){return a("div",{key:"137f34e5a3e9cb1851657cafcdc9d88ec10ba3b0",class:"gux-pagination-container"},a("div",{key:"289f6cbf30d4b36c957b5e88e046587bc759bb9d",class:"gux-pagination-info"},a("gux-pagination-item-counts",{key:"edee289f4a0760c2e5267ce382e609f98a1afe7d","total-items":this.totalItems,"current-page":this.currentPage,"items-per-page":this.itemsPerPage}),this.displayedLayout==="advanced"&&a("gux-pagination-items-per-page",{"items-per-page":this.itemsPerPage,onInternalitemsperpagechange:this.handleInternalitemsperpagechange.bind(this)})),a("div",{key:"7e005b264f8a35c8f8b931c78e8d3634d1d5c099",class:"gux-pagination-spacer"}),a("div",{key:"ed7485608a4d398832613c7cf95cf810492f8518",class:"gux-pagination-change"},a("gux-pagination-buttons",{key:"d1ad309e99ec1c8fb5e0cf69d7e771d96f356278",layout:this.displayedLayout,"current-page":this.currentPage,"total-pages":this.totalPages,onInternalcurrentpagechange:this.handleInternalcurrentpagechange.bind(this)})))}get root(){return o(this)}};u.style=h;export{u as gux_pagination};
