import{r as s,c as r,h as t,g as a}from"./index-d9wy7qxQ.js";import{b as n}from"./index-3f1e5ba8-CvJZzdvG.js";import{t as i}from"./usage-6129fffe-6kP8_2TX.js";import{g as o}from"./get-closest-element-728b9f18-C_5KDHD-.js";import{o as c}from"./on-mutation-a222fe93-BUuUxYmY.js";import{t as d}from"./en-1f9d79e6-D5hlE5o5.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const l=".gux-container{position:absolute;inset:0;display:flex;flex-direction:row;flex-wrap:nowrap;place-content:flex-start flex-start;align-items:center;border-top:var(--gse-ui-dataTableItems-header-selectedBar-height) solid transparent;border-bottom:var(--gse-ui-dataTableItems-header-selectedBar-height) solid transparent}.gux-container:focus-within{border-bottom-color:var(--gse-ui-dataTableItems-header-selectedIndicatorColor)}.gux-container .gux-sort-button{all:unset;flex:1 1 auto;align-self:stretch;order:0;cursor:pointer}.gux-container .gux-sort-button .gux-sort-icon{float:right;width:var(--gse-ui-icon-size-sm);height:var(--gse-ui-icon-size-sm);margin:0 var(--gse-ui-dataTableItems-header-gap);color:var(--gse-ui-dataTableItems-header-sort-foregroundColor)}.gux-container .gux-sort-button .gux-sort-icon.gux-left{float:left;margin-left:calc(2px + var(--gse-ui-dataTableItems-header-gap))}.gux-container .gux-resize-spacer{flex:0 1 auto;align-self:stretch;order:0;width:2px}",u=l,h=class{constructor(e){s(this,e),this.guxsortchanged=r(this,"guxsortchanged",7),this.includeUnsorted=!1,this.headerContent=void 0,this.active=!1,this.sort="none",this.isLeftAlignIcon=!1}async componentWillLoad(){i(this.root),this.i18n=await n(this.root,d,"gux-table"),this.tableHeader=o("th",this.root),this.thObserver=c(this.tableHeader,()=>{this.setState()},{attributes:!0,childList:!1,subtree:!1}),this.setState()}disconnectedCallback(){this.thObserver&&this.thObserver.disconnect()}onClick(){this.guxsortchanged.emit({columnName:this.tableHeader.dataset.columnName,sortDirection:this.getNextSort(this.sort)})}setState(){this.headerContent=this.tableHeader.textContent,this.isLeftAlignIcon=this.tableHeader.hasAttribute("data-cell-numeric")||this.tableHeader.hasAttribute("data-cell-action");const e=this.tableHeader.getAttribute("aria-sort");switch(e){case"ascending":case"descending":this.active=!0,this.sort=e;break;default:this.active=!1,this.sort="none"}}getIconName(e){switch(e){case"descending":return"fa/caret-down-solid";case"ascending":default:return"fa/caret-up-solid"}}getNextSort(e){switch(e){case"none":return"ascending";case"ascending":return"descending";case"descending":default:return this.includeUnsorted?"none":"ascending"}}getSRText(e){switch(e){case"ascending":return this.i18n("ascendingColumnSort",{headerContent:this.headerContent});case"descending":return this.includeUnsorted?this.i18n("descendingColumnSortIncludeUnsorted",{headerContent:this.headerContent}):this.i18n("descendingColumnSort",{headerContent:this.headerContent});default:return this.i18n("noColumnSort",{headerContent:this.headerContent})}}render(){return t("div",{key:"7b2354f07c6921c9027f0ec988a4e08bd4c37896",class:"gux-container"},t("button",{key:"a0f0d05aa85e776dbd517b047777b55aee8f6323",class:{"gux-sort-button":!0,"gux-active":this.active},type:"button",onClick:()=>this.onClick(),"aria-label":this.getSRText(this.sort)},t("gux-icon",{key:"7fd0991e3b8085069de0b6d466406c9b75eed9ee",class:{"gux-sort-icon":!0,"gux-left":this.isLeftAlignIcon},"icon-name":this.getIconName(this.sort),decorative:!0})),t("div",{key:"e9e2f6fd639b14096683cded70fe00fd9c8ccdee",class:"gux-resize-spacer"}))}static get delegatesFocus(){return!0}get root(){return a(this)}};h.style=u;export{h as gux_sort_control};
