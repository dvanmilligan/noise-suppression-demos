import{r as u,c as h,h as a,g as f}from"./index-d9wy7qxQ.js";import{a as m,c as g,o as v,f as b,s as x,b as w}from"./floating-ui.dom.esm-8b93f9de-BrzsGlin.js";import{O as k}from"./on-click-outside-21dd269e-C4O7qXsf.js";import{t as O}from"./usage-6129fffe-6kP8_2TX.js";import{f as d}from"./find-element-by-id-d0ce6208-DntMpzyb.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const y=".gux-popover-wrapper{position:absolute;top:0;left:0;z-index:var(--gse-semantic-zIndex-popover);display:inline-block;padding:8px 0;background-color:var(--gse-ui-popover-backgroundColor);border-radius:var(--gse-ui-popover-borderRadius);box-shadow:var(--gse-ui-popover-boxShadow-x) var(--gse-ui-popover-boxShadow-y) var(--gse-ui-popover-boxShadow-blur) var(--gse-ui-popover-boxShadow-spread) var(--gse-ui-tooltip-boxShadow-color)}.gux-popover-wrapper.gux-hidden{display:none}.gux-popover-wrapper .gux-arrow{position:absolute;width:var(--gse-ui-popover-anchor-width);height:var(--gse-ui-popover-anchor-width);background:var(--gse-ui-popover-backgroundColor)}",E=y;var P=function(t,e,i,s){var r=arguments.length,o=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,i):s,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,i,s);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(o=(r<3?n(o):r>3?n(e,i,o):n(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};const l=class{constructor(t){u(this,t),this.guxdismiss=h(this,"guxdismiss",7),this.for=void 0,this.position="bottom",this.displayDismissButton=void 0,this.closeOnClickOutside=!1,this.isOpen=!1}onKeyDown(t){switch(t.key){case"Tab":case"Escape":this.dismiss();break}}checkForClickOutside(t){const e=t.composedPath(),i=d(this.root,this.for),s=e.includes(i);(this.closeOnClickOutside||!this.displayDismissButton)&&this.isOpen&&!s&&this.dismiss()}runUpdatePosition(){this.root.isConnected?this.cleanupUpdatePosition=m(d(this.root,this.for),this.popupElement,()=>this.updatePosition(),{ancestorScroll:!0,elementResize:!0,animationFrame:!0,ancestorResize:!0}):this.disconnectedCallback()}updatePosition(){const t=d(this.root,this.for);this.popupElement&&g(t,this.popupElement,{placement:this.position,middleware:[v(7),b(),x(),w({element:this.arrowElement,padding:16})]}).then(({x:e,y:i,middlewareData:s,placement:r})=>{Object.assign(this.popupElement.style,{left:`${e}px`,top:`${i}px`});const o=r.split("-")[0],n={top:"bottom",right:"left",bottom:"top",left:"right"}[o];if(s.arrow){const{x:p,y:c}=s.arrow;this.popupElement.setAttribute("data-placement",r),Object.assign(this.arrowElement.style,{left:p!=null?`${p}px`:"",top:c!=null?`${c}px`:"",right:"",bottom:"",[n]:`${-13/2}px`,transform:"rotate(45deg)"})}})}dismiss(){this.guxdismiss.emit().defaultPrevented||(this.isOpen=!1)}connectedCallback(){O(this.root,{variant:this.position})}componentDidLoad(){this.isOpen&&this.runUpdatePosition()}componentDidUpdate(){this.isOpen?this.runUpdatePosition():this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}disconnectedCallback(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}render(){return a("div",{key:"0292a9de51ac8fd4d7cec1ca787ac1675c19d1f1",ref:t=>this.popupElement=t,class:{"gux-hidden":!this.isOpen,"gux-popover-wrapper":!0},"data-placement":!0},a("div",{key:"414b8f7ad8cd56db7d0e96b3fa95b999ca7b2492",ref:t=>this.arrowElement=t,class:"gux-arrow"}),this.displayDismissButton&&a("gux-dismiss-button",{onClick:this.dismiss.bind(this)}),a("div",{key:"c2c3677bad48d4e0826d362d20337a680f23262d",class:"gux-popover-content"},a("slot",{key:"f9486cc0a38dcddade357886293c2697e132d33f"})))}get root(){return f(this)}};P([k({triggerEvents:"mousedown"})],l.prototype,"checkForClickOutside",null);l.style=E;export{l as gux_popover_list};
