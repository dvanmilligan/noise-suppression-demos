import{r as s,c as n,h as i,g as r}from"./index-d9wy7qxQ.js";import{e as o}from"./event-is-from-60a4bc72-BUOfvQpd.js";import{r as d}from"./random-html-id-81ac821b-D30kRngR.js";import{a}from"./after-next-render-07a41f53-C_KTwidI.js";import{b as u}from"./index-3f1e5ba8-CvJZzdvG.js";import{t as c}from"./en-bf740e9b-BzgaeZ-2.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-728b9f18-C_5KDHD-.js";const g="gux-tab-advanced .gux-tab{display:flex;align-items:center;border-color:transparent;border-top-width:var(--gse-ui-advancedTabs-item-indicator-height);border-bottom-style:solid;border-bottom-width:var(--gse-ui-advancedTabs-item-indicator-height)}gux-tab-advanced .gux-tab .gux-buttons{display:flex;flex:1 1 0;gap:var(--gse-ui-advancedTabs-item-gap);align-items:center;width:var(--gse-ui-advancedTabs-item-width);min-width:0}gux-tab-advanced .gux-tab .gux-buttons .gux-tab-button{all:unset;flex:1 1 0;width:100px;min-width:0;padding:var(--gse-ui-advancedTabs-item-padding)}gux-tab-advanced .gux-tab .gux-buttons .gux-tab-button:focus-visible{outline:var(--gse-semantic-focusRing-default-border-color) var(--gse-semantic-focusRing-default-border-style) var(--gse-semantic-focusRing-default-border-width);outline-offset:var(--gse-semantic-focusRing-offset);border-radius:var(--gse-ui-advancedTabs-item-focus-borderRadius);outline-offset:calc(-1 * var(--gse-semantic-focusRing-default-border-width))}gux-tab-advanced .gux-tab .gux-buttons .gux-tab-button .gux-tab-button-text{font-family:var(--gse-ui-advancedTabs-item-itemText-fontFamily);font-size:var(--gse-ui-advancedTabs-item-itemText-fontSize);font-weight:var(--gse-ui-advancedTabs-item-itemText-fontWeight);line-height:var(--gse-ui-advancedTabs-item-itemText-lineHeight);color:var(--gse-ui-advancedTabs-item-text-color);white-space:nowrap}gux-tab-advanced .gux-tab .gux-tab-options .gux-tab-options-trigger gux-icon{width:var(--gse-ui-icon-size-sm);height:var(--gse-ui-icon-size-sm)}gux-tab-advanced .gux-tab .gux-tab-options .gux-tab-options-container{--no-op:none}gux-tab-advanced .gux-tab .gux-divider{width:var(--gse-ui-advancedTabs-item-divider-right-width);height:var(--gse-ui-advancedTabs-item-divider-right-height);background-color:var(--gse-ui-advancedTabs-divider-dividerColor)}gux-tab-advanced .gux-tab:hover:not(.gux-disabled),gux-tab-advanced .gux-tab:focus-within{border-bottom-color:var(--gse-ui-advancedTabs-item-indicator-activeColor)}gux-tab-advanced .gux-tab.gux-selected{background-color:var(--gse-ui-advancedTabs-item-backgroundColor);border-bottom-color:var(--gse-ui-advancedTabs-item-indicator-activeColor)}gux-tab-advanced .gux-tab.gux-selected.gux-disabled{border-bottom-color:color-mix(in srgb, var(--gse-ui-advancedTabs-item-indicator-activeColor) 50%, white)}gux-tab-advanced .gux-tab.gux-disabled .gux-buttons .gux-tab-button .gux-tab-button-text{color:color-mix(in srgb, var(--gse-ui-advancedTabs-item-text-color) 50%, white)}",l=g,b=class{constructor(t){s(this,t),this.internalactivatetabpanel=n(this,"internalactivatetabpanel",7),this.dropdownOptionsButtonId=d(),this.tabTitle="",this.focusinFromClick=!1,this.tabId=void 0,this.active=!1,this.guxDisabled=!1,this.popoverHidden=!0}onFocusin(t){!this.focusinFromClick&&t.target.classList.contains("gux-tab-button")&&this.tooltipTitleElement.setShowTooltip()}onFocusout(t){this.root.querySelector(".gux-tab").contains(t.relatedTarget)||(this.popoverHidden=!0),t.target.classList.contains("gux-tab-button")&&this.tooltipTitleElement.setHideTooltip(),this.focusinFromClick=!1}onKeydown(t){switch(t.key){case"ArrowDown":o(".gux-tab-options-trigger",t)&&(t.stopPropagation(),t.preventDefault(),this.popoverHidden=!1,this.focusFirstItemInPopupList()),o('gux-list[slot="dropdown-options"]',t)&&(t.stopImmediatePropagation(),t.stopPropagation());break;case"Enter":o(".gux-tab-options-trigger",t)&&(t.stopPropagation(),t.preventDefault(),this.popoverHidden=!1,this.focusFirstItemInPopupList());break;case"Escape":o('gux-list[slot="dropdown-options"]',t)&&(t.stopPropagation(),this.popoverHidden=!0,a(()=>{var e;(e=this.tabOptionsButtonElement)===null||e===void 0||e.focus()}));break;case"ArrowRight":case"ArrowLeft":case"ArrowUp":case"Tab":case"Home":case"End":o('gux-list[slot="dropdown-options"]',t)&&(t.stopImmediatePropagation(),t.stopPropagation());break}}onKeyup(t){switch(t.key){case" ":o(".gux-tab-options-trigger",t)&&this.focusFirstItemInPopupList()}}onClick(t){o(".gux-tab-options-trigger",t)||!this.active&&!this.guxDisabled&&this.internalactivatetabpanel.emit(this.tabId)}onMouseDown(){this.focusinFromClick=!0}async guxSetActive(t){this.active=t}async guxGetActive(){return this.active}async guxFocus(){this.buttonElement.focus()}get hasDropdownOptions(){return!!this.root.querySelector('gux-list[slot="dropdown-options"]')}focusFirstItemInPopupList(){const t=this.root.querySelector('gux-list[slot="dropdown-options"]');a(()=>{t==null||t.guxFocusFirstItem()})}toggleOptions(){this.popoverHidden=!this.popoverHidden}onSelectDropdownOption(t){this.popoverHidden=!0,t.stopPropagation(),a(()=>{this.tabOptionsButtonElement.focus()})}async componentWillLoad(){this.i18n=await u(this.root,c,"gux-tabs-advanced")}componentDidLoad(){this.tabTitle=this.root.querySelector("gux-tooltip-title").textContent.trim()}popoverOnClick(t){t.stopPropagation()}renderTabOptions(){return this.hasDropdownOptions?i("div",{class:"gux-tab-options"},i("gux-button-slot",{accent:"ghost"},i("button",{id:this.dropdownOptionsButtonId,"aria-expanded":(!this.popoverHidden).toString(),type:"button",class:"gux-tab-options-trigger",ref:t=>this.tabOptionsButtonElement=t,onClick:()=>this.toggleOptions(),tabIndex:this.active?0:-1,disabled:this.guxDisabled},i("gux-icon",{"icon-name":"fa/ellipsis-vertical-regular","screenreader-text":this.i18n("options",{tabTitle:this.tabTitle})}))),i("gux-popover-list",{position:"top-end",for:this.dropdownOptionsButtonId,displayDismissButton:!1,"is-open":!this.popoverHidden,closeOnClickOutside:!0,onGuxdismiss:()=>this.popoverHidden=!0,onClick:t=>this.popoverOnClick(t),onFocusout:t=>t.stopImmediatePropagation()},i("div",{class:"gux-dropdown-options-container",onClick:t=>this.onSelectDropdownOption(t)},i("slot",{name:"dropdown-options"})))):null}renderTabButton(){return i("button",{class:"gux-tab-button",type:"button",role:"tab",disabled:this.guxDisabled,"aria-selected":this.active.toString(),"aria-disabled":this.guxDisabled.toString(),"aria-controls":`gux-${this.tabId}-panel`,ref:t=>this.buttonElement=t,tabIndex:this.active?0:-1,id:`gux-${this.tabId}-tab`},i("gux-tooltip-title",{ref:t=>this.tooltipTitleElement=t},i("span",{class:"gux-tab-button-text"},i("slot",null))))}render(){return[i("div",{key:"3a7b1066539f003884c51d6d524ab48f83f92ee9",class:{"gux-tab":!0,"gux-selected":this.active,"gux-dropdown-options":this.hasDropdownOptions,"gux-disabled":this.guxDisabled}},i("div",{key:"fc0c2b977608ae6f165597f59ec1acb46a453dbd",class:"gux-buttons"},this.renderTabButton(),this.renderTabOptions()),i("div",{key:"3419ce52e9adef3199d889cb7882b2a64954591c",class:"gux-divider"}))]}get root(){return r(this)}};b.style=l;export{b as gux_tab_advanced};
