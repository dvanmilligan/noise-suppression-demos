import{r as b,f,b as m,h as i,H as y,g}from"./index-d9wy7qxQ.js";import{O as v}from"./on-resize-6a194a58-BSCEElUW.js";import{O as x}from"./on-mutation-1355c534-BWobL9kd.js";import{t as A}from"./usage-6129fffe-6kP8_2TX.js";import{g as c}from"./get-slot-c26d3ab0-DubcXBeV.js";import{a as S}from"./after-next-render-07a41f53-C_KTwidI.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";function d(t,e){[].concat(t).forEach(o=>{o!=null&&(o.accent=e)})}function s(t,...e){e.flat().filter(o=>o!==null&&!o.hasAttribute("icon-only")).forEach(o=>o.iconOnly=t)}const C=":host{position:relative;z-index:var(--gse-semantic-zIndex-sticky);display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;max-height:var(--gse-ui-dataTableItems-tableToolbar-height);opacity:0;animation-name:show-toolbar;animation-delay:0.5s;animation-fill-mode:forwards}@keyframes show-toolbar{to{opacity:1}}:host .search-filter-container{min-width:260px;padding-inline-end:var(--gse-ui-dataTableItems-tableToolbar-gap)}:host slot[name=search-and-filter]::slotted(*){display:flex;flex-direction:row;gap:var(--gse-ui-dataTableItems-tableToolbar-tableToolbarGroup-gap);align-content:flex-start;align-items:center}:host .section-spacing{display:flex;flex-direction:row;min-width:72px}:host .gux-contextual-permanent-primary{display:flex;flex-direction:row;justify-content:space-between;padding-left:var(--gse-ui-dataTableItems-tableToolbar-gap)}:host .gux-contextual-permanent-primary slot[name=permanent-actions]::slotted(*),:host .gux-contextual-permanent-primary slot[name=contextual-actions]::slotted(*){display:flex;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-dataTableItems-tableToolbar-tableToolbarGroup-gap);align-content:flex-end;align-items:center}:host .gux-contextual-permanent-primary .gux-contextual-wrapper{padding-right:var(--gse-ui-dataTableItems-tableToolbar-gap);border-right:var(--gse-ui-dataTableItems-tableToolbar-divider-width) solid var(--gse-ui-dataTableItems-tableToolbar-dividerColor)}:host .gux-contextual-permanent-primary .gux-permanent-menu-primary-wrapper{display:flex;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-dataTableItems-tableToolbar-tableToolbarGroup-gap);margin-left:var(--gse-ui-dataTableItems-tableToolbar-gap)}",T=C;var p=function(t,e,o,n){var r=arguments.length,a=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,o):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,o,n);else for(var u=t.length-1;u>=0;u--)(l=t[u])&&(a=(r<3?l(a):r>3?l(e,o,a):l(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};const h=class{constructor(t){b(this,t),this.minimumSizes={full:0,iconOnly:0,condensed:0},this.displayedLayout="full",this.hasContextDivider=!1}onMutation(){this.hasContextDivider=this.needsContextDivider(),f(this.root)}recordLayoutMinSize(){m(()=>{var t,e,o;const n=((t=this.searchAndFilterContainer)===null||t===void 0?void 0:t.clientWidth)|0,r=((e=this.actionsContainer)===null||e===void 0?void 0:e.clientWidth)|0,a=((o=this.minControlSize)===null||o===void 0?void 0:o.clientWidth)|0,l=n+r+a;this.minimumSizes[this.displayedLayout]=l})}get minControlSize(){return this.root.shadowRoot.querySelector(".section-spacing")}get actionsContainer(){return this.root.shadowRoot.querySelector(".gux-contextual-permanent-primary")}get searchAndFilterContainer(){return this.root.shadowRoot.querySelector(".search-filter-container")}get filterSlot(){return c(this.root,"search-and-filter")}get menuActionSlot(){return c(this.root,"menu-actions")}get permanentSlot(){return c(this.root,"permanent-actions")}get contextualSlot(){return c(this.root,"contextual-actions")}get primaryAction(){var t;return(t=this.root)===null||t===void 0?void 0:t.querySelector("gux-table-toolbar-custom-action[slot]")}get permanentActions(){var t,e;if(!((t=this.permanentSlot)===null||t===void 0)&&t.hasChildNodes)return Array.from((e=this.permanentSlot)===null||e===void 0?void 0:e.querySelectorAll("gux-table-toolbar-action, gux-table-toolbar-custom-action"))}get menuActionsItems(){var t,e;if(!((t=this.menuActionSlot)===null||t===void 0)&&t.hasChildNodes)return Array.from((e=this.menuActionSlot)===null||e===void 0?void 0:e.querySelectorAll("gux-table-toolbar-action, gux-table-toolbar-custom-action"))}get contextualActions(){var t,e;if(!((t=this.contextualSlot)===null||t===void 0)&&t.hasChildNodes)return Array.from((e=this.contextualSlot)===null||e===void 0?void 0:e.querySelectorAll("gux-table-toolbar-action, gux-table-toolbar-custom-action"))}get filterActions(){var t,e;if(!((t=this.filterSlot)===null||t===void 0)&&t.hasChildNodes)return Array.from((e=this.filterSlot)===null||e===void 0?void 0:e.querySelectorAll("gux-table-toolbar-action, gux-table-toolbar-custom-action"))}get allFilterContextual(){var t;return(t=this.filterActions)===null||t===void 0?void 0:t.concat(this.contextualActions)}needsContextDivider(){var t;return((t=this.contextualActions)===null||t===void 0?void 0:t.length)&&this.contextualSlot!==this.root.lastElementChild}renderMenu(){var t;return!!(!((t=this.menuActionsItems)===null||t===void 0)&&t.length||this.displayedLayout=="condensed")}renderFullLayout(){this.displayedLayout="full",s(!1,this.primaryAction,...this.allFilterContextual,...this.permanentActions)}renderIconOnlyLayoutScaleDown(){this.displayedLayout="iconOnly",s(!0,this.primaryAction,...this.allFilterContextual,...this.permanentActions)}renderIconOnlyLayoutScaleUp(){var t,e;this.displayedLayout="iconOnly",d(this.permanentActions,"secondary"),d(this.primaryAction,"primary"),s(!0,this.primaryAction,...this.allFilterContextual,...this.permanentActions),this.permanentActions&&((t=this.root)===null||t===void 0||t.appendChild(this.permanentSlot)),this.primaryAction&&((e=this.root)===null||e===void 0||e.appendChild(this.primaryAction))}renderCondensedLayout(){var t,e;this.displayedLayout="condensed",this.permanentActions&&((t=this.menuActionSlot)===null||t===void 0||t.appendChild(this.permanentSlot)),this.primaryAction&&((e=this.menuActionSlot)===null||e===void 0||e.appendChild(this.primaryAction)),s(!0,...this.allFilterContextual),s(!1,...this.permanentActions),s(!1,this.primaryAction),d(this.menuActionsItems,"ghost")}componentWillRender(){A(this.root),this.hasContextDivider=this.needsContextDivider()}componentDidLoad(){S(()=>{this.recordLayoutMinSize(),this.checkResponsiveLayout()}),d(this.menuActionsItems,"ghost")}componentDidUpdate(){this.recordLayoutMinSize(),this.checkResponsiveLayout()}checkResponsiveLayout(){m(()=>{const t=this.root.clientWidth;t<=this.minimumSizes.iconOnly?this.displayedLayout=="iconOnly"&&this.renderCondensedLayout():t<=this.minimumSizes.full?this.displayedLayout=="full"?this.renderIconOnlyLayoutScaleDown():this.displayedLayout=="condensed"&&this.renderIconOnlyLayoutScaleUp():this.minimumSizes.iconOnly>this.minimumSizes.full?this.renderIconOnlyLayoutScaleUp():this.renderFullLayout()})}render(){return i(y,{key:"d1c4434e5b754eca288fe61d3e9531a7c6cf371b",role:"toolbar","aria-orientation":"horizontal"},i("div",{key:"1a543ffbf6272c1fa1af4dfb49845a0bfec4a1fe",class:"search-filter-container"},i("slot",{key:"26b8a9173d5a99b8ab2b34297ceab82b9ffa03fc",name:"search-and-filter"})),i("div",{key:"c993e9a724d3de0a667a566dc623382de13ce7f7",class:"section-spacing"}),i("div",{key:"9950ec0352c7cd5a5b9ee22e3bc835d86e3f6fe8",class:"gux-contextual-permanent-primary"},i("div",{key:"bdb59571c2bc4c2436d61ef5f84ab82bb0b7b0fa",class:{"gux-contextual-wrapper":this.hasContextDivider}},i("slot",{key:"c1fd94e78455d40bae1adabcc1137a93a8f4b81a",name:"contextual-actions"})),i("div",{key:"9c77fe6b83e12971b0066eb1caba31c51cef5842",class:"gux-permanent-menu-primary-wrapper"},i("slot",{key:"213eb348929629d37ec0c6be842eb8a35d4cdb1f",name:"permanent-actions"}),i("gux-table-toolbar-menu-button",{key:"c958792dda4d380ece1a13286509e2f5611947f1","show-menu":this.renderMenu()},i("slot",{key:"ba7b6b6177c42a660be2f601d0ad141d35d3c45f",name:"menu-actions"})),i("slot",{key:"fbb706b0508ff64295a1bf1447fe35f712e310da",name:"primary-action"}))))}get root(){return g(this)}};p([x({childList:!0,subtree:!0})],h.prototype,"onMutation",null);p([v()],h.prototype,"checkResponsiveLayout",null);h.style=T;export{h as gux_table_toolbar};
