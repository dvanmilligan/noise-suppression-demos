import{r as u,b,w as l,h as i,g}from"./index-d9wy7qxQ.js";import{a as d}from"./after-next-render-07a41f53-C_KTwidI.js";import{b as f}from"./index-3f1e5ba8-CvJZzdvG.js";import{O as x}from"./on-mutation-1355c534-BWobL9kd.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-728b9f18-C_5KDHD-.js";const S="Scroll Left",v="Scroll Right",w="Scroll Up",m="Scroll Down",p={scrollLeft:S,scrollRight:v,scrollUp:w,scrollDown:m},T="gux-tabs[orientation=vertical]{height:100%}gux-tabs[orientation=vertical]>gux-tab-list .gux-tab-container{display:flex;flex-direction:column;width:var(--gse-ui-tabs-set-vertical-width);height:100%;margin-right:var(--gse-ui-tabs-set-vertical-marginRight);border-right:var(--gse-ui-tabs-item-divider-horizontal-height) solid var(--gse-ui-tabs-item-divider-dividerColor)}gux-tabs[orientation=vertical]>gux-tab-list .gux-tab-container .gux-scroll-button-container{width:100%}gux-tabs[orientation=vertical]>gux-tab-list .gux-tab-container .gux-scroll-button-container button{width:100%}gux-tabs[orientation=vertical]>gux-tab-list .gux-tab-container .gux-scrollable-section{flex-direction:column;height:100%;overflow-y:auto;scrollbar-width:none;-ms-overflow-style:none;scroll-behavior:smooth}gux-tabs[orientation=vertical]>gux-tab-list .gux-tab-container .gux-scrollable-section::-webkit-scrollbar{width:0;height:0}gux-tabs:not([orientation=vertical])>gux-tab-list .gux-tab-container{height:var(--gse-ui-tabs-set-horizontal-height);margin-bottom:var(--gse-ui-tabs-set-horizontal-marginBottom);border-bottom:var(--gse-ui-tabs-item-divider-horizontal-height) solid var(--gse-ui-tabs-item-divider-dividerColor)}gux-tabs:not([orientation=vertical])>gux-tab-list .gux-scrollable-section{overflow-x:auto}gux-tabs .gux-tab-container{box-sizing:content-box;display:flex;width:100%;overflow:hidden hidden;background-color:transparent}gux-tabs .gux-scrollable-section{display:flex;flex:1 1 auto;scroll-behavior:smooth;scrollbar-width:none}gux-tabs .gux-scrollable-section::-webkit-scrollbar{height:0}gux-tabs .gux-scroll-button-container{display:flex;border-radius:4px}gux-tabs .gux-scroll-button-container .gux-scroll-button{display:flex;align-items:center;justify-content:center;width:28px;height:40px;color:#202937;cursor:pointer;background-color:#e2e6ee;border:none;border-radius:4px}gux-tabs .gux-scroll-button-container .gux-scroll-button gux-icon{width:16px;height:16px}gux-tabs .gux-scroll-button-container .gux-scroll-button:hover:not(:disabled){background-color:#d7dce5}gux-tabs .gux-scroll-button-container .gux-scroll-button:active:not(:disabled){background-color:#d2d8e5}gux-tabs .gux-scroll-button-container .gux-scroll-button:disabled{cursor:default;opacity:0.5}",y=T;var k=function(t,r,e,o){var c=arguments.length,s=c<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,e):o,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,r,e,o);else for(var n=t.length-1;n>=0;n--)(a=t[n])&&(s=(c<3?a(s):c>3?a(r,e,s):a(r,e))||s);return c>3&&s&&Object.defineProperty(r,e,s),s};const h=class{constructor(t){u(this,t),this.currentScrollIndex=0,this.focused=0,this.tabTriggers=void 0,this.hasHorizontalScrollbar=!1,this.hasVerticalScrollbar=!1,this.isScrolledToBeginning=!1,this.isScrolledToEnd=!1}onFocusout(t){this.root.contains(t.relatedTarget)||this.tabTriggers.forEach((r,e)=>{r.guxGetActive().then(o=>{o?this.focused=e:r.querySelector("button").setAttribute("tabindex","-1")})})}onHasVerticalScrollBar(){this.checkDisabledScrollButtons()}onScroll(){this.checkDisabledScrollButtons()}onKeydown(t){switch(t.key){case"ArrowRight":case"ArrowDown":t.preventDefault(),this.handleKeyboardScroll("forward");break;case"ArrowLeft":case"ArrowUp":t.preventDefault(),this.handleKeyboardScroll("backward");break;case"Escape":t.preventDefault(),this.focusTab(this.focused);break;case"Home":t.preventDefault(),this.focusTab(0);break;case"End":t.preventDefault(),this.focusTab(this.tabTriggers.length-1);break}}onMutation(){this.setTabTriggers()}async guxSetActive(t){this.tabTriggers.forEach((r,e)=>{const o=r.tabId===t;r.guxSetActive(o),o&&(this.focused=e)})}focusTab(t){this.focused=t,this.tabTriggers.forEach((r,e)=>{r.guxGetActive().then(o=>{this.focused!==e&&!o&&r.querySelector("button").setAttribute("tabindex","-1")})}),this.tabTriggers[this.focused].querySelector("button").setAttribute("tabindex","0"),this.tabTriggers[this.focused].guxFocus()}setTabTriggers(){this.tabTriggers=this.root.querySelectorAll("gux-tab"),this.tabTriggers?this.triggerIds=Array.from(this.tabTriggers).map(t=>`gux-${t.getAttribute("tab-id")}-tab`).join(" "):this.triggerIds=""}checkForScrollbarHideOrShow(){b(()=>{const t=this.root.querySelector(".gux-scrollable-section"),r=t.clientWidth<t.scrollWidth,e=t.clientHeight<t.scrollHeight;r!==this.hasHorizontalScrollbar&&(this.hasHorizontalScrollbar=r),e!==this.hasVerticalScrollbar&&(this.hasVerticalScrollbar=e),this.checkDisabledScrollButtons()})}handleKeyboardScroll(t){const r=this.root.querySelector(".gux-scrollable-section");t==="forward"?this.focused<this.tabTriggers.length-1?(l(()=>{this.hasHorizontalScrollbar?this.scrollRight():this.scrollDown()}),this.focusTab(this.focused+1)):(l(()=>{this.hasHorizontalScrollbar?r.scrollBy(-r.scrollWidth,0):r.scrollBy(0,-r.scrollHeight)}),this.focusTab(0)):t==="backward"&&(this.focused>0?(l(()=>{this.hasHorizontalScrollbar?this.scrollLeft():this.scrollUp()}),this.focusTab(this.focused-1)):(l(()=>{this.hasHorizontalScrollbar?r.scrollBy(r.scrollWidth,0):r.scrollBy(0,r.scrollHeight)}),this.focusTab(this.tabTriggers.length-1)))}disconnectedCallback(){this.resizeObserver&&this.resizeObserver.unobserve(this.root.querySelector(".gux-tab-container")),this.domObserver&&this.domObserver.disconnect()}async componentWillLoad(){this.setTabTriggers(),this.i18n=await f(this.root,p,"gux-tabs")}componentDidLoad(){!this.resizeObserver&&window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>this.checkForScrollbarHideOrShow())),this.resizeObserver&&this.resizeObserver.observe(this.root.querySelector(".gux-scrollable-section")),!this.domObserver&&window.MutationObserver&&(this.domObserver=new MutationObserver(()=>this.checkForScrollbarHideOrShow())),this.domObserver&&this.domObserver.observe(this.root,{childList:!0,attributes:!1,subtree:!0}),d(()=>{this.checkForScrollbarHideOrShow()},500)}checkDisabledScrollButtons(){const t=this.root.querySelector(".gux-scrollable-section");if(this.hasHorizontalScrollbar){const r=t.scrollLeft,e=t.scrollWidth-t.clientWidth;this.isScrolledToBeginning=r===0,this.isScrolledToEnd=e-r===0}else{const r=t.scrollTop,e=t.scrollHeight-t.clientHeight;this.isScrolledToBeginning=r===0,this.isScrolledToEnd=e-r===0}}getTabLength(){var t;return(t=this.tabTriggers[this.currentScrollIndex])===null||t===void 0?void 0:t.scrollWidth}scrollLeft(){l(()=>{this.isScrolledToEnd?this.currentScrollIndex=this.tabTriggers.length-1:this.currentScrollIndex=this.currentScrollIndex-1,this.root.querySelector(".gux-scrollable-section").scrollBy(-this.getTabLength(),0)})}scrollRight(){l(()=>{this.isScrolledToBeginning&&(this.currentScrollIndex=0),this.root.querySelector(".gux-scrollable-section").scrollBy(this.getTabLength(),0),this.currentScrollIndex=this.currentScrollIndex+1})}scrollUp(){l(()=>{this.root.querySelector(".gux-scrollable-section").scrollBy(0,-this.tabTriggers[this.focused].clientHeight)})}scrollDown(){l(()=>{this.root.querySelector(".gux-scrollable-section").scrollBy(0,this.tabTriggers[this.focused].clientHeight)})}render(){return i("div",{key:"f240a601d645531207224a32f42434324eb9ede9",class:"gux-tab-container"},this.hasHorizontalScrollbar?this.renderScrollButton("scrollLeft"):this.renderScrollButton("scrollUp"),i("div",{key:"04a8d762028cff1d8c9762de0d3c80bec6cc1f11",role:"tablist",class:"gux-scrollable-section","aria-owns":this.triggerIds},i("slot",{key:"70310af6d2c67f99ceb9750b987a71cf877a89c7"})),this.hasHorizontalScrollbar?this.renderScrollButton("scrollRight"):this.renderScrollButton("scrollDown"))}renderScrollButton(t){return i("div",{class:"gux-scroll-button-container"},this.hasHorizontalScrollbar||this.hasVerticalScrollbar?i("button",{disabled:this.getButtonDisabled(t),tabindex:"-1",title:this.i18n(t),"aria-label":this.i18n(t),class:"gux-scroll-button",onClick:()=>this.getScrollDirection(t)},i("gux-icon",{"icon-name":this.getChevronIconName(t),decorative:!0})):null)}getButtonDisabled(t){switch(t){case"scrollLeft":case"scrollUp":return this.isScrolledToBeginning;case"scrollRight":case"scrollDown":return this.isScrolledToEnd}}getScrollDirection(t){switch(t){case"scrollLeft":this.scrollLeft();break;case"scrollRight":this.scrollRight();break;case"scrollUp":this.scrollUp();break;case"scrollDown":this.scrollDown()}}getChevronIconName(t){switch(t){case"scrollLeft":return"custom/chevron-left-small-regular";case"scrollRight":return"custom/chevron-right-small-regular";case"scrollUp":return"custom/chevron-up-small-regular";case"scrollDown":return"custom/chevron-down-small-regular"}}get root(){return g(this)}};k([x({childList:!0,subtree:!0})],h.prototype,"onMutation",null);h.style=y;export{h as gux_tab_list};
