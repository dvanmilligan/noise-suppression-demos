import{r as l,h as t,H as p,g as b}from"./index-d9wy7qxQ.js";import{t as f}from"./usage-6129fffe-6kP8_2TX.js";import{O as h}from"./on-click-outside-21dd269e-C4O7qXsf.js";import{b as m}from"./index-3f1e5ba8-CvJZzdvG.js";import{b as d}from"./after-next-render-07a41f53-C_KTwidI.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-728b9f18-C_5KDHD-.js";const g="Additional Actions",x={additionalActions:g},w=":host{display:none;-webkit-user-select:none;user-select:none}:host(.gux-show-menu){display:block}.gux-menu-button button{color:var(--gse-ui-button-secondary-default-foregroundColor);cursor:grab;background-color:var(--gse-ui-button-secondary-default-backgroundColor);border:none}.gux-menu-button button gux-icon{width:var(--gse-ui-icon-size-sm);height:var(--gse-ui-icon-size-sm)}.gux-list-container{width:min-content;margin:0;overflow-y:auto;background:var(--gse-ui-menu-backgroundColor);border-color:var(--gse-ui-menu-border-color);border-style:var(--gse-ui-menu-border-style);border-width:var(--gse-ui-menu-border-width);border-radius:var(--gse-ui-menu-borderRadius);box-shadow:var(--gse-ui-menu-boxShadow-x) var(--gse-ui-menu-boxShadow-y) var(--gse-ui-menu-boxShadow-blur) var(--gse-ui-menu-boxShadow-spread) var(--gse-ui-menu-boxShadow-color)}",y=w;var k=function(e,o,n,i){var a=arguments.length,s=a<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,n):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,o,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(s=(a<3?r(s):a>3?r(o,n,s):r(o,n))||s);return a>3&&s&&Object.defineProperty(o,n,s),s};const c=class{constructor(e){l(this,e),this.showMenu=void 0,this.expanded=!1}handleKeyDown(e){const o=e.composedPath();switch(e.key){case"Escape":this.expanded=!1,o.includes(this.listElement)&&(e.preventDefault(),this.dropdownButton.focus());break;case"Tab":{this.expanded=!1;break}case"ArrowDown":case"Enter":o.includes(this.dropdownButton)&&(e.preventDefault(),this.expanded=!0,this.focusFirstItemInPopupList());break}}handleKeyup(e){switch(e.key){case" ":{e.composedPath().includes(this.dropdownButton)&&(this.expanded=!0,this.focusFirstItemInPopupList());break}}}onFocusin(){this.tooltipTitleElement.setShowTooltip()}onFocusout(){this.tooltipTitleElement.setHideTooltip()}toggle(){this.expanded=!this.expanded,this.expanded&&this.focusPopupList()}onClickOutside(){this.expanded=!1}focusPopupList(){d(()=>{this.listElement.focus()})}focusFirstItemInPopupList(){d(()=>{this.listElement.guxFocusFirstItem()})}async componentWillLoad(){this.i18n=await m(this.root,x),f(this.root)}render(){return t(p,{key:"9593ab8e0302342d238e8000cf61c7df5aa21cf5",class:{"gux-show-menu":this.showMenu}},t("gux-popup",{key:"0fbec5a432cbe566dd5cbe4e85e6b051e81fd8c7",expanded:this.expanded,"exceed-target-width":!0},t("div",{key:"1555037d421df1c55825288d7a004cd8188b79b6",slot:"target",class:"gux-toolbar-menu-container"},t("gux-button-slot",{key:"8fcb1bfe7097bd82e1626c05d2e0e1124379011c",class:"gux-menu-button"},t("button",{key:"8d5567993e8c0565cf184fb1700eafaa5d8e2886",type:"button",ref:e=>this.dropdownButton=e,onMouseUp:()=>this.toggle(),"aria-haspopup":"true","aria-expanded":this.expanded.toString()},t("gux-tooltip-title",{key:"53924cfc91ea916e6c7f424494fae107e2ac88d3",ref:e=>this.tooltipTitleElement=e},t("span",{key:"daeea057279d329e2f42a1f8fe64cf0e7f0b932f"},t("gux-icon",{key:"5400afada7f855a06743c435c57c07ba817be4d1","screenreader-text":this.i18n("additionalActions"),"icon-name":"fa/ellipsis-regular"})))))),t("div",{key:"b7ab60f1d9979d53aa7359ca6a5ce45898b40edd",class:"gux-list-container",slot:"popup"},t("gux-list",{key:"3192a468440cfcd745bf8286675081465e114588",ref:e=>this.listElement=e},t("slot",{key:"e2fba3e01b27ae63f322da4ba81068026fb33077"})))))}static get delegatesFocus(){return!0}get root(){return b(this)}};k([h({triggerEvents:"mousedown"})],c.prototype,"onClickOutside",null);c.style=y;export{c as gux_table_toolbar_menu_button};
