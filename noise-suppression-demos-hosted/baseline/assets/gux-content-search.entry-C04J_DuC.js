import{r as n,c as o,h as t,g as i}from"./index-d9wy7qxQ.js";import{t as r}from"./usage-6129fffe-6kP8_2TX.js";import{b as a}from"./index-3f1e5ba8-CvJZzdvG.js";import{a as s}from"./on-attribute-change-f42eabee-B5v87GNV.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-728b9f18-C_5KDHD-.js";const u="Clear search text",c="Highlight next match",l="Highlight previous match",g="{currentMatch, number} of {matchCount, number}",d="Clear",h={eraseBtnAria:u,navigateNextBtn:c,navigatePreviousBtn:l,totalMatches:g,clear:d},b=":host{display:inline-block;width:300px;min-width:300px}::slotted(input[disabled]){opacity:var(--gse-ui-formControl-input-disabled-opacity)}::slotted(input){box-sizing:border-box;flex-basis:100%;flex-shrink:1;width:100%;min-width:20px;overflow:hidden;font-family:var(--gse-ui-search-counter-text-fontFamily);font-size:var(--gse-ui-search-counter-text-fontSize);font-weight:var(--gse-ui-search-counter-text-fontWeight);line-height:var(--gse-ui-search-counter-text-lineHeight);color:var(--gse-ui-formControl-input-populatedColor);text-overflow:ellipsis;white-space:nowrap;background-image:none;border:0;border-radius:0;outline:none}::slotted(input)::placeholder{color:var(--gse-ui-formControl-input-populatedColor)}::slotted(input).gux-focused,::slotted(input):focus,::slotted(input):focus-visible{border:0;outline:none;box-shadow:none}.gux-content-search{box-sizing:border-box;display:flex;flex-direction:row;gap:var(--gse-ui-formControl-input-gap);width:100%;height:var(--gse-ui-formControl-input-textfield-height);padding:var(--gse-ui-formControl-textarea-padding);background-color:var(--gse-ui-formControl-input-backgroundColor);background-image:none;border:var(--gse-ui-formControl-input-default-border-width) var(--gse-ui-formControl-input-default-border-style) var(--gse-ui-formControl-input-default-border-color);border-radius:var(--gse-ui-formControl-input-borderRadius)}.gux-content-search gux-truncate{display:flex;align-items:center}.gux-content-search.gux-disabled{pointer-events:none;cursor:default;opacity:var(--gse-ui-formControl-input-disabled-opacity)}.gux-content-search:focus-visible,.gux-content-search:focus-within{border:var(--gse-ui-formControl-input-active-border-width) var(--gse-ui-formControl-input-active-border-style) var(--gse-ui-formControl-input-active-border-color);border-radius:var(--gse-ui-formControl-focusRing-borderRadius);outline:var(--gse-ui-formControl-input-focus-border-width) var(--gse-ui-formControl-input-focus-border-style) var(--gse-ui-formControl-input-focus-border-color);outline-offset:var(--gse-semantic-focusRing-offset)}.gux-content-search:not(:disabled):not(.gux-disabled):hover{border:var(--gse-ui-formControl-input-hover-border-width) var(--gse-ui-formControl-input-hover-border-style) var(--gse-ui-formControl-input-hover-border-color)}.gux-content-search .gux-search-icon{display:flex;flex-shrink:0;align-items:center}.gux-content-search .gux-search-icon:disabled{pointer-events:none;cursor:default;opacity:var(--gse-ui-formControl-input-disabled-opacity)}.gux-content-search .gux-search-icon gux-icon{width:var(--gse-ui-search-counter-icon-width);height:var(--gse-ui-search-counter-icon-height);color:var(--gse-ui-formControl-input-inputIcon-defaultColor)}.gux-content-search .gux-content-control-panel{box-sizing:border-box;display:flex;flex-grow:1;flex-shrink:0;gap:var(--gse-ui-formControl-input-gap);place-content:center flex-end;align-items:center;padding:0}.gux-content-search .gux-content-control-panel gux-icon{width:var(--gse-ui-icon-size-sm);height:var(--gse-ui-icon-size-sm)}.gux-content-search .gux-content-control-panel button{display:block;align-items:center;height:var(--gse-ui-search-counter-icon-height);padding:0;overflow:hidden;color:var(--gse-ui-search-counter-default-foregroundColor);cursor:pointer;background:none;border:none;border-radius:var(--gse-ui-button-borderRadius);outline:none}.gux-content-search .gux-content-control-panel button:disabled{pointer-events:none;cursor:default;opacity:var(--gse-ui-formControl-input-disabled-opacity)}.gux-content-search .gux-content-control-panel button:not(:disabled):hover,.gux-content-search .gux-content-control-panel button:not(:disabled):focus-visible{color:var(--gse-ui-search-counter-hover-foregroundColor)}.gux-content-search .gux-content-control-panel button:not(.gux-clear-button):focus-visible:enabled{outline:var(--gse-semantic-focusRing-default-border-color) var(--gse-semantic-focusRing-default-border-style) var(--gse-semantic-focusRing-default-border-width);outline-offset:var(--gse-semantic-focusRing-offset)}.gux-content-search .gux-content-control-panel button.gux-clear-button{flex-shrink:0;align-items:center}.gux-content-search .gux-content-control-panel button.gux-clear-button gux-icon{width:var(--gse-ui-icon-size-sm);height:var(--gse-ui-icon-size-sm)}.gux-content-search .gux-content-control-panel .gux-navigation-disabled{pointer-events:auto;cursor:default;opacity:var(--gse-ui-formControl-input-disabled-opacity)}.gux-content-search .gux-content-control-panel .gux-navigation-panel{display:flex;gap:var(--gse-ui-search-counter-gap);align-items:center}.gux-content-search .gux-content-control-panel .gux-navigation-panel .gux-navigation-divider{box-sizing:border-box;align-self:center;height:16px;color:var(--gse-ui-search-counter-default-foregroundColor);border:1px var(--gse-ui-search-counter-divider-border-style) var(--gse-ui-search-counter-divider-border-color)}.gux-content-search .gux-content-control-panel .gux-navigation-panel .gux-navigation-buttons{display:flex;flex-direction:row}.gux-content-search .gux-content-control-panel .gux-navigation-panel .gux-navigation-result{align-items:center;color:var(--gse-ui-search-counter-default-foregroundColor);white-space:nowrap}.gux-content-search .gux-content-control-panel .gux-navigation-panel .gux-previous-button{flex-shrink:0;align-items:center}.gux-content-search .gux-content-control-panel .gux-navigation-panel .gux-next-button{flex-shrink:0;align-items:center}",p=b,v=class{constructor(e){n(this,e),this.guxcurrentmatchchanged=o(this,"guxcurrentmatchchanged",7),this.matchCount=0,this.currentMatch=0,this.disabled=void 0,this.value=void 0}async clear(){this.disabled||(this.matchCount=0,this.currentMatch=0,this.value="",this.resetInputSlottedElement(),this.emitCurrentMatchChanged(),this.inputSlottedElement.focus())}async componentWillLoad(){r(this.root),this.i18n=await a(this.root,h),this.inputSlottedElement=this.root.querySelector("input"),this.disabled=this.inputSlottedElement.disabled,this.value=this.inputSlottedElement.value,this.disabledObserver=s(this.inputSlottedElement,e=>{this.disabled=e}),this.inputSlottedElement.addEventListener("input",e=>this.onInput(e))}disconnectedCallback(){this.disabledObserver&&this.disabledObserver.disconnect()}render(){return t("div",{key:"486f3b73154fa3ab5fdbc2b08a3814b2963f9e2a",class:{"gux-content-search":!0,"gux-disabled":this.disabled}},t("div",{key:"5e763b1f39a341e0cfa6f3b37b1fdf91680ff1be",class:"gux-search-icon"},t("gux-icon",{key:"cdabebb4eff1a8c9d4aacaae16d81a2681ec8910",decorative:!0,"icon-name":"fa/magnifying-glass-regular"})),t("slot",{key:"7e60dd512c15f41dd2256da0a776cd42945e645b"}),this.getNavigationPanel())}getNavigationPanel(){if(this.showNavigationPanel()){const e=this.disableNavigationPanel();return t("div",{class:"gux-content-control-panel"},t("div",{class:{"gux-navigation-panel":!0,"gux-navigation-disabled":e},"aria-disabled":e.toString()},t("span",{class:{"gux-navigation-result":!0,"gux-navigation-result-disabled":e}},this.matchCountResult()),t("div",{class:"gux-navigation-buttons"},t("button",{type:"button",class:"gux-previous-button",title:this.i18n("navigatePreviousBtn"),"aria-label":this.i18n("navigatePreviousBtn"),onClick:()=>this.previousClick(),disabled:e},t("gux-icon",{decorative:!0,"icon-name":"fa/caret-up-solid"})),t("button",{type:"button",class:"gux-next-button",title:this.i18n("navigateNextBtn"),"aria-label":this.i18n("navigateNextBtn"),onClick:()=>this.nextClick(),disabled:e},t("gux-icon",{decorative:!0,"icon-name":"fa/caret-down-solid"}))),t("div",{class:"gux-navigation-divider"})),t("button",{class:"gux-clear-button",tabIndex:-1,type:"button",title:this.i18n("clear"),onClick:()=>void this.clear(),disabled:e},t("gux-icon",{"icon-name":"fa/xmark-large-regular",decorative:!0})))}return null}matchCountResult(){return this.i18n("totalMatches",{currentMatch:this.getNormalizedCurrentMatch(),matchCount:this.getNormalizedMatchCount()})}showNavigationPanel(){return this.value!==""}disableNavigationPanel(){return this.disabled||this.getNormalizedMatchCount()<=0}getNormalizedMatchCount(){return this.matchCount&&Number.isInteger(this.matchCount)&&this.matchCount>=0?Number(this.matchCount):0}getNormalizedCurrentMatch(){return this.currentMatch&&Number.isInteger(this.currentMatch)&&this.currentMatch>=0&&this.currentMatch<=this.getNormalizedMatchCount()&&this.getNormalizedMatchCount()>0?Number(this.currentMatch):0}resetInputSlottedElement(){this.inputSlottedElement.value="",this.inputSlottedElement.dispatchEvent(new InputEvent("input",{bubbles:!0,cancelable:!0})),this.inputSlottedElement.dispatchEvent(new InputEvent("change",{bubbles:!0}))}nextClick(){this.disableNavigationPanel()||(this.getNormalizedCurrentMatch()===this.getNormalizedMatchCount()?this.currentMatch=1:this.currentMatch=this.getNormalizedCurrentMatch()+1,this.emitCurrentMatchChanged())}previousClick(){this.disableNavigationPanel()||(this.getNormalizedCurrentMatch()===1||this.getNormalizedCurrentMatch()===0?this.currentMatch=this.getNormalizedMatchCount():this.currentMatch=this.getNormalizedCurrentMatch()-1,this.emitCurrentMatchChanged())}onInput(e){this.value=e.target.value}emitCurrentMatchChanged(){this.guxcurrentmatchchanged.emit(this.getNormalizedCurrentMatch())}get root(){return i(this)}};v.style=p;export{v as gux_content_search};
