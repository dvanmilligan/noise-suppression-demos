import{r as f,f as v,h as o,g as h,c as C}from"./index-RhTaIPoL.js";import{b as g}from"./index-Bbwiw1Rf-CzeU2kBB.js";import{c as y,o as w}from"./on-input-disabled-state-change-Cb3FOYGS-_B452ZSd.js";import{O as k}from"./on-mutation-D5H4nH4U-CeToMEmQ.js";import{o as I}from"./on-attribute-change-De1NnCmO-C8j0fVsi.js";import{p as O}from"./prevent-browser-validation-styling-PYfNAK8p-8P9I4Sy5.js";import{h as c,c as T,g as E,v as P,a as F,e as d}from"./gux-form-field.service-Nq3AAQGS-Db9x5865.js";import{s as p}from"./simulate-native-event-BMRf5pjV-BcLDngo1.js";import{h as u}from"./has-slot-qzV3vtOw-D7GdaS0G.js";import{G as z,a as L}from"./gux-form-field-error-Dyi3YXR2-iLJZN6dq.js";import{G as S,a as D}from"./gux-form-field-container-C1Au1mHW-CoCMVxfO.js";import{t as b}from"./usage-BYFiy2rf-lhiVWKSr.js";import{f as q}from"./focus-input-element-JHLuJ8Pb-hXwZ4F3C.js";import{t as B}from"./en-BFMPPR7N-CBlnQyQP.js";import{O as _}from"./on-click-outside-C-8pG9cs-6YGsTWW7.js";import{b as R}from"./after-next-render-Bg4q97BS-C_KTwidI.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-Cd4R0amv-C_5KDHD-.js";import"./random-html-id-D9jKBqIb-D30kRngR.js";import"./log-error-DxtJDeL9-5foDqi4E.js";const H="Increment",j="Decrement";var G={increment:H,decrement:j};const N=".gux-form-field-container{display:flex;flex-direction:column}.gux-form-field-container.gux-beside{flex-direction:row}.gux-character-counter{display:grid;grid-template-rows:auto auto auto;grid-template-columns:1fr 1fr}.gux-character-counter :nth-child(1){grid-row:1/2;grid-column:2/3}.gux-character-counter :nth-child(2){grid-row:1/2;grid-column:1/2}.gux-character-counter :nth-child(3){grid-row:2/3;grid-column:1/-1}.gux-character-counter :nth-child(4){grid-row:3/4;grid-column:1/-1}.gux-character-counter.gux-beside{grid-template-columns:min-content 1fr}.gux-character-counter.gux-beside :nth-child(1){grid-row:1/2;grid-column:1/-1}.gux-character-counter.gux-beside :nth-child(2){grid-row:2/3;grid-column:1/2}.gux-character-counter.gux-beside :nth-child(3){grid-row:2/3;grid-column:2/3}.gux-character-counter.gux-beside :nth-child(4){grid-row:3/4;grid-column:1/-1}.gux-form-field-error{display:none;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-formControl-helper-gap);place-content:stretch flex-start;padding:var(--gse-ui-formControl-helper-errorPadding);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error.gux-show{display:flex}.gux-form-field-error gux-icon{flex:0 0 auto;order:0;color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error .gux-message{flex:0 1 auto;align-self:auto;order:0}.gux-form-field-label{display:inline-flex;flex:1 0 auto}.gux-form-field-label ::slotted(label){min-inline-size:0}.gux-form-field-label ::slotted(gux-label-info-beta){padding-inline-start:var(--gse-ui-formControl-formField-gap)}.gux-form-field-label.gux-beside{position:relative;inset-block-start:var(--gse-ui-formControl-input-top);inline-size:fit-content;min-inline-size:var(--gse-ui-formControl-input-textfield-minWidth);max-inline-size:fit-content;margin-inline-end:var(--gse-ui-formControl-group-gapItems)}.gux-form-field-label.gux-above{padding-block-end:var(--gse-ui-formControl-formField-gap)}.gux-form-field-label.gux-screenreader{position:absolute;top:auto;left:-10000px;width:1px;height:1px;overflow:hidden}.gux-form-field-help{display:none;flex-direction:row;flex-wrap:nowrap;place-content:stretch flex-start;align-items:flex-start;justify-content:flex-start;padding-block-start:var(--gse-ui-formControl-formField-gap);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-defaultColor)}.gux-form-field-help.gux-show{display:flex}.gux-form-field-help .gux-message{flex:0 1 auto;align-self:none;order:0}:host{display:block}::slotted(label){font-family:var(--gse-ui-formControl-label-textBold-fontFamily);font-size:var(--gse-ui-formControl-label-textBold-fontSize);font-weight:var(--gse-ui-formControl-label-textBold-fontWeight);line-height:var(--gse-ui-formControl-label-textBold-lineHeight);color:var(--gse-ui-formControl-label-labelColor)}::slotted(input){flex:1 1 auto;align-self:auto;order:0;inline-size:100%;padding-block-end:0;overflow:hidden;text-overflow:ellipsis;font-family:var(--gse-ui-formControl-input-contentText-fontFamily);font-size:var(--gse-ui-formControl-input-contentText-fontSize);font-weight:var(--gse-ui-formControl-input-contentText-fontWeight);line-height:var(--gse-ui-formControl-input-contentText-lineHeight);color:var(--gse-ui-formControl-input-populatedColor);text-align:var(--gux-text-align, end);outline:none;background-color:var(--gse-ui-formControl-input-backgroundColor);border:none}::slotted(input)::placeholder{color:var(--gse-ui-formControl-input-placeholderColor);opacity:1}.gux-input-and-error-container{flex-grow:1}.gux-input-and-error-container .gux-input{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:stretch;align-items:center;inline-size:100%}.gux-input-and-error-container .gux-input .gux-input-container{box-sizing:border-box;display:flex;flex:1 1 auto;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-formControl-input-gap);place-content:stretch center;align-items:center;align-self:auto;order:0;inline-size:100%;block-size:var(--gse-ui-formControl-input-textfield-height);padding:var(--gse-ui-formControl-input-padding);font-family:var(--gse-ui-formControl-input-contentText-fontFamily);font-size:var(--gse-ui-formControl-input-contentText-fontSize);line-height:var(--gse-ui-formControl-input-contentText-lineHeight);color:var(--gse-ui-formControl-input-populatedColor);cursor:text;background-color:var(--gse-ui-formControl-input-backgroundColor);background-image:none;border:var(--gse-ui-formControl-input-default-border-width) var(--gse-ui-formControl-input-default-border-style) var(--gse-ui-formControl-input-default-border-color);border-radius:var(--gse-ui-formControl-input-borderRadius)}.gux-input-and-error-container .gux-input .gux-input-container.gux-disabled{cursor:default;opacity:var(--gse-ui-formControl-input-disabled-opacity)}.gux-input-and-error-container .gux-input .gux-input-container:focus-within{outline:var(--gse-ui-formControl-input-focus-border-width) var(--gse-ui-formControl-input-focus-border-style) var(--gse-ui-formControl-input-focus-border-color);outline-offset:var(--gse-semantic-focusOutline-offset);border:var(--gse-ui-formControl-input-active-border-width) var(--gse-ui-formControl-input-active-border-style) var(--gse-ui-formControl-input-active-border-color);border-radius:var(--gse-ui-formControl-focusRing-borderRadius)}.gux-input-and-error-container .gux-input.gux-input-error .gux-input-container{border-color:var(--gse-ui-formControl-input-error-border-color)}.gux-step-buttons-container{flex:0 1 14px;align-self:auto;order:0;margin-inline-start:var(--gse-ui-formControl-spinButton-gap)}.gux-step-buttons-container .gux-step-button{display:flex;flex:0 1 auto;align-items:center;align-self:auto;justify-content:center;order:0;padding:0;color:var(--gse-ui-formControl-input-inputIcon-defaultColor);background:transparent;border:var(--gse-ui-formControl-input-default-border-width) var(--gse-ui-formControl-input-default-border-style) transparent}.gux-step-buttons-container .gux-step-button:not(:disabled):focus-visible,.gux-step-buttons-container .gux-step-button:not(:disabled):hover{cursor:pointer;border:var(--gse-ui-formControl-input-hover-border-width) var(--gse-ui-formControl-input-hover-border-style) var(--gse-ui-formControl-input-hover-border-color)}.gux-step-buttons-container .gux-step-button:disabled{opacity:var(--gse-ui-formControl-input-disabled-opacity)}.gux-step-buttons-container .gux-step-button gux-icon{flex:0 0 auto;inline-size:14px;block-size:14px}";var V=function(e,t,i,n){var a=arguments.length,r=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};const m=class{constructor(e){f(this,e),this.indicatorMark="required",this.textAlign="end",this.computedLabelPosition="above",this.hasContent=!1,this.hasError=!1,this.hasHelp=!1}onMutation(){this.labelInfo=this.root.querySelector("[slot=label-info]"),this.hasError=u(this.root,"error"),this.hasHelp=u(this.root,"help")}handleKeyup(e){var t,i;switch(e.key){case"Tab":{this.input.matches(":focus-visible")&&((t=this.labelInfo)===null||t===void 0||t.showTooltip(),this.hideLabelInfoTimeout=setTimeout(()=>{var n;(n=this.labelInfo)===null||n===void 0||n.hideTooltip()},6e3));break}case"Shift":break;default:{this.input.matches(":focus-visible")&&((i=this.labelInfo)===null||i===void 0||i.hideTooltip(),clearTimeout(this.hideLabelInfoTimeout));break}}}onFocusout(){var e;(e=this.labelInfo)===null||e===void 0||e.hideTooltip(),clearTimeout(this.hideLabelInfoTimeout)}async guxForceUpdate(){this.hasContent=c(this.input),this.hasError=u(this.root,"error"),this.hasHelp=u(this.root,"help"),v(this.root)}async componentWillLoad(){this.getI18nValue=await g(this.root,G),this.setInput(),this.setLabel(),this.labelInfo=this.root.querySelector("[slot=label-info]"),this.hasError=u(this.root,"error"),this.hasHelp=u(this.root,"help"),b(this.root,{variant:this.variant})}disconnectedCallback(){this.disabledObserver&&this.disabledObserver.disconnect(),this.requiredObserver&&this.requiredObserver.disconnect()}render(){const e=this.clearable&&this.hasContent&&!this.disabled;return o(D,{key:"e9164da0372e0a75b0dcf51d417de18feef9311a",labelPosition:this.computedLabelPosition},o(S,{key:"e11430dee7a6970386467ce93266138da3dc36a8",required:this.required,position:this.computedLabelPosition},o("slot",{key:"82e41f9315ca38684b2394c77267952358f95185",name:"label",onSlotchange:()=>this.setLabel()}),o("gux-form-field-label-indicator",{key:"8f8ce7f51ebc45e2376573c98de622fa2ad311cb",variant:this.indicatorMark,required:this.required}),o("slot",{key:"2b03541f5b4cbd9a7046d193e86ed7c52de6b1e7",name:"label-info"})),o("div",{key:"6596b7037b1565ceec0fc390a9444adbe88228fd",class:"gux-input-and-error-container"},o("div",{key:"7b68fb7ef21a7588b90b48607b0dee1c4b9bf337",class:{"gux-input":!0,"gux-input-error":this.hasError},part:"input-section"},o("div",{key:"8659741e79811b5469a47fc44baa2ae805843c88",class:{"gux-input-container":!0,"gux-disabled":this.disabled,"gux-clear":e},style:{"--gux-text-align":this.textAlign},onClick:()=>q(this.input)},o("slot",{key:"4a1a3ba50ea4a6332f04944547427750beb5b06d",name:"input",onSlotchange:()=>this.setInput()}),e&&o("gux-form-field-input-clear-button",{key:"2c70a4cdc4fe2a4291d63b6c77beb602911c782e",onClick:()=>T(this.input)})),this.renderStepButtons(this.input,this.getI18nValue,this.disabled)),o(z,{key:"e6a07eeaac64e37ecf83bae5c4297c32a285e36f",show:this.hasError},o("slot",{key:"cc9eb45c88cf8ee04cf0e1e5c647e870cc8044d6",name:"error"})),o(L,{key:"621c34a36cc97ffabfaaa55cf9ffbfb4ad8ae095",show:!this.hasError&&this.hasHelp},o("slot",{key:"eb44fcd9a75a8d0724ebcddac1b7db57d03b48f2",name:"help"}))))}get variant(){const e=this.labelPosition?this.labelPosition.toLowerCase():"none";return`${this.clearable?"clearable":"unclearable"}-${e}`}setInput(){this.input=E(this.root,'input[type="number"][slot="input"]'),this.hasContent=c(this.input),O(this.input),this.input.addEventListener("input",()=>{this.hasContent=c(this.input)}),this.disabled=y(this.input),this.required=this.input.required,this.disabledObserver=w(this.input,e=>{this.disabled=e}),this.requiredObserver=I(this.input,e=>{this.required=e}),P(this.root,this.input)}setLabel(){this.label=this.root.querySelector('label[slot="label"]'),this.computedLabelPosition=F(this.label,this.labelPosition)}renderStepButtons(e,t,i){return o("div",{class:"gux-step-buttons-container"},o("button",{class:"gux-step-button",tabIndex:-1,type:"button",title:t("increment"),disabled:i,onClick:()=>this.stepUp(e)},o("gux-icon",{"icon-name":"custom/chevron-up-small-regular",decorative:!0})),o("button",{class:"gux-step-button",tabIndex:-1,type:"button",title:t("decrement"),disabled:i,onClick:()=>this.stepDown(e)},o("gux-icon",{"icon-name":"custom/chevron-down-small-regular",decorative:!0})))}stepDown(e){e.value===""?d(e,e.min||"0",!1):(e.stepDown(),this.simulateNativeInputAndChangeEvents(e))}stepUp(e){e.value===""?d(e,e.min||"0",!1):(e.stepUp(),this.simulateNativeInputAndChangeEvents(e))}simulateNativeInputAndChangeEvents(e){p(e,"input"),p(e,"change")}static get delegatesFocus(){return!0}get root(){return h(this)}};V([k({childList:!0,subtree:!0})],m.prototype,"onMutation",null);m.style=N;const A="gux-button gux-icon{padding-block-start:4px}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none}input[type=number]{-moz-appearance:textfield}";var M=function(e,t,i,n){var a=arguments.length,r=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(a<3?s(r):a>3?s(t,i,r):s(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};const x=class{constructor(e){f(this,e),this.goToPage=C(this,"goToPage",7),this.isOpen=!1,this.disabled=!1}handleKeyDown(e){const t=e.composedPath();switch(e.key){case"Escape":this.isOpen=!1,this.ellipsisButton.focus();break;case"Tab":{this.isOpen=!1;break}case"ArrowDown":case"Enter":t.includes(this.ellipsisButton)&&(e.preventDefault(),this.isOpen=!0,this.focusInputElement());break}}handleKeyup(e){switch(e.key){case" ":{e.composedPath().includes(this.ellipsisButton)&&(this.isOpen=!0,this.focusInputElement());break}}}watchIsDisabled(e){e&&(this.isOpen=!1)}toggle(){this.isOpen=!this.isOpen,this.isOpen&&this.focusInputElement()}onClickOutside(){this.isOpen=!1}focusInputElement(){R(()=>{this.inputElement.focus()})}applyInputListener(){var e;(e=this.inputElement)===null||e===void 0||e.addEventListener("keydown",t=>{const i=t.target.value.trim();(t.key=="Enter"||t.key==" ")&&(i==""?t.preventDefault():(t.preventDefault(),this.goToPage.emit(t.target.value),this.isOpen=!1))})}async componentWillLoad(){this.i18n=await g(this.root,B,"gux-pagination-buttons"),b(this.root)}componentDidLoad(){this.applyInputListener()}render(){return[o("gux-button",{key:"2ce75f368c4fef4854646ca253bee09407b1b445",accent:"ghost",id:"popover-target",type:"button",disabled:this.disabled,ref:e=>this.ellipsisButton=e,onClick:()=>this.toggle(),"aria-haspopup":"true","aria-expanded":this.isOpen.toString()},o("gux-icon",{key:"8356c33570e6b019fc815a4f1f81b09d66653253",screenreaderText:this.i18n("goToPage"),"icon-name":"fa/ellipsis-regular",size:"small"})),o("gux-tooltip",{key:"9d5ff91a76ae010c45466f317870292d8f729325",for:"popover-target"},o("div",{key:"519dfc8d17537459689b237773ec0c77c1caf1d8",slot:"content"},this.i18n("goToPage"))),o("gux-popover",{key:"b03d2468b8f006b0d860ca93443765cd4f7b8e5d","is-open":this.isOpen,for:"popover-target"},o("span",{key:"08bd72ecd7022c35fbc20489a42f4a11a826c2e6",slot:"title"},this.i18n("goToPage")),o("gux-form-field-number",{key:"a8377acf67b16e60730a2aef25918b2d3560149e"},o("input",{key:"b72d3d2dca92100fbb680e15e4322817b768d519",slot:"input",type:"number",ref:e=>this.inputElement=e,min:"1",max:this.totalPages,value:"1",onKeyDown:e=>["e","E","+","-","."].includes(e.key)&&e.preventDefault()}),o("label",{key:"0235c786e9779350b9b499b74a81687787b0be32",slot:"label"})))]}get root(){return h(this)}static get watchers(){return{disabled:["watchIsDisabled"]}}};M([_({triggerEvents:"mousedown"})],x.prototype,"onClickOutside",null);x.style=A;export{m as gux_form_field_number,x as gux_pagination_ellipsis_button};
