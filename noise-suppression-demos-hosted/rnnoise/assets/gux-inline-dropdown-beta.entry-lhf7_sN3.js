import{r as x,c as d,f as g,h as o,g as h}from"./index-RhTaIPoL.js";import{O as f}from"./on-click-outside-C-8pG9cs-6YGsTWW7.js";import{b}from"./index-Bbwiw1Rf-CzeU2kBB.js";import{s as c}from"./simulate-native-event-BMRf5pjV-BcLDngo1.js";import{o as m,c as v}from"./on-input-disabled-state-change-Cb3FOYGS-_B452ZSd.js";import{b as C}from"./after-next-render-Bg4q97BS-C_KTwidI.js";import{t as w}from"./usage-BYFiy2rf-lhiVWKSr.js";import{O as E}from"./on-mutation-D5H4nH4U-CeToMEmQ.js";import{s as I,b as T}from"./gux-listbox.service-C9MGEoP7-DMtsKwE7.js";import{h as y}from"./has-slot-qzV3vtOw-D7GdaS0G.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-Cd4R0amv-C_5KDHD-.js";import"./get-text-content-from-nodes-DjLdmWVU-BQ4yQ5rq.js";const k="Type to filter dropdown results",L="Select...",z="Dropdown";var S={filterResults:k,noSelection:L,dropdown:z};const D=`:host{display:inline-flex;inline-size:fit-content;min-inline-size:0;max-inline-size:100%}.gux-has-table-parent{position:relative;inset-inline-start:var(--gse-ui-dataTableItems-inlineDropdown-insetInlineStart)}::slotted(gux-listbox){inline-size:fit-content}.gux-field,.gux-target-container-expanded{all:unset;box-sizing:border-box;display:inline-flex;flex-direction:row;flex-wrap:nowrap;place-content:stretch center;align-items:center;inline-size:100%;max-inline-size:100%;block-size:var(--gse-ui-formControl-input-textfield-height);font-family:var(--gse-ui-dataTableItems-inlineDropdown-label-fontFamily);font-size:var(--gse-ui-dataTableItems-inlineDropdown-label-fontSize);font-weight:var(--gse-ui-dataTableItems-inlineDropdown-label-fontWeight);line-height:var(--gse-ui-dataTableItems-inlineDropdown-label-lineHeight);cursor:pointer;background-color:inherit}.gux-target-container-expanded,.gux-target-container-collapsed .gux-field{padding-block:var(--gse-ui-dataTableItems-inlineDropdown-paddingBlock);padding-inline:var(--gse-ui-dataTableItems-inlineDropdown-paddingInline)}.gux-target-container-collapsed .gux-field-button:hover,.gux-target-container-expanded:hover{background-color:var(--gse-ui-dataTableItems-statusIndicator-hover)}.gux-field.gux-input-field{block-size:var(--gse-ui-dataTableItems-inlineDropdown-label-lineHeight)}.gux-field .gux-field-content{--gux-zindex-tooltip:3;display:inline-flex;flex:1 1 0;flex-direction:row;flex-wrap:nowrap;place-content:stretch flex-start;align-items:flex-start;min-inline-size:0;block-size:var(--gse-ui-dataTableItems-inlineDropdown-label-lineHeight)}.gux-field .gux-field-content .gux-filter,.gux-field .gux-field-content .gux-selected-option,.gux-field .gux-field-content .gux-placeholder{flex:1 1 auto;align-self:auto;order:0;padding:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.gux-field .gux-field-content .gux-placeholder{color:var(--gse-ui-dataTableItems-inlineDropdown-text)}.gux-field .gux-expand-icon{flex:0 0 auto;align-self:auto;order:0;padding-inline-start:var(--gse-ui-dataTableItems-inlineDropdown-gap);color:var(--gse-ui-dataTableItems-inlineDropdown-chevron-default)}.gux-target-container-expanded{background-color:var(--gse-ui-dataTableItems-inlineDropdown-active);border-radius:var(--gse-ui-dataTableItems-statusIndicator-borderRadius)}.gux-target-container-expanded:focus-visible{outline:var(--gse-ui-formControl-input-focus-border-width) var(--gse-ui-formControl-input-focus-border-style) var(--gse-ui-formControl-input-focus-border-color);outline-offset:var(--gse-semantic-focusOutline-offset)}.gux-target-container-expanded:focus-within:has(:focus-visible){outline:var(--gse-ui-formControl-input-focus-border-width) var(--gse-ui-formControl-input-focus-border-style) var(--gse-ui-formControl-input-focus-border-color);outline-offset:var(--gse-semantic-focusOutline-offset)}.gux-target-container-expanded .gux-filter-input{background-color:inherit;border:none}.gux-target-container-expanded .gux-filter-input:focus{outline:none;border:none}.gux-target-container-expanded .gux-field-button{inline-size:auto;block-size:var(--gse-ui-dataTableItems-inlineDropdown-label-lineHeight);margin:0;outline:none;background:inherit;border:none;box-shadow:none}.gux-target-container-expanded .gux-field-button:focus{outline:none}.gux-disabled.gux-target-container-collapsed .gux-field-button,.gux-disabled.gux-target-container-expanded{pointer-events:none;cursor:default;opacity:var(--gse-ui-formControl-input-disabled-opacity)}.gux-target-container-collapsed .gux-field-button{border-radius:var(--gse-ui-dataTableItems-statusIndicator-borderRadius)}.gux-target-container-collapsed .gux-field-button:focus-visible{outline:var(--gse-ui-formControl-input-focus-border-width) var(--gse-ui-formControl-input-focus-border-style) var(--gse-ui-formControl-input-focus-border-color);outline-offset:var(--gse-semantic-focusOutline-offset)}.gux-target-container-collapsed .gux-field-button:focus-within:has(:focus-visible){outline:var(--gse-ui-formControl-input-focus-border-width) var(--gse-ui-formControl-input-focus-border-style) var(--gse-ui-formControl-input-focus-border-color);outline-offset:var(--gse-semantic-focusOutline-offset)}::slotted(gux-listbox){outline:none;box-shadow:var(--gse-ui-menu-boxShadow)}.gux-selected-icon{display:flex;flex-direction:row;align-items:center}.gux-selected-icon.gux-icon-position-end{flex-direction:row-reverse}.gux-selected-icon gux-icon{padding-inline-end:var(--gse-ui-dataTableItems-inlineDropdown-gap)}.gux-status-indicator{display:inline-flex;gap:var(--gse-ui-dataTableItems-statusIndicator-gap);align-items:center}.gux-status-icon{display:inline-flex}.gux-status-icon::before{content:""}.gux-status-icon-info::before{-webkit-mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12' %3E%3Cpath d='M6 0C7.59 0 9.12 0.629997 10.245 1.755C11.37 2.88 12 4.41 12 6C12 7.59 11.37 9.12 10.245 10.245C9.12 11.37 7.59 12 6 12C4.41 12 2.88 11.37 1.755 10.245C0.629997 9.12 0 7.59 0 6C0 4.41 0.629997 2.88 1.755 1.755C2.88 0.629997 4.41 0 6 0Z' /%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12' %3E%3Cpath d='M6 0C7.59 0 9.12 0.629997 10.245 1.755C11.37 2.88 12 4.41 12 6C12 7.59 11.37 9.12 10.245 10.245C9.12 11.37 7.59 12 6 12C4.41 12 2.88 11.37 1.755 10.245C0.629997 9.12 0 7.59 0 6C0 4.41 0.629997 2.88 1.755 1.755C2.88 0.629997 4.41 0 6 0Z' /%3E%3C/svg%3E");inline-size:var(--gse-ui-dataTableItems-statusIndicator-label-fontSize);block-size:var(--gse-ui-dataTableItems-statusIndicator-label-fontSize);background:var(--gse-ui-statusGlyph-information)}.gux-status-icon-warning::before{inline-size:var(--gse-ui-dataTableItems-statusIndicator-label-fontSize);block-size:var(--gse-ui-dataTableItems-statusIndicator-label-fontSize);-webkit-mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12' %3E%3Cpath d='M6.16516 0.749268C6.49521 0.749268 6.80275 0.921791 6.97527 1.21434L12.0386 9.8407C12.2111 10.1332 12.2111 10.4933 12.0386 10.7783C11.8735 11.0709 11.5585 11.2509 11.2285 11.2509H1.10186C0.764303 11.2509 0.456764 11.0709 0.291738 10.7783C0.126712 10.4858 0.126712 10.1257 0.291738 9.8407L5.35504 1.21434C5.52757 0.929292 5.8276 0.749268 6.16516 0.749268Z' /%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12' %3E%3Cpath d='M6.16516 0.749268C6.49521 0.749268 6.80275 0.921791 6.97527 1.21434L12.0386 9.8407C12.2111 10.1332 12.2111 10.4933 12.0386 10.7783C11.8735 11.0709 11.5585 11.2509 11.2285 11.2509H1.10186C0.764303 11.2509 0.456764 11.0709 0.291738 10.7783C0.126712 10.4858 0.126712 10.1257 0.291738 9.8407L5.35504 1.21434C5.52757 0.929292 5.8276 0.749268 6.16516 0.749268Z' /%3E%3C/svg%3E");background:var(--gse-ui-statusGlyph-neutral)}.gux-status-icon-error::before{inline-size:var(--gse-ui-dataTableItems-statusIndicator-label-fontSize);block-size:var(--gse-ui-dataTableItems-statusIndicator-label-fontSize);-webkit-mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12' %3E%3Cpath d='M0.236102 6.88C-0.0787008 6.33785 -0.0787008 5.66215 0.236102 5.12L2.36477 1.38C2.67957 0.837853 3.24922 0.5 3.87133 0.5H8.12867C8.75078 0.5 9.32043 0.837853 9.63523 1.38L11.7639 5.12C12.0787 5.66215 12.0787 6.33785 11.7639 6.88L9.63523 10.62C9.32043 11.1621 8.75078 11.5 8.12867 11.5H3.87133C3.24922 11.5 2.67957 11.1621 2.36477 10.62L0.236102 6.88Z' /%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12' %3E%3Cpath d='M0.236102 6.88C-0.0787008 6.33785 -0.0787008 5.66215 0.236102 5.12L2.36477 1.38C2.67957 0.837853 3.24922 0.5 3.87133 0.5H8.12867C8.75078 0.5 9.32043 0.837853 9.63523 1.38L11.7639 5.12C12.0787 5.66215 12.0787 6.33785 11.7639 6.88L9.63523 10.62C9.32043 11.1621 8.75078 11.5 8.12867 11.5H3.87133C3.24922 11.5 2.67957 11.1621 2.36477 10.62L0.236102 6.88Z' /%3E%3C/svg%3E");background:var(--gse-ui-statusGlyph-negative)}.gux-status-icon-success::before{inline-size:var(--gse-ui-dataTableItems-statusIndicator-label-fontSize);block-size:var(--gse-ui-dataTableItems-statusIndicator-label-fontSize);-webkit-mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12' %3E%3Cpath d='M6 0C7.59 0 9.12 0.629997 10.245 1.755C11.37 2.88 12 4.41 12 6C12 7.59 11.37 9.12 10.245 10.245C9.12 11.37 7.59 12 6 12C4.41 12 2.88 11.37 1.755 10.245C0.629997 9.12 0 7.59 0 6C0 4.41 0.629997 2.88 1.755 1.755C2.88 0.629997 4.41 0 6 0Z' /%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12' %3E%3Cpath d='M6 0C7.59 0 9.12 0.629997 10.245 1.755C11.37 2.88 12 4.41 12 6C12 7.59 11.37 9.12 10.245 10.245C9.12 11.37 7.59 12 6 12C4.41 12 2.88 11.37 1.755 10.245C0.629997 9.12 0 7.59 0 6C0 4.41 0.629997 2.88 1.755 1.755C2.88 0.629997 4.41 0 6 0Z' /%3E%3C/svg%3E");background:var(--gse-ui-statusGlyph-positive)}`;var p=function(e,t,i,a){var s=arguments.length,n=s<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,i):a,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(l=e[r])&&(n=(s<3?l(n):s>3?l(t,i,n):l(t,i))||n);return s>3&&n&&Object.defineProperty(t,i,n),n};const u=class{constructor(e){x(this,e),this.guxexpanded=d(this,"guxexpanded",7),this.guxcollapsed=d(this,"guxcollapsed",7),this.disabled=!1,this.required=!1,this.expanded=!1}watchValue(e){this.validateValue(e,this.listboxElement)}watchDisabled(e){e&&(this.expanded=!1)}onKeydown(e){switch(e.key){case"Escape":this.collapseListbox("focusFieldButton");return;case"Tab":this.collapseListbox("noFocusChange");return;case"ArrowDown":this.activeElementNotListbox()&&(e.preventDefault(),this.expanded=!0,I(this.listboxElement));return}}onInternallistboxoptionsupdated(e){e.stopPropagation(),g(this.root)}onBlur(e){this.stopPropagationOfInternalFocusEvents(e)}onFocus(e){this.stopPropagationOfInternalFocusEvents(e)}onFocusout(e){this.stopPropagationOfInternalFocusEvents(e)}onFocusin(e){this.stopPropagationOfInternalFocusEvents(e)}onClickOutside(){this.collapseListbox("noFocusChange")}onMutation(){var e;this.listboxElement||(this.listboxElement=(e=this.root)===null||e===void 0?void 0:e.querySelector("gux-listbox"),this.applyListboxEventListeners())}onInternalExpanded(e){e.stopPropagation(),this.guxexpanded.emit(),this.listboxElement&&C(()=>{this.listboxElement.focus()})}onInternalCollapsed(e){e.stopPropagation(),this.guxcollapsed.emit()}connectedCallback(){var e;this.listboxElement=(e=this.root)===null||e===void 0?void 0:e.querySelector("gux-listbox"),this.listboxElement&&this.validateValue(this.value,this.listboxElement)}async componentWillLoad(){w(this.root),this.i18n=await b(this.root,S),m(this.root,()=>{g(this.root)})}componentDidLoad(){this.applyListboxEventListeners(),this.applyTableStyle()}componentWillRender(){this.listboxElement&&this.validateValue(this.value,this.listboxElement)}showTooltip(){var e;(e=this.truncateElement)===null||e===void 0||e.setShowTooltip()}hideTooltip(){var e;(e=this.truncateElement)===null||e===void 0||e.setHideTooltip()}validateValue(e,t){if(e===void 0){t&&(t.value=e);return}if(this.getOptionElementByValue(e)){t.value=e;return}}applyTableStyle(){var e;((e=this.root.parentElement)===null||e===void 0?void 0:e.tagName.toLowerCase())==="td"&&this.popupElement.classList.add("gux-has-table-parent")}applyListboxEventListeners(){var e,t;(e=this.listboxElement)===null||e===void 0||e.addEventListener("input",i=>{i.stopPropagation(),this.updateValue(i.target.value)}),(t=this.listboxElement)===null||t===void 0||t.addEventListener("change",i=>{i.stopPropagation()})}stopPropagationOfInternalFocusEvents(e){if(this.root.contains(e.relatedTarget))return e.stopImmediatePropagation()}get optionElements(){return T(this.listboxElement)}getOptionElementByValue(e){return this.optionElements.find(t=>t.value===e)}fieldButtonClick(){this.expanded=!this.expanded}activeElementNotListbox(){return document.activeElement!==this.listboxElement}collapseListbox(e){this.expanded&&(this.expanded=!1),e==="focusFieldButton"&&this.fieldButtonElement.focus()}updateValue(e){this.value!==e&&(this.value=e,c(this.root,"input"),c(this.root,"change")),this.collapseListbox("focusFieldButton")}renderTargetDisplay(){const e=this.getOptionElementByValue(this.value);return e?o("div",{class:"gux-selected-option"},this.renderSelectedItem(e)):o("div",{class:"gux-placeholder"},this.placeholder||this.i18n("noSelection"))}renderSelectedItem(e){const t=e.tagName.toLowerCase();switch(t){case"gux-option":return this.renderOption(e);case"gux-option-icon":return this.renderIconOption(e);case"gux-option-status-beta":return this.renderStatusOption(e);default:return t}}renderOption(e){let t=e.textContent;if(y(e,"subtext")){const i=e.querySelector("[slot=subtext]");t=t.substring(0,t.length-i.textContent.length)}return o("gux-truncate",{ref:i=>this.truncateElement=i,dir:"auto"},t)}renderIconOption(e){let t=null;return e.iconColor!==null&&(t={color:e.iconColor}),o("span",{class:{"gux-selected-icon":!0,"gux-icon-position-end":e.iconPosition==="end"}},o("gux-icon",{"icon-name":e.iconName,style:t,decorative:!0,size:"small"}),o("gux-truncate",{ref:i=>this.truncateElement=i},e.textContent))}renderStatusOption(e){const t=e.textContent;return o("div",{class:"gux-status-indicator"},o("span",{class:`gux-status-icon gux-status-icon-${e.accent}`}),o("div",{class:"gux-status-indicator-text"},t))}renderPopup(){return o("slot",{slot:"popup"})}renderTarget(){return o("div",{class:{"gux-target-container-collapsed":!0,"gux-disabled":this.disabled},slot:"target"},o("button",{type:"button",class:"gux-field gux-field-button",disabled:v(this.root),onClick:this.fieldButtonClick.bind(this),onFocusin:this.showTooltip.bind(this),onFocusout:this.hideTooltip.bind(this),ref:e=>this.fieldButtonElement=e,"aria-haspopup":"listbox","aria-expanded":this.expanded.toString()},this.renderTargetContent(),o("gux-icon",{class:{"gux-expand-icon":!0},"screenreader-text":this.i18n("dropdown"),size:"small",iconName:this.expanded?"custom/chevron-up-small-regular":"custom/chevron-down-small-regular"})))}renderTargetContent(){return o("div",{class:"gux-field-content"},this.renderTargetDisplay())}render(){return o("gux-popup",{key:"46540ccafc50c5f9e8dd5a6d3f4e41d2dbdae8b6",expanded:this.expanded,disabled:this.disabled,inline:!0,ref:e=>this.popupElement=e},this.renderTarget(),this.renderPopup())}static get delegatesFocus(){return!0}get root(){return h(this)}static get watchers(){return{value:["watchValue"],disabled:["watchDisabled"]}}};p([f({triggerEvents:"mousedown"})],u.prototype,"onClickOutside",null);p([E({childList:!0,subtree:!0})],u.prototype,"onMutation",null);u.style=D;export{u as gux_inline_dropdown_beta};
