import{r as n,c as s,b as r,h as a,g as o}from"./index-RhTaIPoL.js";import{a as g}from"./after-next-render-Bg4q97BS-C_KTwidI.js";import{t as c}from"./usage-BYFiy2rf-lhiVWKSr.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const l=":host{display:block;block-size:var(--gse-ui-dataTableItems-cell-tablePagination-height);border-block-start:var(--gse-ui-dataTableItems-tablePagination-divider-width) var(--gse-ui-dataTableItems-tablePagination-divider-style) var(--gse-ui-dataTableItems-tablePagination-divider-color)}.gux-pagination-container{display:flex;flex-direction:row;flex-wrap:nowrap;place-content:stretch space-between;align-items:center;padding:var(--gse-ui-dataTableItems-tablePagination-padding);background-color:var(--gse-ui-dataTableItems-tablePagination-defaultBackgroundColor)}.gux-pagination-container .gux-pagination-info{display:flex;flex:0 1 auto;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-dataTableItems-tablePagination-recordsetControls-gap);place-content:stretch flex-start;align-items:center;align-self:auto;order:0}.gux-pagination-container .gux-pagination-info>*{flex:0 1 auto;align-self:auto;order:0}.gux-pagination-container .gux-pagination-spacer{flex:1 1 auto;align-self:auto;order:0}.gux-pagination-container .gux-pagination-change{flex:0 1 auto;align-self:auto;order:0}.gux-pagination-container .gux-pagination-change:first-child{margin-inline-start:0}",d=24,h=class{constructor(e){n(this,e),this.guxpaginationchange=s(this,"guxpaginationchange",7),this.reinstateLayoutBreakpoint=0,this.layout="advanced",this.currentPage=1,this.totalItems=0,this.itemsPerPage=25,this.disabled=!1}setPage(e){if(e<=0){this.setPage(1);return}const t=this.calculateTotalPages(this.totalItems,this.itemsPerPage);if(e>t){this.setPage(t);return}this.currentPage=e,this.guxpaginationchange.emit({currentPage:this.currentPage,itemsPerPage:this.itemsPerPage})}handleInternalitemsperpagechange(e){this.itemsPerPage=e.detail,this.setPage(1)}handleInternalcurrentpagechange(e){this.setPage(e.detail)}calculateTotalPages(e,t){return Math.max(1,Math.ceil(e/t))}calculateCurrentPage(e,t){const i=e>0?1:0;return Math.max(i,Math.min(t,e))}checkPaginationContainerWidthForLayout(){r(()=>{const e=this.root.shadowRoot.querySelector(".gux-pagination-container"),t=this.root.shadowRoot.querySelector(".gux-pagination-spacer"),i=e.clientWidth;t.clientWidth<d&&this.displayedLayout!=="simple"?(this.reinstateLayoutBreakpoint=i,this.displayedLayout="simple"):i>this.reinstateLayoutBreakpoint&&(this.reinstateLayoutBreakpoint=0,this.displayedLayout=this.layout)})}componentWillLoad(){c(this.root,{variant:this.layout})}componentWillRender(){this.totalPages=this.calculateTotalPages(this.totalItems,this.itemsPerPage),this.currentPage=this.calculateCurrentPage(this.totalPages,this.currentPage)}disconnectedCallback(){this.resizeObserver&&this.resizeObserver.unobserve(this.root.shadowRoot.querySelector(".gux-pagination-container"))}componentDidLoad(){!this.resizeObserver&&window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>this.checkPaginationContainerWidthForLayout())),this.resizeObserver&&this.resizeObserver.observe(this.root.shadowRoot.querySelector(".gux-pagination-container")),g(()=>{this.checkPaginationContainerWidthForLayout()},500)}render(){return a("div",{key:"71f5b917d554f41b47cb877665abd2387ed5b653",class:"gux-pagination-container"},a("div",{key:"f97677c79b4335a7bac5fdef6d7dd39c8d5a48df",class:"gux-pagination-info"},a("gux-pagination-item-counts",{key:"a12f25bbe4f9a7ddbd37b69cf54e64b65b59f422","total-items":this.totalItems,"current-page":this.currentPage,"items-per-page":this.itemsPerPage}),this.displayedLayout==="advanced"&&a("gux-pagination-items-per-page",{key:"d9006cfe6ad9db8072ec307653eaaab7efdea9df",disabled:this.disabled,"items-per-page":this.itemsPerPage,onInternalitemsperpagechange:this.handleInternalitemsperpagechange.bind(this)})),a("div",{key:"8f3ca452e16601a847b96028dcd9e3b6f85526d7",class:"gux-pagination-spacer"}),a("div",{key:"5909b78f61403d75ba5a033cc560c9f6adc022be",class:"gux-pagination-change"},a("gux-pagination-buttons",{key:"13270cbc43e470fa55d9fb98196bf98fb5faea57",disabled:this.disabled,layout:this.displayedLayout,"current-page":this.currentPage,"total-pages":this.totalPages,onInternalcurrentpagechange:this.handleInternalcurrentpagechange.bind(this)})))}get root(){return o(this)}};h.style=l;export{h as gux_pagination};
