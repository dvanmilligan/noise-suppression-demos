import{r as n,c as s,h as t,g as l}from"./index-RhTaIPoL.js";import{r as d}from"./random-html-id-D9jKBqIb-D30kRngR.js";import{t as r}from"./usage-BYFiy2rf-lhiVWKSr.js";import{h as g}from"./has-slot-qzV3vtOw-D7GdaS0G.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const u="::slotted(button:active:enabled){color:var(--gse-ui-links-active-foregroundColor);text-decoration:underline;background:none}slot[name=start-align-buttons]::slotted(:not(button,gux-button-slot)){display:flex;flex-direction:row;gap:var(--gse-ui-modal-buttonBar-gap);align-content:flex-start;align-items:center}:host dialog{box-sizing:border-box;justify-content:space-between;padding:0;overflow:hidden;background-color:var(--gse-ui-modal-backgroundColor);border:none;border-radius:var(--gse-ui-modal-borderRadius);box-shadow:var(--gse-ui-modal-boxShadow)}:host dialog::backdrop{background:var(--gse-ui-modal-shroudColor)}:host dialog .gux-modal-container{display:flex;flex-direction:column}:host dialog .gux-modal-container.gux-small{inline-size:var(--gse-ui-modal-small-width);max-block-size:min(368px, 100vh - 2 * 24px)}:host dialog .gux-modal-container.gux-medium{inline-size:min(var(--gse-ui-modal-medium-width), 100vw - 48px);max-block-size:min(640px, 100vh - 2 * 24px)}:host dialog .gux-modal-container.gux-large{inline-size:min(var(--gse-ui-modal-large-width), 100vw - 48px);max-block-size:min(640px, 100vh - 2 * 24px)}:host dialog .gux-modal-container.gux-dynamic{max-inline-size:calc(100vw - 48px);max-block-size:calc(100vh - 48px)}:host dialog .gux-modal-container.gux-dynamic .gux-modal-content{max-block-size:none}:host dialog .gux-modal-container .gux-modal-header{padding-block-start:var(--gse-ui-modal-padding);padding-inline:var(--gse-ui-modal-padding);margin:0;font-family:var(--gse-ui-modal-heading-fontFamily);font-size:var(--gse-ui-modal-heading-fontSize);font-weight:var(--gse-ui-modal-heading-fontWeight);line-height:var(--gse-ui-modal-heading-lineHeight);color:var(--gse-ui-modal-headerColor)}:host dialog .gux-modal-container .gux-modal-content{max-block-size:432px;padding-inline:var(--gse-ui-modal-padding);margin-block-start:var(--gse-ui-modal-gap);overflow-y:auto;color:var(--gse-semantic-foreground-container-highEmphasis)}:host dialog .gux-modal-container .gux-button-footer{display:flex;justify-content:space-between;padding-block-end:var(--gse-ui-modal-padding);padding-inline:var(--gse-ui-modal-padding);margin-block-start:var(--gse-ui-modal-gap)}:host dialog .gux-modal-container .gux-button-footer.gux-no-buttons{display:none}:host dialog .gux-modal-container footer{padding-block-end:var(--gse-ui-modal-padding);padding-inline:var(--gse-ui-modal-padding);margin-block-start:var(--gse-ui-modal-gap)}@media (max-width: 416px){:host dialog .gux-modal-container.gux-small,:host dialog .gux-modal-container.gux-medium,:host dialog .gux-modal-container.gux-large{inline-size:100%;block-size:100%}}",c=class{constructor(o){n(this,o),this.guxdismiss=s(this,"guxdismiss",7),this.size="dynamic",this.open=!1,this.overlayDismiss=!1}syncOpenState(){this.open?this.dialogElement.showModal():this.dialogElement.close()}async showModal(){this.open=!0}async close(){this.open=!1}onKeydown(o){switch(o.key){case"Escape":o.preventDefault(),this.onDismissHandler();return}}componentWillLoad(){r(this.root,{variant:`${this.size}`})}componentDidLoad(){this.syncOpenState()}hasModalTitleSlot(){return!!this.root.querySelector('[slot="title"]')}hasFooterButtons(){var o,e;const a=this.root.querySelector('[slot="start-align-buttons"]'),i=this.root.querySelector('[slot="end-align-buttons"]');return!!(!((o=a==null?void 0:a.textContent)===null||o===void 0)&&o.trim())||!!(!((e=i==null?void 0:i.textContent)===null||e===void 0)&&e.trim())}renderFooter(){return g(this.root,"footer")?t("footer",null,t("slot",{name:"footer"})):this.renderButtonFooter()}render(){const o=this.hasModalTitleSlot(),e=d();return t("dialog",{key:"2e054458a923024bafd09f7ccd9b022ad2c5ae61",onClick:this.onDialogClick.bind(this),onClose:this.onCloseHandler.bind(this),ref:a=>this.dialogElement=a,"aria-labelledby":o?e:null},t("div",{key:"3e6ee61436ccde6347ccca6b5d07aa78abb8297c",class:`gux-modal-container gux-${this.size}`},t("gux-dismiss-button",{key:"9208157bafa6ef05991f9c8c74fadb085f5cbead",onClick:this.onDismissHandler.bind(this)}),o&&this.renderTitle(e),t("div",{key:"f5869794bf0b2565665ba8576bf611b7f2770479",class:"gux-modal-content"},t("p",{key:"5824125aa7be859c1cbb6a04422a90dabcd1838d"},t("slot",{key:"61e022d86ca6387f1b1569ba223e80025568d6f1",name:"content"}))),this.renderFooter()))}renderTitle(o){return t("h1",{class:"gux-modal-header",id:o},t("slot",{name:"title"}))}renderButtonFooter(){const o=this.hasFooterButtons();return t("div",{class:{"gux-button-footer":!0,"gux-no-buttons":!o}},t("div",{class:"gux-start-align-buttons"},t("slot",{name:"start-align-buttons"})),t("div",{class:"gux-end-align-buttons"},t("slot",{name:"end-align-buttons"})))}onCloseHandler(){this.guxdismiss.emit()}onDismissHandler(){this.open=!1}onDialogClick(o){this.overlayDismiss&&o.target===this.dialogElement&&this.onDismissHandler()}static get delegatesFocus(){return!0}get root(){return l(this)}static get watchers(){return{open:["syncOpenState"]}}};c.style=u;export{c as gux_modal};
