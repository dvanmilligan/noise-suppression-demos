import{r as b,f,b as m,h as i,H as y,g as v}from"./index-RhTaIPoL.js";import{O as g}from"./on-resize-DU66ME6L-yF4SUj4S.js";import{O as x}from"./on-mutation-D5H4nH4U-CeToMEmQ.js";import{t as S}from"./usage-BYFiy2rf-lhiVWKSr.js";import{g as c}from"./get-slot-BBpQG81s-DJNt4BpD.js";import{a as A}from"./after-next-render-Bg4q97BS-C_KTwidI.js";import{l as C}from"./log-error-DxtJDeL9-5foDqi4E.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";function d(t,e){[].concat(t).forEach(o=>{o!=null&&(o.accent=e)})}function s(t,...e){e.flat().filter(o=>o!=null&&!(o!=null&&o.hasAttribute("icon-only"))).forEach(o=>o.iconOnly=t)}const L=":host{display:flex;flex-direction:row;align-items:center;justify-content:space-between;inline-size:100%;max-block-size:var(--gse-ui-dataTableItems-tableToolbar-height);visibility:hidden;transition:visibility 0s 0.5s;}@keyframes show-toolbar{to{visibility:visible}}:host .search-filter-container{min-inline-size:260px;padding-inline-end:var(--gse-ui-dataTableItems-tableToolbar-gap)}:host slot[name=search-and-filter]::slotted(*){display:flex;flex-direction:row;gap:var(--gse-ui-dataTableItems-tableToolbar-tableToolbarGroup-gap);align-content:flex-start;align-items:center}:host .section-spacing{display:flex;flex-direction:row;min-inline-size:72px}:host .gux-contextual-permanent-primary{display:flex;flex-direction:row;justify-content:space-between;padding-inline-start:var(--gse-ui-dataTableItems-tableToolbar-gap)}:host .gux-contextual-permanent-primary slot[name=permanent-actions]::slotted(*),:host .gux-contextual-permanent-primary slot[name=contextual-actions]::slotted(*){display:flex;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-dataTableItems-tableToolbar-tableToolbarGroup-gap);align-content:flex-end;align-items:center}:host .gux-contextual-permanent-primary .gux-contextual-wrapper{padding-inline-end:var(--gse-ui-dataTableItems-tableToolbar-gap);border-inline-end:var(--gse-ui-dataTableItems-tableToolbar-divider-width) solid var(--gse-ui-dataTableItems-tableToolbar-dividerColor)}:host .gux-contextual-permanent-primary .gux-permanent-menu-primary-wrapper{display:flex;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-dataTableItems-tableToolbar-tableToolbarGroup-gap);margin-inline-start:var(--gse-ui-dataTableItems-tableToolbar-gap)}";var p=function(t,e,o,a){var r=arguments.length,n=r<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,o):a,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(t,e,o,a);else for(var u=t.length-1;u>=0;u--)(l=t[u])&&(n=(r<3?l(n):r>3?l(e,o,n):l(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n};const h=class{constructor(t){b(this,t),this.displayedLayout="full",this.hasContextDivider=!1,this.minimumSizes={full:0,iconOnly:0,condensed:0}}onMutation(){this.hasContextDivider=this.needsContextDivider(),f(this.root)}recordLayoutMinSize(){m(()=>{var t,e,o;const a=((t=this.searchAndFilterContainer)===null||t===void 0?void 0:t.clientWidth)|0,r=((e=this.actionsContainer)===null||e===void 0?void 0:e.clientWidth)|0,n=((o=this.minControlSize)===null||o===void 0?void 0:o.clientWidth)|0,l=a+r+n;this.minimumSizes[this.displayedLayout]=l})}get minControlSize(){return this.root.shadowRoot.querySelector(".section-spacing")}get actionsContainer(){return this.root.shadowRoot.querySelector(".gux-contextual-permanent-primary")}get searchAndFilterContainer(){return this.root.shadowRoot.querySelector(".search-filter-container")}get filterSlot(){return c(this.root,"search-and-filter")}get menuActionSlot(){return c(this.root,"menu-actions")}get permanentSlot(){return c(this.root,"permanent-actions")||this.menuActionSlot&&c(this.menuActionSlot,"permanent-actions")}get contextualSlot(){return c(this.root,"contextual-actions")}get primaryAction(){var t;return(t=this.root)===null||t===void 0?void 0:t.querySelector("gux-table-toolbar-custom-action[slot]")}get permanentActions(){var t,e;return!((t=this.permanentSlot)===null||t===void 0)&&t.hasChildNodes?Array.from((e=this.permanentSlot)===null||e===void 0?void 0:e.querySelectorAll("gux-table-toolbar-action, gux-table-toolbar-custom-action")):[]}get menuActionsItems(){var t,e;if(!((t=this.menuActionSlot)===null||t===void 0)&&t.hasChildNodes)return Array.from((e=this.menuActionSlot)===null||e===void 0?void 0:e.querySelectorAll("gux-table-toolbar-action, gux-table-toolbar-custom-action"))}get contextualActions(){var t,e;return!((t=this.contextualSlot)===null||t===void 0)&&t.hasChildNodes?Array.from((e=this.contextualSlot)===null||e===void 0?void 0:e.querySelectorAll("gux-table-toolbar-action, gux-table-toolbar-custom-action")):[]}get filterActions(){var t,e;return!((t=this.filterSlot)===null||t===void 0)&&t.hasChildNodes?Array.from((e=this.filterSlot)===null||e===void 0?void 0:e.querySelectorAll("gux-table-toolbar-action, gux-table-toolbar-custom-action")):[]}get allFilterContextual(){var t;return(t=this.filterActions)===null||t===void 0?void 0:t.concat(this.contextualActions)}needsContextDivider(){var t;return((t=this.contextualActions)===null||t===void 0?void 0:t.length)&&this.contextualSlot!==this.root.lastElementChild}renderMenu(){var t;return!!(!((t=this.menuActionsItems)===null||t===void 0)&&t.length||this.displayedLayout=="condensed")}renderFullLayout(){this.displayedLayout="full",s(!1,this.primaryAction,...this.allFilterContextual,...this.permanentActions)}renderIconOnlyLayoutScaleDown(){this.displayedLayout="iconOnly",s(!0,this.primaryAction,...this.allFilterContextual,...this.permanentActions)}renderIconOnlyLayoutScaleUp(){var t,e;this.displayedLayout="iconOnly",d(this.permanentActions,"secondary"),d(this.primaryAction,"primary"),s(!0,this.primaryAction,...this.allFilterContextual,...this.permanentActions),this.permanentActions&&((t=this.root)===null||t===void 0||t.appendChild(this.permanentSlot)),this.primaryAction&&((e=this.root)===null||e===void 0||e.appendChild(this.primaryAction))}renderCondensedLayout(){var t,e;this.displayedLayout="condensed",this.permanentActions&&((t=this.menuActionSlot)===null||t===void 0||t.appendChild(this.permanentSlot)),this.primaryAction&&((e=this.menuActionSlot)===null||e===void 0||e.appendChild(this.primaryAction)),s(!0,...this.allFilterContextual),s(!1,...this.permanentActions),s(!1,this.primaryAction),d(this.menuActionsItems,"ghost")}validateSlot(t){this.root.querySelector(`[slot=${t}]`)||C(this.root,`gux-table-toolbar requires a ${t} slot`)}componentWillRender(){S(this.root),this.hasContextDivider=this.needsContextDivider()}componentWillLoad(){this.validateSlot("menu-actions")}componentDidLoad(){A(()=>{this.recordLayoutMinSize(),this.checkResponsiveLayout()}),d(this.menuActionsItems,"ghost")}componentDidUpdate(){this.recordLayoutMinSize(),this.checkResponsiveLayout()}checkResponsiveLayout(){m(()=>{const t=this.root.clientWidth;t<=this.minimumSizes.iconOnly?this.displayedLayout=="iconOnly"&&this.renderCondensedLayout():t<=this.minimumSizes.full?this.displayedLayout=="full"?this.renderIconOnlyLayoutScaleDown():this.displayedLayout=="condensed"&&this.renderIconOnlyLayoutScaleUp():this.minimumSizes.iconOnly>this.minimumSizes.full?this.renderIconOnlyLayoutScaleUp():this.renderFullLayout()})}render(){return i(y,{key:"d83b697bc7ee8ddea2f53d3b6ab9acfbfb86461f",role:"toolbar","aria-orientation":"horizontal","gs-layout":this.displayedLayout},i("div",{key:"4a2937e468105c57a2acd2bd0bbaef6db1b94f18",class:"search-filter-container"},i("slot",{key:"4c212b6d6cef77ca2a008bea463cf61513245044",name:"search-and-filter"})),i("div",{key:"2f36696e417ffa446923e051f12e4177516a817d",class:"section-spacing"}),i("div",{key:"564426694335be0de81baf342f1e86d08d6b4551",class:"gux-contextual-permanent-primary"},i("div",{key:"29bede3ea18c60eaab9b9300e20444e0c1146eaf",class:{"gux-contextual-wrapper":this.hasContextDivider}},i("slot",{key:"597c7defd764943641b4809facffe89e8ef406cf",name:"contextual-actions"})),i("div",{key:"41c0f6726dafa710995394ced5483ceb021e775b",class:"gux-permanent-menu-primary-wrapper"},i("slot",{key:"8ace49e48feea10929d4955a5a6e8fd0815f70c7",name:"permanent-actions"}),i("gux-table-toolbar-menu-button",{key:"cb0a3b05b709be872af3696a408d4b96a6c7b91f","show-menu":this.renderMenu()},i("slot",{key:"dafb929e6fc272b08750fb94f719cda4e85efb8a",name:"menu-actions"})),i("slot",{key:"6ee0b9d97b95cdcca4e7c5a36905401c63ddf7d8",name:"primary-action"}))))}get root(){return v(this)}};p([x({childList:!0,subtree:!0})],h.prototype,"onMutation",null);p([g()],h.prototype,"checkResponsiveLayout",null);h.style=L;export{h as gux_table_toolbar};
