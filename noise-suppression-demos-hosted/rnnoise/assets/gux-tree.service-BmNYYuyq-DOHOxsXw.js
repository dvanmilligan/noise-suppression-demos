import{f as h}from"./index-RhTaIPoL.js";import{w as f}from"./when-event-is-from-kLXvN2m9-B4cyA2sH.js";function N(e){return e.closest("gux-tree-beta")}function v(e){return["GUX-LEAF","GUX-BRANCH"].includes(e.tagName)}function b(e){return e.tagName==="GUX-BRANCH"}function A(e){return e.tagName==="GUX-BRANCH"?e.expanded:!1}function g(e){return!!a(e)}function s(e){const t=[];function n(i){for(const o of Array.from(i.children))v(o)&&t.push(o),b(o)&&n(o)}return n(e),t}function u(e){const t=[];function n(i){for(const o of Array.from(i.children))v(o)&&t.push(o),A(o)&&n(o)}return n(e),t}function d(e){return u(e).filter(n=>!n.disabled&&!n.filtered)}function a(e){return u(e).find(t=>t.active)}function p(e){return u(e).find(t=>t.selected&&!t.disabled&&!t.filtered)}function r(e){return d(e)[0]}function l(e){const t=d(e);return t[t.length-1]}function x(e){if(g(e)&&a(e)!==l(e)){const t=d(e),n=a(e),i=t.indexOf(n);return t[i+1]}return r(e)}function m(e){if(g(e)){const t=d(e),n=t.indexOf(a(e));return a(e)===r(e)?l(e):t[n-1]}return r(e)}function E(e,t){return s(e).find(n=>n.value===t)}function c(e,t){if(e.disabled){T(e);return}t&&(u(e).forEach(n=>{const i=!n.disabled&&!n.filtered&&n===t;n.active=i,i&&e.setAttribute("aria-activedescendant",n.id)}),t.scrollIntoView({block:"nearest"}))}function T(e){s(e).forEach(t=>{t.active=!1}),e.removeAttribute("aria-activedescendant")}function B(e){let t=e.parentElement.closest("gux-branch");for(;t;)t.expanded=!0,t=t.parentElement.closest("gux-branch")}function S(e){s(e).forEach(t=>{t.selected=!1})}function I(e){c(e,p(e)||r(e))}function U(e){c(e,r(e))}function C(e){c(e,l(e))}function L(e){c(e,x(e))}function P(e){c(e,m(e))}function G(e){const n=a(e).parentElement.closest("gux-branch");c(e,n)}function V(e,t){const n=a(t),i=d(n);i[0]&&c(e,i[0])}function w(e,t){t!=null&&t.value&&(s(e).forEach(n=>{n.selected=n===t}),e.value=t.value,t.scrollIntoView({block:"nearest"}))}function X(e,t){const n=E(e,t);n?(B(n),w(e,n)):S(e)}function k(e){return s(e).some(t=>t.selected)}function H(e){let t=e.parentElement.closest("gux-branch, gux-tree-beta, fieldset");for(;t;){if(t.disabled)return!0;t=t.parentElement.closest("gux-branch, gux-tree-beta, fieldset")}return!1}function O(e){s(e).forEach(t=>{h(t)})}function R(e){var t;return(t=N(e))===null||t===void 0?void 0:t.size}function z(e){var t;return(t=N(e))===null||t===void 0?void 0:t.alignment}function _({event:e,onLeaf:t,onBranch:n}){let i=!1;f("gux-leaf",e,o=>{o.value&&(t(o),i=!0)}),i||f("gux-branch",e,o=>{n(o)})}export{z as a,k as b,T as c,I as d,_ as e,O as f,R as g,H as h,C as i,U as j,P as k,L as l,w as m,G as n,V as o,X as s};
