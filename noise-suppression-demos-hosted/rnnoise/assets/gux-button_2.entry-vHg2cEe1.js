import{r as p,h as r,g as f,c as k}from"./index-RhTaIPoL.js";import{t as h}from"./usage-BYFiy2rf-lhiVWKSr.js";import{r as y}from"./random-html-id-D9jKBqIb-D30kRngR.js";import{a as x,c as C,o as w,f as O,s as E,b as P}from"./floating-ui.dom-s4o__4X6-DwnQVfa1.js";import{O as B}from"./on-click-outside-C-8pG9cs-6YGsTWW7.js";import{g as b}from"./get-slot-BBpQG81s-DJNt4BpD.js";import{f as d}from"./find-element-by-id-Cr5bTKWF-DntMpzyb.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const z=":host{display:inline-block;pointer-events:none;-webkit-user-select:none;user-select:none}:host(:focus){outline:none}:host(:focus) button{outline:none}::slotted(gux-icon){inline-size:var(--gse-ui-button-icon-size);block-size:var(--gse-ui-button-icon-size)}::slotted(*){padding-inline-start:var(--gse-ui-button-gap);vertical-align:middle}::slotted(gux-tooltip),::slotted(gux-tooltip-beta){padding-inline-start:0}::slotted(*:first-child){padding:0}button{font-family:var(--gse-ui-button-text-fontFamily);font-size:var(--gse-ui-button-text-fontSize);font-weight:var(--gse-ui-button-text-fontWeight);line-height:var(--gse-ui-button-text-lineHeight);inline-size:100%;min-inline-size:var(--gse-ui-button-iconOnly-width);block-size:var(--gse-ui-button-default-height);padding:var(--gse-ui-button-default-padding);overflow:hidden;text-overflow:ellipsis;color:var(--gse-ui-button-secondary-default-foregroundColor);white-space:nowrap;pointer-events:auto;cursor:pointer;background-color:var(--gse-ui-button-secondary-default-backgroundColor);border:none;border-radius:var(--gse-ui-button-borderRadius)}button.gux-icon-only{display:inline-flex;padding:var(--gse-ui-button-default-paddingIconOnly)}button[disabled]{pointer-events:none;cursor:default;opacity:var(--gse-ui-button-disabled-opacity)}button:hover:enabled{color:var(--gse-ui-button-secondary-hover-foregroundColor);background-color:var(--gse-ui-button-secondary-hover-backgroundColor)}button:active:enabled{color:var(--gse-ui-button-secondary-active-foregroundColor);background-color:var(--gse-ui-button-secondary-active-backgroundColor)}button:focus-visible:enabled{outline:var(--gse-semantic-focusOutline-md-borderWidth) solid var(--gse-semantic-border-focus);outline-offset:var(--gse-semantic-focusOutline-offset);border-radius:var(--gse-semantic-focusOutline-sm-borderRadius)}button.gux-primary{color:var(--gse-ui-button-primary-default-foregroundColor);background-color:var(--gse-ui-button-primary-default-backgroundColor)}button.gux-primary:hover:enabled{color:var(--gse-ui-button-primary-hover-foregroundColor);background-color:var(--gse-ui-button-primary-hover-backgroundColor)}button.gux-primary:active:enabled{color:var(--gse-ui-button-primary-active-foregroundColor);background-color:var(--gse-ui-button-primary-active-backgroundColor)}button.gux-tertiary{color:var(--gse-ui-button-tertiary-default-foregroundColor);background-color:var(--gse-ui-button-tertiary-default-backgroundColor);border-color:var(--gse-ui-button-tertiary-default-border-color);border-style:var(--gse-ui-button-tertiary-default-border-style);border-width:var(--gse-ui-button-tertiary-default-border-width);}button.gux-tertiary.gux-icon-only{padding:calc(var(--gse-ui-button-default-paddingIconOnly) - var(--gse-ui-button-tertiary-default-border-width))}button.gux-tertiary:hover:enabled{color:var(--gse-ui-button-tertiary-hover-foregroundColor);background-color:var(--gse-ui-button-tertiary-hover-backgroundColor)}button.gux-tertiary:active:enabled{color:var(--gse-ui-button-tertiary-active-foregroundColor);background-color:var(--gse-ui-button-tertiary-active-backgroundColor)}button.gux-ghost{color:var(--gse-ui-button-ghost-default-foregroundColor);background-color:var(--gse-ui-button-ghost-default-backgroundColor)}button.gux-ghost:hover:enabled{color:var(--gse-ui-button-ghost-hover-foregroundColor);background-color:var(--gse-ui-button-ghost-hover-backgroundColor)}button.gux-ghost:active:enabled{color:var(--gse-ui-button-ghost-active-foregroundColor);background-color:var(--gse-ui-button-ghost-active-backgroundColor)}button.gux-danger{color:var(--gse-ui-button-danger-default-foregroundColor);background-color:var(--gse-ui-button-danger-default-backgroundColor)}button.gux-danger:hover:enabled{color:var(--gse-ui-button-danger-hover-foregroundColor);background-color:var(--gse-ui-button-danger-hover-backgroundColor)}button.gux-danger:active:enabled{color:var(--gse-ui-button-danger-active-foregroundColor);background-color:var(--gse-ui-button-danger-active-backgroundColor)}button.gux-inline{min-inline-size:initial;block-size:initial;padding:0;color:var(--gse-ui-links-default-foregroundColor);background:none;border:none;border-radius:0}button.gux-inline[disabled]{color:var(--gse-ui-links-disabled-foregroundColor)}button.gux-inline:hover:enabled{color:var(--gse-ui-links-hover-foregroundColor);text-decoration:underline;background:none}button.gux-inline:active:enabled{color:var(--gse-ui-links-active-foregroundColor);text-decoration:underline;background:none}button.gux-copilot{color:var(--gse-ui-button-primary-default-foregroundColor);background:linear-gradient(64deg, var(--gse-ui-copilotButton-default-backgroundColor-bottomLeft) 5.51%, var(--gse-ui-copilotButton-default-backgroundColor-middle) 48.28%, var(--gse-ui-copilotButton-default-backgroundColor-topRight) 88.65%);box-shadow:var(--gse-ui-copilotButton-glow-default)}button.gux-copilot:hover:enabled{color:var(--gse-ui-button-primary-hover-foregroundColor);background:linear-gradient(54deg, var(--gse-ui-copilotButton-hover-backgroundColor-bottomLeft) 7.09%, var(--gse-ui-copilotButton-hover-backgroundColor-middle) 47.64%, var(--gse-ui-copilotButton-hover-backgroundColor-topRight) 103.51%);box-shadow:var(--gse-ui-copilotButton-glow-hover)}button.gux-copilot:active:enabled{color:var(--gse-ui-button-primary-active-foregroundColor);background:linear-gradient(54deg, var(--gse-ui-copilotButton-active-backgroundColor-bottomLeft) 7.17%, var(--gse-ui-copilotButton-active-backgroundColor-middle) 46.7%, var(--gse-ui-copilotButton-active-backgroundColor-topRight) 83.3%);box-shadow:var(--gse-ui-copilotButton-glow-active)}",I=class{constructor(o){p(this,o),this.buttonId=y("button"),this.type="button",this.disabled=!1,this.accent="secondary",this.autofocus=!1}connectedCallback(){this.slotChanged()}componentWillLoad(){h(this.root,{variant:this.accent})}render(){return[r("button",{key:"f07b63831f0e10dbe365b76504bb8094e315d112",id:this.buttonId,type:this.type,disabled:this.disabled,class:{[`gux-${this.accent}`]:!0,"gux-icon-only":this.iconOnly},"aria-label":this.guxTitle,autofocus:this.autofocus},r("slot",{key:"ab4b4748fca4825c2ea67ae423bec0466dfe8dc2",onSlotchange:this.slotChanged.bind(this)})),this.renderTooltip()]}renderTooltip(){return this.guxTitle?r("gux-tooltip-beta",{for:this.buttonId,visualOnly:!0},r("div",{slot:"content"},this.guxTitle)):""}stopEventIfDisabled(o){this.disabled&&(o.stopImmediatePropagation(),o.stopPropagation(),o.preventDefault())}makeSlotContentDisableable(){this.root.shadowRoot.addEventListener("click",o=>this.stopEventIfDisabled(o)),Array.from(this.root.children).forEach(o=>{o.addEventListener("click",t=>this.stopEventIfDisabled(t))})}hasIconOnly(){const o=Array.from(this.root.children);if(o.length===1){if(o[0].tagName==="GUX-ICON")return!0}else if(o.length===2&&o[0].tagName==="GUX-ICON"&&["GUX-TOOLTIP","GUX-TOOLTIP-BETA"].includes(o[1].tagName))return!0;return!1}slotChanged(){this.makeSlotContentDisableable(),this.iconOnly=this.hasIconOnly()}static get delegatesFocus(){return!0}get root(){return f(this)}};I.style=z;function T(o){let t=!1,i=null;return(n,a,e)=>{const s=e.value;e.value=function(...u){t||(s.apply(this,u),t=!0,clearTimeout(i),i=setTimeout(()=>{t=!1},o))}}}const U=".gux-popover-wrapper{position:absolute;inset-block-start:0;inset-inline-start:0;z-index:var(--gse-semantic-zIndex-popover);display:inline-block;padding:var(--gse-ui-popover-padding);background-color:var(--gse-ui-popover-backgroundColor);border-radius:var(--gse-ui-popover-borderRadius);box-shadow:var(--gse-ui-popover-boxShadow)}.gux-popover-wrapper.gux-hidden{display:none}.gux-popover-wrapper .gux-arrow{position:absolute;inline-size:var(--gse-ui-popover-anchor-width);block-size:var(--gse-ui-popover-anchor-height);padding-block-end:4px;overflow:hidden}.gux-popover-wrapper .gux-arrow-caret{inline-size:0;block-size:0;border-block-start:calc(var(--gse-ui-popover-anchor-width) / 2) solid var(--gse-ui-popover-backgroundColor);border-inline-start:calc(var(--gse-ui-popover-anchor-width) / 2) solid transparent;border-inline-end:calc(var(--gse-ui-popover-anchor-width) / 2) solid transparent;filter:drop-shadow(0 0 4px var(--gse-semantic-effects-boxShadow))}.gux-popover-wrapper .gux-popover-header{display:flex;flex-direction:row;place-content:center space-between;align-items:center;padding-block-end:var(--gse-ui-popover-gap);font-family:var(--gse-ui-popover-title-text-fontFamily);font-size:var(--gse-ui-popover-title-text-fontSize);font-weight:var(--gse-ui-popover-title-text-fontWeight);line-height:var(--gse-ui-popover-title-text-lineHeight);color:var(--gse-ui-popover-headerColor)}.gux-popover-wrapper .gux-popover-footer{padding-block-start:var(--gse-ui-popover-gap)}";var v=function(o,t,i,n){var a=arguments.length,e=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(o,t,i,n);else for(var u=o.length-1;u>=0;u--)(s=o[u])&&(e=(a<3?s(e):a>3?s(t,i,e):s(t,i))||e);return a>3&&e&&Object.defineProperty(t,i,e),e};const c=class{constructor(o){p(this,o),this.guxdismiss=k(this,"guxdismiss",7),this.position="bottom",this.displayDismissButton=!1,this.closeOnClickOutside=!1,this.isOpen=!1}onKeyDown(o){switch(o.key){case"Escape":this.dismiss();break}}onFocusout(o){if(!this.closeOnClickOutside&&this.displayDismissButton)return;o.relatedTarget&&!this.root.contains(o.relatedTarget)&&this.dismiss()}checkForClickOutside(o){const t=o.composedPath(),i=d(this.root,this.for),n=t.includes(i);(this.closeOnClickOutside||!this.displayDismissButton)&&this.isOpen&&!n&&this.dismiss()}get titleSlot(){return b(this.root,"title")}get footerSlot(){return b(this.root,"footer")}runUpdatePosition(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition(),this.root.isConnected?this.cleanupUpdatePosition=x(d(this.root,this.for),this.popupElement,()=>this.updatePosition(),{ancestorScroll:!0,elementResize:!0,animationFrame:!0,ancestorResize:!0}):this.disconnectedCallback()}updatePosition(){const o=d(this.root,this.for);this.popupElement&&o&&C(o,this.popupElement,{placement:this.position,middleware:[w(7),O(),E(),P({element:this.arrowElement,padding:16})]}).then(({x:t,y:i,middlewareData:n,placement:a})=>{Object.assign(this.popupElement.style,{left:`${t}px`,top:`${i}px`});const e=a.split("-")[0],s={top:"bottom",right:"left",bottom:"top",left:"right"}[e],u={top:0,right:90,bottom:180,left:-90}[e],m=e==="left"||e==="right"?15:12;if(n.arrow){let l=n.arrow.x;const g=n.arrow.y;(e==="left"||e==="right")&&(l=l+4),this.popupElement.setAttribute("data-placement",a),Object.assign(this.arrowElement.style,{left:l!=null?`${l}px`:"",top:g!=null?`${g}px`:"",right:"",bottom:"",[s]:`${-m}px`,transform:`rotate(${u}deg)`})}})}dismiss(){this.guxdismiss.emit().defaultPrevented||(this.isOpen=!1)}connectedCallback(){h(this.root,{variant:this.position})}componentDidLoad(){this.isOpen&&this.runUpdatePosition()}componentDidUpdate(){this.isOpen?this.runUpdatePosition():this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}disconnectedCallback(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}render(){return r("div",{key:"2b2ef25b7c917a52c465d99073f67c7b53452818",ref:o=>this.popupElement=o,class:{"gux-hidden":!this.isOpen,"gux-popover-wrapper":!0},"data-placement":!0},r("div",{key:"517c8bb137ff65111bf970a50e7ac9a12d07bb4a",ref:o=>this.arrowElement=o,class:"gux-arrow"},r("div",{key:"c793228a4984599ba989b5813b7d862fb41009d0",class:"gux-arrow-caret"})),this.displayDismissButton&&r("gux-dismiss-button",{key:"eaedb414541a815bef7cadc4bfe44956ff50f33f",onClick:this.dismiss.bind(this)}),r("div",{key:"fbdde3717013d4f88d5b45e6289d98f3ccf09f93",class:{"gux-popover-header":!!this.titleSlot}},r("slot",{key:"d1e4552737400ab8dfe2770a4b0da8766c4bd139",name:"title"})),r("div",{key:"95533d360f983484d256320d5b1fe34d760b61a5",class:"gux-popover-content"},r("slot",{key:"5f2c1550f6802e3b0b33fa18ce4f76116379685a"})),r("div",{key:"c03ca65a7dc8f39de5a090eadbddf6a2ae05ed31",class:{"gux-popover-footer":!!this.footerSlot}},r("slot",{key:"3f2175584dab87c9f2a44488e428c503d6e0b6b0",name:"footer"})))}get root(){return f(this)}};v([B({triggerEvents:"mousedown"})],c.prototype,"checkForClickOutside",null);v([T(100)],c.prototype,"dismiss",null);c.style=U;export{I as gux_button,c as gux_popover};
