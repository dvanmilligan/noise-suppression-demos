import{r as p,c as g,f as c,h as t,g as m}from"./index-RhTaIPoL.js";import{c as x,o as b}from"./on-input-disabled-state-change-Cb3FOYGS-_B452ZSd.js";import{O as v}from"./on-mutation-D5H4nH4U-CeToMEmQ.js";import{o as C}from"./on-attribute-change-De1NnCmO-C8j0fVsi.js";import{p as y}from"./prevent-browser-validation-styling-PYfNAK8p-8P9I4Sy5.js";import{h as a}from"./has-slot-qzV3vtOw-D7GdaS0G.js";import{G as w,a as k}from"./gux-form-field-error-Dyi3YXR2-iLJZN6dq.js";import{G as L,a as T}from"./gux-form-field-container-C1Au1mHW-CoCMVxfO.js";import{h as d,s as h,d as F,c as S,g as z,v as E,a as I}from"./gux-form-field.service-Nq3AAQGS-Db9x5865.js";import{t as P}from"./usage-BYFiy2rf-lhiVWKSr.js";import{f as q}from"./focus-input-element-JHLuJ8Pb-hXwZ4F3C.js";import{b as H}from"./index-Bbwiw1Rf-CzeU2kBB.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./random-html-id-D9jKBqIb-D30kRngR.js";import"./log-error-DxtJDeL9-5foDqi4E.js";import"./simulate-native-event-BMRf5pjV-BcLDngo1.js";import"./get-closest-element-Cd4R0amv-C_5KDHD-.js";const R=({characterLimit:e,characterCount:r,labelPosition:i,i18n:o})=>t("div",{class:{"gux-form-field-character-count":!0,"gux-label-above":i==="above","gux-exceeded":r>e},"data-testid":"gux-form-field-character-count"},t("span",{"aria-hidden":"true","data-testid":"gux-form-field-character-count-display"},r+"/"+e),t("gux-screen-reader-beta",{"aria-live":"polite"},o("charactersRemaining",{characterCount:r,characterLimit:e}))),O="{characterCount, number} of {characterLimit, number} characters remaining";var _={charactersRemaining:O};const B=".gux-form-field-container{display:flex;flex-direction:column}.gux-form-field-container.gux-beside{flex-direction:row}.gux-character-counter{display:grid;grid-template-rows:auto auto auto;grid-template-columns:1fr 1fr}.gux-character-counter :nth-child(1){grid-row:1/2;grid-column:2/3}.gux-character-counter :nth-child(2){grid-row:1/2;grid-column:1/2}.gux-character-counter :nth-child(3){grid-row:2/3;grid-column:1/-1}.gux-character-counter :nth-child(4){grid-row:3/4;grid-column:1/-1}.gux-character-counter.gux-beside{grid-template-columns:min-content 1fr}.gux-character-counter.gux-beside :nth-child(1){grid-row:1/2;grid-column:1/-1}.gux-character-counter.gux-beside :nth-child(2){grid-row:2/3;grid-column:1/2}.gux-character-counter.gux-beside :nth-child(3){grid-row:2/3;grid-column:2/3}.gux-character-counter.gux-beside :nth-child(4){grid-row:3/4;grid-column:1/-1}.gux-form-field-error{display:none;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-formControl-helper-gap);place-content:stretch flex-start;padding:var(--gse-ui-formControl-helper-errorPadding);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error.gux-show{display:flex}.gux-form-field-error gux-icon{flex:0 0 auto;order:0;color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error .gux-message{flex:0 1 auto;align-self:auto;order:0}.gux-form-field-label{display:inline-flex;flex:1 0 auto}.gux-form-field-label ::slotted(label){min-inline-size:0}.gux-form-field-label ::slotted(gux-label-info-beta){padding-inline-start:var(--gse-ui-formControl-formField-gap)}.gux-form-field-label.gux-beside{position:relative;inset-block-start:var(--gse-ui-formControl-input-top);inline-size:fit-content;min-inline-size:var(--gse-ui-formControl-input-textfield-minWidth);max-inline-size:fit-content;margin-inline-end:var(--gse-ui-formControl-group-gapItems)}.gux-form-field-label.gux-above{padding-block-end:var(--gse-ui-formControl-formField-gap)}.gux-form-field-label.gux-screenreader{position:absolute;top:auto;left:-10000px;width:1px;height:1px;overflow:hidden}.gux-form-field-help{display:none;flex-direction:row;flex-wrap:nowrap;place-content:stretch flex-start;align-items:flex-start;justify-content:flex-start;padding-block-start:var(--gse-ui-formControl-formField-gap);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-defaultColor)}.gux-form-field-help.gux-show{display:flex}.gux-form-field-help .gux-message{flex:0 1 auto;align-self:none;order:0}.gux-form-field-character-count{display:flex;justify-content:flex-end;padding-block-end:var(--gse-ui-formControl-formField-gap);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);font-weight:var(--gse-ui-formControl-helper-helperText-fontWeight);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-defaultColor)}.gux-form-field-character-count.gux-exceeded{color:var(--gse-ui-formControl-helper-errorColor)}:host{display:block}::slotted(label){font-family:var(--gse-ui-formControl-label-textBold-fontFamily);font-size:var(--gse-ui-formControl-label-textBold-fontSize);font-weight:var(--gse-ui-formControl-label-textBold-fontWeight);line-height:var(--gse-ui-formControl-label-textBold-lineHeight);color:var(--gse-ui-formControl-label-labelColor)}::slotted(input){flex:1 1 auto;align-self:auto;order:0;inline-size:100%;overflow:hidden;text-overflow:ellipsis;font-family:var(--gse-ui-formControl-input-contentText-fontFamily);font-size:var(--gse-ui-formControl-input-contentText-fontSize);font-weight:var(--gse-ui-formControl-input-contentText-fontWeight);line-height:var(--gse-ui-formControl-input-contentText-lineHeight);color:var(--gse-ui-formControl-input-populatedColor);outline:none;background-color:var(--gse-ui-formControl-input-backgroundColor);border:none}::slotted(input)::placeholder{color:var(--gse-ui-formControl-input-placeholderColor);opacity:1}slot[name=prefix],slot[name=suffix]{font-family:var(--gse-ui-formControl-input-prefixSufix-text-fontFamily);font-size:var(--gse-ui-formControl-input-prefixSufix-text-fontSize);line-height:var(--gse-ui-formControl-input-prefixSufix-text-lineHeight);color:var(--gse-ui-formControl-input-prefixSufix-defaultColor);text-align:center;white-space:nowrap;text-decoration:none}.gux-input-and-error-container{flex-grow:1}.gux-input-and-error-container .gux-input .gux-input-container{box-sizing:border-box;display:flex;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-formControl-input-gap);place-content:stretch center;align-items:center;inline-size:100%;block-size:var(--gse-ui-formControl-input-textfield-height);padding:var(--gse-ui-formControl-input-padding);font-family:var(--gse-ui-formControl-input-contentText-fontFamily);font-size:var(--gse-ui-formControl-input-contentText-fontSize);font-weight:var(--gse-ui-formControl-input-contentText-fontWeight);line-height:var(--gse-ui-formControl-input-contentText-lineHeight);color:var(--gse-ui-formControl-input-populatedColor);cursor:text;background-color:var(--gse-ui-formControl-input-backgroundColor);background-image:none;border:var(--gse-ui-formControl-input-default-border-width) var(--gse-ui-formControl-input-default-border-style) var(--gse-ui-formControl-input-default-border-color);border-radius:var(--gse-ui-formControl-input-borderRadius)}.gux-input-and-error-container .gux-input .gux-input-container.gux-has-suffix:not(.gux-input-and-error-container .gux-input .gux-input-container.gux-has-prefix) ::slotted(input){text-align:end}.gux-input-and-error-container .gux-input .gux-input-container.gux-disabled{cursor:default;opacity:var(--gse-ui-formControl-input-disabled-opacity)}.gux-input-and-error-container .gux-input .gux-input-container:focus-within{outline:var(--gse-ui-formControl-input-focus-border-width) var(--gse-ui-formControl-input-focus-border-style) var(--gse-ui-formControl-input-focus-border-color);outline-offset:var(--gse-semantic-focusOutline-offset);border:var(--gse-ui-formControl-input-active-border-width) var(--gse-ui-formControl-input-active-border-style) var(--gse-ui-formControl-input-active-border-color);border-radius:var(--gse-ui-formControl-focusRing-borderRadius)}.gux-input-and-error-container .gux-input .gux-input-container:hover:not(.gux-disabled){border:var(--gse-ui-formControl-input-hover-border-width) var(--gse-ui-formControl-input-hover-border-style) var(--gse-ui-formControl-input-hover-border-color)}.gux-input-and-error-container .gux-input.gux-input-error .gux-input-container{border-color:var(--gse-ui-formControl-input-error-border-color)}";var G=function(e,r,i,o){var l=arguments.length,n=l<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,i):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,r,i,o);else for(var u=e.length-1;u>=0;u--)(s=e[u])&&(n=(l<3?s(n):l>3?s(r,i,n):s(r,i))||n);return l>3&&n&&Object.defineProperty(r,i,n),n};const f=class{constructor(e){p(this,e),this.characterLimitChange=g(this,"characterLimitChange",7),this.loading=!1,this.indicatorMark="required",this.characterLimit=0,this.computedLabelPosition="above",this.hasContent=!1,this.hasError=!1,this.hasHelp=!1,this.charactersExceeding=!1}onMutation(){this.labelInfo=this.root.querySelector("[slot=label-info]"),this.hasError=a(this.root,"error"),this.hasHelp=a(this.root,"help")}handleKeyup(e){var r,i;switch(e.key){case"Tab":{this.input.matches(":focus-visible")&&((r=this.labelInfo)===null||r===void 0||r.showTooltip(),this.hideLabelInfoTimeout=setTimeout(()=>{var o;(o=this.labelInfo)===null||o===void 0||o.hideTooltip()},6e3));break}case"Shift":break;default:{this.input.matches(":focus-visible")&&((i=this.labelInfo)===null||i===void 0||i.hideTooltip(),clearTimeout(this.hideLabelInfoTimeout));break}}}onFocusout(){var e;(e=this.labelInfo)===null||e===void 0||e.hideTooltip(),clearTimeout(this.hideLabelInfoTimeout)}async guxForceUpdate(){this.hasContent=d(this.input),this.hasError=a(this.root,"error"),this.hasHelp=a(this.root,"help"),c(this.root)}get characterCount(){return this.input.value.length}renderRadialLoading(){if(this.loading)return t("div",{role:"status"},t("gux-radial-loading",{context:"input"}))}async componentWillLoad(){this.setInput(),this.setLabel(),this.labelInfo=this.root.querySelector("[slot=label-info]"),this.hasError=a(this.root,"error"),this.hasHelp=a(this.root,"help"),this.hasPrefix=!!this.root.querySelector('[slot="prefix"]'),this.hasSuffix=!!this.root.querySelector('[slot="suffix"]'),this.hasPrefix&&h(this.root,this.input,"prefix"),this.hasSuffix&&h(this.root,this.input,"suffix"),this.characterLimit>0&&F(this.root,this.input),this.checkCharacterLimitExceeded(),this.i18n=await H(this.root,_),P(this.root,{variant:this.variant})}disconnectedCallback(){this.disabledObserver&&this.disabledObserver.disconnect(),this.requiredObserver&&this.requiredObserver.disconnect()}renderCharacterCount(){if(this.characterLimit>0)return t(R,{i18n:this.i18n,characterCount:this.characterCount,characterLimit:this.characterLimit,labelPosition:this.computedLabelPosition})}render(){return t(T,{key:"84bfa8c2a6f1224aaf46cd8d1933c8e6d762e0b8",labelPosition:this.computedLabelPosition,characterLimit:this.characterLimit},this.renderCharacterCount(),t(L,{key:"928c172680e4137816d8b8aa10e6ca11029f5988",required:this.required,position:this.computedLabelPosition},t("slot",{key:"9def089d576cdaaf58d8162dd76569e726c9c1db",name:"label",onSlotchange:()=>this.setLabel()}),t("gux-form-field-label-indicator",{key:"efceb7106f0c803c0e43568163f5791d0a2c6153",variant:this.indicatorMark,required:this.required}),t("slot",{key:"5a61dbbe2d199e9260d01c038669c7aa89f88488",name:"label-info"})),t("div",{key:"b3438dbd152e22030daa398380badd7c17c1d457",class:"gux-input-and-error-container"},t("div",{key:"3cedbee3a910e2d6101ac116ec202482f449d7cc",class:{"gux-input":!0,"gux-input-error":this.hasError||this.charactersExceeding}},t("div",{key:"1348aa9633e84195640872099f9d4ec54c7e24a2",class:{"gux-input-container":!0,"gux-disabled":this.disabled,"gux-has-prefix":this.hasPrefix,"gux-has-suffix":this.hasSuffix},onClick:()=>q(this.input)},t("slot",{key:"96b3463ed5443bfdc39e1b8deb1aedda99c942bd",name:"prefix"}),t("slot",{key:"599610cb5c79cb73ea604ef8cf1fac21794970e3",name:"input"}),this.renderRadialLoading(),t("slot",{key:"d88a13ef853c189121647acdd48b8f50267d4953",name:"suffix"}),this.clearable&&this.hasContent&&!this.disabled&&t("gux-form-field-input-clear-button",{key:"685cb5bd7a73ea873209cb935426e3d97ca32d6e",onClick:()=>S(this.input)}))),t(w,{key:"8142d37c891b2c088d5162d7502b76673de230e1",show:this.hasError},t("slot",{key:"92581bb500965cd74b079f7f5c9f8d3602582a5d",name:"error"})),t(k,{key:"50d3bb9ca97762792f15aa5e1ea01ce340cad32d",show:!this.hasError&&this.hasHelp},t("slot",{key:"87229ebd6db74efe3d55af3c56f8e715a9cfd3ad",name:"help"}))))}get variant(){const e=this.labelPosition?this.labelPosition.toLowerCase():"none",r=this.input.getAttribute("type"),i=this.clearable?"clearable":"unclearable";return`${r}-${i}-${e}`}checkCharacterLimitExceeded(){if(this.characterLimit<=0)return;const e=this.characterCount>this.characterLimit;e!==this.charactersExceeding&&(e?(this.input.setAttribute("aria-invalid","true"),this.characterLimitChange.emit(e)):(this.input.removeAttribute("aria-invalid"),this.characterLimitChange.emit(e)),this.charactersExceeding=e)}setInput(){this.input=z(this.root,'input[type="email"][slot="input"], input[type="number"][slot="input"], input[type="password"][slot="input"], input[type="text"][slot="input"]'),this.hasContent=d(this.input),y(this.input),this.input.addEventListener("input",()=>{this.hasContent=d(this.input),this.checkCharacterLimitExceeded(),c(this.root)}),this.disabled=x(this.input),this.required=this.input.required,this.disabledObserver=b(this.input,e=>{this.disabled=e}),this.requiredObserver=C(this.input,e=>{this.required=e}),E(this.root,this.input)}setLabel(){this.label=this.root.querySelector('label[slot="label"]'),this.computedLabelPosition=I(this.label,this.labelPosition)}get root(){return m(this)}};G([v({childList:!0,subtree:!0})],f.prototype,"onMutation",null);f.style=B;export{f as gux_form_field_text_like};
