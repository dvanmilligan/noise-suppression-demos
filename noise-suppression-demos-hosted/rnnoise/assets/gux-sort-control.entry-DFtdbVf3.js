import{r as a,c as s,h as t,g as r}from"./index-RhTaIPoL.js";import{b as n}from"./index-Bbwiw1Rf-CzeU2kBB.js";import{t as i}from"./usage-BYFiy2rf-lhiVWKSr.js";import{g as o}from"./get-closest-element-Cd4R0amv-C_5KDHD-.js";import{o as c}from"./on-mutation-CF55kYjc-BUuUxYmY.js";import{t as l}from"./en-BIx814vt-Djb_tyvG.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const d=".gux-container{position:absolute;inset:0;display:flex;flex-direction:row;flex-wrap:nowrap;place-content:flex-start flex-start;align-items:center;border-block-start:var(--gse-ui-dataTableItems-header-selectedBar-height) solid transparent;border-block-end:var(--gse-ui-dataTableItems-header-selectedBar-height) solid transparent}.gux-container.gux-active{border-block-end-color:var(--gse-ui-dataTableItems-header-selectedIndicatorColor)}.gux-container:focus-within{border-block-end-color:var(--gse-ui-dataTableItems-header-selectedIndicatorColor)}.gux-container .gux-sort-button{all:unset;flex:1 1 auto;align-self:stretch;order:0;cursor:pointer}.gux-container .gux-sort-button .gux-sort-icon{float:inline-end;margin-block:0;margin-inline:var(--gse-ui-dataTableItems-header-gap);color:var(--gse-ui-dataTableItems-header-sort-foregroundColor)}.gux-container .gux-sort-button .gux-sort-icon.gux-left{float:inline-start;margin-inline-start:calc(2px + var(--gse-ui-dataTableItems-header-gap))}.gux-container .gux-resize-spacer{flex:0 1 auto;align-self:stretch;order:0;inline-size:2px}",u=class{constructor(e){a(this,e),this.guxsortchanged=s(this,"guxsortchanged",7),this.includeUnsorted=!1,this.active=!1,this.sort="none",this.isLeftAlignIcon=!1}async componentWillLoad(){i(this.root),this.i18n=await n(this.root,l,"gux-table"),this.tableHeader=o("th",this.root),this.thObserver=c(this.tableHeader,()=>{this.setState()},{attributes:!0,childList:!1,subtree:!1}),this.setState()}disconnectedCallback(){this.thObserver&&this.thObserver.disconnect()}onClick(){this.guxsortchanged.emit({columnName:this.tableHeader.dataset.columnName,sortDirection:this.getNextSort(this.sort)})}setState(){this.headerContent=this.tableHeader.textContent,this.isLeftAlignIcon=this.tableHeader.hasAttribute("data-cell-numeric")||this.tableHeader.hasAttribute("data-cell-action");const e=this.tableHeader.getAttribute("aria-sort");switch(e){case"ascending":case"descending":this.active=!0,this.sort=e;break;default:this.active=!1,this.sort="none"}}getIconName(e){switch(e){case"descending":return"fa/caret-down-solid";case"ascending":default:return"fa/caret-up-solid"}}getNextSort(e){switch(e){case"none":return"ascending";case"ascending":return"descending";case"descending":default:return this.includeUnsorted?"none":"ascending"}}getSRText(e){switch(e){case"ascending":return this.i18n("ascendingColumnSort",{headerContent:this.headerContent});case"descending":return this.includeUnsorted?this.i18n("descendingColumnSortIncludeUnsorted",{headerContent:this.headerContent}):this.i18n("descendingColumnSort",{headerContent:this.headerContent});default:return this.i18n("noColumnSort",{headerContent:this.headerContent})}}render(){return t("div",{key:"29bfa8a317fdb62bb4de45014852e16ae52b6e69",class:{"gux-container":!0,"gux-active":this.active}},t("button",{key:"b43c0a6106a354bab965e1d71deaaa54895a3ca3",class:"gux-sort-button",type:"button",onClick:()=>this.onClick(),"aria-label":this.getSRText(this.sort)},t("gux-icon",{key:"12415345c67f07e0b3bfb0ef36f62b24484f5d52",class:{"gux-sort-icon":!0,"gux-left":this.isLeftAlignIcon},size:"small","icon-name":this.getIconName(this.sort),decorative:!0})),t("div",{key:"2d14630ced9af981115d0feb64aac8227581ca83",class:"gux-resize-spacer"}))}static get delegatesFocus(){return!0}get root(){return r(this)}};u.style=d;export{u as gux_sort_control};
