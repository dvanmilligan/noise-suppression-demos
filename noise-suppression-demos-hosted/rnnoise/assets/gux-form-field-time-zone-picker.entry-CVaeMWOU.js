import{r as h,h as i,g as b}from"./index-RhTaIPoL.js";import{b as c}from"./index-Bbwiw1Rf-CzeU2kBB.js";import{O as m}from"./on-mutation-D5H4nH4U-CeToMEmQ.js";import{a as p,o as g}from"./on-attribute-change-De1NnCmO-C8j0fVsi.js";import{h as a}from"./has-slot-qzV3vtOw-D7GdaS0G.js";import{g as d}from"./get-slot-text-content-MAoEg4ig-DTSoMW52.js";import{G as x,a as v}from"./gux-form-field-error-Dyi3YXR2-iLJZN6dq.js";import{G as y,a as C,b as k}from"./gux-form-field-fieldset-container-B6FHqi9L-CyDwlgCW.js";import{v as w,a as F}from"./gux-form-field.service-Nq3AAQGS-Db9x5865.js";import{t as T}from"./usage-BYFiy2rf-lhiVWKSr.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-Cd4R0amv-C_5KDHD-.js";import"./random-html-id-D9jKBqIb-D30kRngR.js";import"./log-error-DxtJDeL9-5foDqi4E.js";import"./simulate-native-event-BMRf5pjV-BcLDngo1.js";const q="Required";var I={required:q};const L=".gux-form-field-fieldset-container{display:flex;min-inline-size:0;padding:0;margin:0;border:none}.gux-form-field-fieldset-container.gux-beside{flex-direction:row}.gux-form-field-fieldset-container.gux-above{flex-direction:column}.gux-form-field-error{display:none;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-formControl-helper-gap);place-content:stretch flex-start;padding:var(--gse-ui-formControl-helper-errorPadding);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error.gux-show{display:flex}.gux-form-field-error gux-icon{flex:0 0 auto;order:0;color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error .gux-message{flex:0 1 auto;align-self:auto;order:0}.gux-form-field-help{display:none;flex-direction:row;flex-wrap:nowrap;place-content:stretch flex-start;align-items:flex-start;justify-content:flex-start;padding-block-start:var(--gse-ui-formControl-formField-gap);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-defaultColor)}.gux-form-field-help.gux-show{display:flex}.gux-form-field-help .gux-message{flex:0 1 auto;align-self:none;order:0}.gux-form-field-visual-label{display:inline-flex;flex:1 0 auto}.gux-form-field-visual-label ::slotted(label){min-inline-size:0}.gux-form-field-visual-label ::slotted(gux-label-info-beta){padding-inline-start:var(--gse-ui-formControl-formField-gap)}.gux-form-field-visual-label.gux-beside{position:relative;inset-block-start:var(--gse-ui-formControl-input-top);inline-size:fit-content;min-inline-size:var(--gse-ui-formControl-input-textfield-minWidth);max-inline-size:fit-content;margin-inline-end:var(--gse-ui-formControl-group-gapItems)}.gux-form-field-visual-label.gux-above{padding-block-end:var(--gse-ui-formControl-formField-gap)}.gux-form-field-visual-label.gux-screenreader{display:none}.gux-form-field-screenreader-label{position:absolute;top:auto;left:-10000px;width:1px;height:1px;overflow:hidden}::slotted(label){font-family:var(--gse-ui-formControl-label-textBold-fontFamily);font-size:var(--gse-ui-formControl-label-textBold-fontSize);font-weight:var(--gse-ui-formControl-label-textBold-fontWeight);line-height:var(--gse-ui-formControl-label-textBold-lineHeight);color:var(--gse-ui-formControl-label-labelColor)}.gux-input-and-error-container{flex-grow:1}";var P=function(e,o,t,r){var s=arguments.length,l=s<3?o:r===null?r=Object.getOwnPropertyDescriptor(o,t):r,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,o,t,r);else for(var f=e.length-1;f>=0;f--)(n=e[f])&&(l=(s<3?n(l):s>3?n(o,t,l):n(o,t))||l);return s>3&&l&&Object.defineProperty(o,t,l),l};const u=class{constructor(e){h(this,e),this.indicatorMark="required",this.computedLabelPosition="above",this.hasError=!1,this.hasHelp=!1,this.hasLabelInfo=!1}watchValue(e){const o=this.root.querySelector("gux-time-zone-picker-beta");o&&(o.hasError=e)}onMutation(){this.labelInfo=this.root.querySelector("[slot=label-info]"),this.hasError=a(this.root,"error"),this.hasHelp=a(this.root,"help")}handleKeyup(e){var o,t;switch(e.key){case"Tab":{this.input.matches(":focus-within")&&((o=this.labelInfo)===null||o===void 0||o.showTooltip(),this.hideLabelInfoTimeout=setTimeout(()=>{var r;(r=this.labelInfo)===null||r===void 0||r.hideTooltip()},6e3));break}case"Shift":break;default:{this.input.matches(":focus-within")&&((t=this.labelInfo)===null||t===void 0||t.hideTooltip(),clearTimeout(this.hideLabelInfoTimeout));break}}}onFocusout(){var e;(e=this.labelInfo)===null||e===void 0||e.hideTooltip(),clearTimeout(this.hideLabelInfoTimeout)}async componentWillLoad(){this.getI18nValue=await c(this.root,I),this.setInput(),this.setLabel(),this.labelInfo=this.root.querySelector("[slot=label-info]"),this.hasError=a(this.root,"error"),this.hasHelp=a(this.root,"help"),this.hasLabelInfo=a(this.root,"label-info"),T(this.root,{variant:this.variant})}disconnectedCallback(){this.disabledObserver&&this.disabledObserver.disconnect(),this.requiredObserver&&this.requiredObserver.disconnect()}render(){var e;return i(k,{key:"21467e9b2299d7ee0853c0e0008a401c7279b07f",labelPosition:this.computedLabelPosition},i(C,{key:"bb9317db3fa559f737a579c19fff8fa813b420bf"},(e=this.label)===null||e===void 0?void 0:e.textContent,this.renderText(this.getI18nValue("required"),this.required),this.renderText(d(this.root,"error"),this.hasError),this.renderText(d(this.root,"label-info"),this.hasLabelInfo)),i(y,{key:"66c0bbe82b974b5229a941b217e4dc2745cb7c60",position:this.computedLabelPosition,required:this.required},i("slot",{key:"efe622c12df80dd65d67882eb493fcd5e27feed5",name:"label",onSlotchange:()=>this.setLabel()}),i("gux-form-field-label-indicator",{key:"eae51970890f31712bd689b794e9dbe8f67b81c5",variant:this.indicatorMark,required:this.required}),i("slot",{key:"fd5d41278845856a66de9a632edf8ef0975c207a",name:"label-info"})),i("slot",{key:"f42f4b1303fe997662fc1b470e5e7103a4faf297",name:"label-info"}),i("div",{key:"8596a3bea0f004b8591d9712fd2f84aabaf4de1f",class:"gux-input-and-error-container"},i("div",{key:"be91e27d9454ecd1e42829c608516ed0531e7fe5",class:{"gux-input":!0,"gux-input-error":this.hasError,"gux-time-zone-picker-container":!0,"gux-disabled":this.disabled}},i("slot",{key:"6f87181606e377e580d41a237a82ba5f96c3d2c3"})),i(x,{key:"6f51aa4582695e10633a7cffc4d28e2b9fb52498",show:this.hasError},i("slot",{key:"54f035cf3a444dfd7ec6a25b0d4a2f464afc3ead",name:"error"})),i(v,{key:"bec79ed86cc0e2e0c091a0d92ad70a51ac365c19",show:!this.hasError&&this.hasHelp},i("slot",{key:"b0ce7b1a6e842b6d9d4aa332d73812ab19e1c0f8",name:"help"}))))}renderText(e,o=!1){if(o)return" "+e}get variant(){return`timeZonePicker-${this.labelPosition?this.labelPosition.toLowerCase():"none"}`}setInput(){this.input=this.root.querySelector("gux-time-zone-picker-beta"),this.disabled=this.input.disabled,this.required=this.input.required,this.disabledObserver=p(this.input,e=>{this.disabled=e}),this.requiredObserver=g(this.input,e=>{this.required=e}),w(this.root,this.input)}setLabel(){this.label=this.root.querySelector('label[slot="label"]'),this.computedLabelPosition=F(this.label,this.labelPosition)}get root(){return b(this)}static get watchers(){return{hasError:["watchValue"]}}};P([m({childList:!0,subtree:!0})],u.prototype,"onMutation",null);u.style=L;export{u as gux_form_field_time_zone_picker};
