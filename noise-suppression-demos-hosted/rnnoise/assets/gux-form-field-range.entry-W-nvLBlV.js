import{r as f,f as p,h as t,H as m,g as b}from"./index-RhTaIPoL.js";import{c as x,o as v}from"./on-input-disabled-state-change-Cb3FOYGS-_B452ZSd.js";import{O as y}from"./on-mutation-D5H4nH4U-CeToMEmQ.js";import{o as k}from"./on-attribute-change-De1NnCmO-C8j0fVsi.js";import{p as w}from"./prevent-browser-validation-styling-PYfNAK8p-8P9I4Sy5.js";import{h as u}from"./has-slot-qzV3vtOw-D7GdaS0G.js";import{G as C,a as S}from"./gux-form-field-error-Dyi3YXR2-iLJZN6dq.js";import{a as I,G as F}from"./gux-form-field-container-C1Au1mHW-CoCMVxfO.js";import{g as z,v as T,a as E}from"./gux-form-field.service-Nq3AAQGS-Db9x5865.js";import{t as P}from"./usage-BYFiy2rf-lhiVWKSr.js";import{O as L}from"./on-resize-DU66ME6L-yF4SUj4S.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./random-html-id-D9jKBqIb-D30kRngR.js";import"./log-error-DxtJDeL9-5foDqi4E.js";import"./simulate-native-event-BMRf5pjV-BcLDngo1.js";const q=".gux-form-field-container{display:flex;flex-direction:column}.gux-form-field-container.gux-beside{flex-direction:row}.gux-character-counter{display:grid;grid-template-rows:auto auto auto;grid-template-columns:1fr 1fr}.gux-character-counter :nth-child(1){grid-row:1/2;grid-column:2/3}.gux-character-counter :nth-child(2){grid-row:1/2;grid-column:1/2}.gux-character-counter :nth-child(3){grid-row:2/3;grid-column:1/-1}.gux-character-counter :nth-child(4){grid-row:3/4;grid-column:1/-1}.gux-character-counter.gux-beside{grid-template-columns:min-content 1fr}.gux-character-counter.gux-beside :nth-child(1){grid-row:1/2;grid-column:1/-1}.gux-character-counter.gux-beside :nth-child(2){grid-row:2/3;grid-column:1/2}.gux-character-counter.gux-beside :nth-child(3){grid-row:2/3;grid-column:2/3}.gux-character-counter.gux-beside :nth-child(4){grid-row:3/4;grid-column:1/-1}.gux-form-field-error{display:none;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-formControl-helper-gap);place-content:stretch flex-start;padding:var(--gse-ui-formControl-helper-errorPadding);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error.gux-show{display:flex}.gux-form-field-error gux-icon{flex:0 0 auto;order:0;color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error .gux-message{flex:0 1 auto;align-self:auto;order:0}.gux-form-field-label{display:inline-flex;flex:1 0 auto}.gux-form-field-label ::slotted(label){min-inline-size:0}.gux-form-field-label ::slotted(gux-label-info-beta){padding-inline-start:var(--gse-ui-formControl-formField-gap)}.gux-form-field-label.gux-beside{position:relative;inset-block-start:var(--gse-ui-formControl-input-top);inline-size:fit-content;min-inline-size:var(--gse-ui-formControl-input-textfield-minWidth);max-inline-size:fit-content;margin-inline-end:var(--gse-ui-formControl-group-gapItems)}.gux-form-field-label.gux-above{padding-block-end:var(--gse-ui-formControl-formField-gap)}.gux-form-field-label.gux-screenreader{position:absolute;top:auto;left:-10000px;width:1px;height:1px;overflow:hidden}.gux-form-field-help{display:none;flex-direction:row;flex-wrap:nowrap;place-content:stretch flex-start;align-items:flex-start;justify-content:flex-start;padding-block-start:var(--gse-ui-formControl-formField-gap);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-defaultColor)}.gux-form-field-help.gux-show{display:flex}.gux-form-field-help .gux-message{flex:0 1 auto;align-self:none;order:0}:host{display:block}::slotted(label){font-family:var(--gse-ui-formControl-label-textBold-fontFamily);font-size:var(--gse-ui-formControl-label-textBold-fontSize);font-weight:var(--gse-ui-formControl-label-textBold-fontWeight);line-height:var(--gse-ui-formControl-label-textBold-lineHeight);color:var(--gse-ui-formControl-label-labelColor)}::slotted(input[type=range]){position:absolute;inline-size:100%;block-size:var(--gse-ui-rangeSlider-bar-height);margin-block:calc(var(--gse-ui-rangeSlider-handle-height) / 2);margin-block-start:calc(-1 * (calc(var(--gse-ui-rangeSlider-handle-height) / 2) + var(--gse-ui-rangeSlider-bar-height)));margin-inline:0;-webkit-appearance:none;background:transparent}.gux-input-and-error-container{flex-grow:1}.gux-input-and-error-container.gux-hidden{display:none}.gux-input-and-error-container .gux-range-input-container{display:flex;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-rangeSlider-gap);place-content:stretch flex-start;align-items:center;block-size:var(--gse-ui-rangeSlider-set-height);font-size:var(--gse-ui-rangeSlider-label-text-fontSize)}.gux-input-and-error-container .gux-range-input-container.gux-disabled{opacity:var(--gse-ui-rangeSlider-disabled-opacity)}.gux-input-and-error-container .gux-range-input-container .gux-range{position:relative;flex:1 1 auto;align-self:center;order:0}.gux-input-and-error-container .gux-range-input-container .gux-range:hover .gux-range-tooltip,.gux-input-and-error-container .gux-range-input-container .gux-range:focus-within .gux-range-tooltip{visibility:visible}.gux-input-and-error-container .gux-range-input-container .gux-range .gux-track{inline-size:100%;block-size:var(--gse-ui-rangeSlider-bar-height);margin-block:6px;margin-inline:0;background:var(--gse-ui-rangeSlider-bar-default-backgroundColor);border-radius:var(--gse-ui-rangeSlider-track-borderRadius)}.gux-input-and-error-container .gux-range-input-container .gux-range .gux-track .gux-progress{block-size:var(--gse-ui-rangeSlider-bar-height);background-color:var(--gse-ui-rangeSlider-bar-selected-backgroundColor);border-radius:var(--gse-ui-rangeSlider-track-borderRadius)}.gux-input-and-error-container .gux-range-input-container .gux-display{flex:0 1 auto;align-self:auto;order:0;margin-block:0;margin-inline:var(--gux-spacing-medium) 0;font-family:var(--gse-ui-rangeSlider-label-text-fontFamily);font-size:var(--gse-ui-rangeSlider-label-text-fontSize);font-weight:var(--gse-ui-rangeSlider-label-text-fontWeight);line-height:var(--gse-ui-rangeSlider-label-text-lineHeight);text-align:end}.gux-input-and-error-container .gux-range-input-container .gux-display.gux-hidden{display:none}.gux-form-field-label.gux-beside{inset-block-start:0}";var g=function(e,i,r,o){var n=arguments.length,a=n<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,r):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,i,r,o);else for(var s=e.length-1;s>=0;s--)(l=e[s])&&(a=(n<3?l(a):n>3?l(i,r,a):l(i,r))||a);return n>3&&a&&Object.defineProperty(i,r,a),a};const d=class{constructor(e){f(this,e),this.indicatorMark="required",this.computedLabelPosition="above",this.hasError=!1,this.hasHelp=!1}onInput(e){const i=e.target;this.updateValue(i.value)}onMousedown(){this.disabled||(this.active=!0)}onMouseup(){this.active=!1}onMutation(){this.labelInfo=this.root.querySelector("[slot=label-info]"),this.hasError=u(this.root,"error"),this.hasHelp=u(this.root,"help")}handleKeyup(e){var i,r;switch(e.key){case"Tab":{this.input.matches(":focus-visible")&&((i=this.labelInfo)===null||i===void 0||i.showTooltip(),this.hideLabelInfoTimeout=setTimeout(()=>{var o;(o=this.labelInfo)===null||o===void 0||o.hideTooltip()},6e3));break}case"Shift":break;default:{this.input.matches(":focus-visible")&&((r=this.labelInfo)===null||r===void 0||r.hideTooltip(),clearTimeout(this.hideLabelInfoTimeout));break}}}onFocusout(){var e;this.active=!1,(e=this.labelInfo)===null||e===void 0||e.hideTooltip(),clearTimeout(this.hideLabelInfoTimeout)}componentWillLoad(){this.setInput(),this.setLabel(),this.labelInfo=this.root.querySelector("[slot=label-info]"),this.hasError=u(this.root,"error"),this.hasHelp=u(this.root,"help"),P(this.root,{variant:this.variant})}componentDidLoad(){this.updatePosition(),this.tooltipElement&&p(this.root)}disconnectedCallback(){this.disabledObserver&&this.disabledObserver.disconnect(),this.requiredObserver&&this.requiredObserver.disconnect(),clearInterval(this.valueWatcherId)}render(){return t(m,{key:"4854b1553d580fedaecc06839053909e8a064032",class:{"gux-active":this.active}},t(I,{key:"216f57a00ab76c601f5c72c7d7012358b604b06e",labelPosition:this.computedLabelPosition},t(F,{key:"50d7f8342b3e545557c8295fedee8f812c8cbd10",required:this.required,position:this.computedLabelPosition},t("slot",{key:"cd3553c84c1184c669bf437a192f7b4ba6ff0600",name:"label",onSlotchange:()=>this.setLabel()}),t("gux-form-field-label-indicator",{key:"13fd9e45311c3bcba6d75327784ba0dd28103071",variant:this.indicatorMark,required:this.required}),t("slot",{key:"fd03a446299579f7db19c8bb02f87ee783242e82",name:"label-info"})),t("div",{key:"a82fde7e0e410c8978dfb9de09dd6419b4ede598",class:"gux-input-and-error-container"},this.renderRangeInput(),t(C,{key:"c74b2f2ecf1048dc8c647524402e1babca802f64",show:this.hasError},t("slot",{key:"5f811bafbdc5081622e36cde963b7b3a19b005b0",name:"error"})),t(S,{key:"65d74838c08dc957890c99b12ccebfa79f044001",show:!this.hasError&&this.hasHelp},t("slot",{key:"927a7e1e565a8b214accc94e4803401d7019b2cf",name:"help"})))))}get variant(){return this.labelPosition?this.labelPosition.toLowerCase():"none"}setInput(){this.input=z(this.root,'input[type="range"][slot="input"]'),w(this.input),this.disabled=x(this.input),this.required=this.input.required,this.value=this.input.value,this.disabledObserver=v(this.input,e=>{this.disabled=e}),this.requiredObserver=k(this.input,e=>{this.required=e}),clearInterval(this.valueWatcherId),this.valueWatcherId=setInterval(()=>{this.value!==this.input.value&&this.updateValue(this.input.value)},100),T(this.root,this.input)}setLabel(){this.label=this.root.querySelector('label[slot="label"]'),this.computedLabelPosition=E(this.label,this.labelPosition)}renderRangeInput(){return t("div",{class:{"gux-range-input-container":!0,"gux-disabled":this.disabled},"aria-disabled":this.disabled?"true":"false",ref:e=>this.containerElement=e},t("div",{class:"gux-range"},t("div",{class:"gux-track"},t("div",{class:"gux-progress",ref:e=>this.progressElement=e})),t("slot",{name:"input"}),this.valueInTooltip&&t("gux-tooltip-base-beta",{ref:e=>this.tooltipElement=e,forElement:this.containerElement,offsetY:10,placement:"top"},t("span",{slot:"content"},this.getDisplayValue()))),t("div",{class:{"gux-display":!0,"gux-hidden":this.valueInTooltip}},this.getDisplayValue()))}updateValue(e){this.value=e,this.updatePosition()}updatePosition(){var e,i,r;const o=Number(((e=this.input)===null||e===void 0?void 0:e.value)||0),n=Number(((i=this.input)===null||i===void 0?void 0:i.min)||0),a=Number(((r=this.input)===null||r===void 0?void 0:r.max)||100),l=(o-n)/(a-n)*100;if(this.tooltipElement){const c=this.containerElement.offsetWidth-20,h=l/100-.5;this.tooltipElement.offsetX=h*c}this.progressElement&&(this.progressElement.style.width=`${l}%`)}getDisplayValue(){return this.displayUnits?`${this.value}${this.displayUnits}`:this.value}get root(){return b(this)}};g([y({childList:!0,subtree:!0})],d.prototype,"onMutation",null);g([L()],d.prototype,"updatePosition",null);d.style=q;export{d as gux_form_field_range};
