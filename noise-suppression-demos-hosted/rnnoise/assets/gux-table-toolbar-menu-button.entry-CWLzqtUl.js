import{r as l,h as t,H as p,g as b}from"./index-RhTaIPoL.js";import{t as f}from"./usage-BYFiy2rf-lhiVWKSr.js";import{O as h}from"./on-click-outside-C-8pG9cs-6YGsTWW7.js";import{b as m}from"./index-Bbwiw1Rf-CzeU2kBB.js";import{b as u}from"./after-next-render-Bg4q97BS-C_KTwidI.js";import{r as g}from"./random-html-id-D9jKBqIb-D30kRngR.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-Cd4R0amv-C_5KDHD-.js";const x="Additional Actions";var y={additionalActions:x};const w=":host{display:none;-webkit-user-select:none;user-select:none}:host(.gux-show-menu){display:block}.gux-menu-button{display:flex;color:var(--gse-ui-button-secondary-default-foregroundColor);cursor:pointer;border:none}.gux-menu-button gux-icon{align-self:center}.gux-list-container{inline-size:min-content;margin:0;overflow-y:auto;background:var(--gse-ui-menu-backgroundColor);border-color:var(--gse-ui-menu-border-color);border-style:var(--gse-ui-menu-border-style);border-width:var(--gse-ui-menu-border-width);border-radius:var(--gse-ui-menu-borderRadius);box-shadow:var(--gse-ui-menu-boxShadow)}";var k=function(e,o,n,i){var r=arguments.length,s=r<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,n):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,o,n,i);else for(var d=e.length-1;d>=0;d--)(a=e[d])&&(s=(r<3?a(s):r>3?a(o,n,s):a(o,n))||s);return r>3&&s&&Object.defineProperty(o,n,s),s};const c=class{constructor(e){l(this,e),this.buttonId=g("gux-table-toolbar-menu-button"),this.expanded=!1}handleKeyDown(e){const o=e.composedPath();switch(e.key){case"Escape":this.expanded=!1,o.includes(this.listElement)&&(e.preventDefault(),this.dropdownButton.focus());break;case"Tab":{this.expanded=!1;break}case"ArrowDown":case"Enter":o.includes(this.dropdownButton)&&(e.preventDefault(),this.expanded=!0,this.focusFirstItemInPopupList());break}}handleKeyup(e){switch(e.key){case" ":{e.composedPath().includes(this.dropdownButton)&&(this.expanded=!0,this.focusFirstItemInPopupList());break}}}toggle(){this.expanded=!this.expanded,this.expanded&&this.focusPopupList()}onClickOutside(){this.expanded=!1}focusPopupList(){u(()=>{this.listElement.focus()})}focusFirstItemInPopupList(){u(()=>{this.listElement.guxFocusFirstItem()})}renderTooltip(){if(!this.expanded)return t("gux-tooltip-beta",{for:this.buttonId},t("div",{slot:"content"},this.i18n("additionalActions")))}async componentWillLoad(){this.i18n=await m(this.root,y),f(this.root)}render(){return t(p,{key:"f36e914ee366499efa882bc332057e1440e1c477",class:{"gux-show-menu":this.showMenu}},t("gux-popup",{key:"02e6e0bda345f73f5deedd6a24efd7c757cb5288",expanded:this.expanded,"exceed-target-width":!0},t("div",{key:"a19ca82e0cbc9f4596b6e5ccfb9bb7fb5ab23d53",slot:"target",class:"gux-toolbar-menu-container"},t("gux-button-slot",{key:"9a4427dd5cd4d8db51d9e0981673a88edc401535",accent:"secondary"},t("button",{key:"3da37bcf3d026b2dbda309cf72f701fca4b84723",id:this.buttonId,class:"gux-menu-button",type:"button",ref:e=>this.dropdownButton=e,onMouseUp:()=>this.toggle(),"aria-haspopup":"true","aria-expanded":this.expanded.toString()},t("gux-icon",{key:"6a9c97138da7f9ceb6de02f1c52fad9927411204","icon-name":"fa/ellipsis-regular",size:"small",decorative:!0}),t("gux-screen-reader-beta",{key:"cf0d53694e86019ff6666f2e0883ab4494f80ce9"},this.i18n("additionalActions"))))),t("div",{key:"4f9910b70d843fb0b97c8d250fc4fc4714288b45",class:"gux-list-container",slot:"popup"},t("gux-list",{key:"b19e438a7957d3be562e05cd8d44371882154ef0",ref:e=>this.listElement=e},t("slot",{key:"dcdc88dcf0bc5cca7ec5386c07e34485668d52ab"})))),this.renderTooltip())}static get delegatesFocus(){return!0}get root(){return b(this)}};k([h({triggerEvents:"mousedown"})],c.prototype,"onClickOutside",null);c.style=w;export{c as gux_table_toolbar_menu_button};
