import{r as n,c as s,h as t,g as d}from"./index-RhTaIPoL.js";import{r as l}from"./random-html-id-D9jKBqIb-D30kRngR.js";import{t as r}from"./usage-BYFiy2rf-lhiVWKSr.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const g="::slotted(button:active:enabled){color:var(--gse-ui-links-active-foregroundColor);text-decoration:underline;background:none}slot[name=left-align-buttons]::slotted(:not(button,gux-button)){display:flex;flex-direction:row;gap:var(--gse-ui-modal-buttonBar-gap);align-content:flex-start;align-items:center}:host .gux-modal{position:fixed;inset:0;z-index:var(--gse-semantic-zIndex-modal);display:flex;align-items:center;justify-content:center;color:var(--gse-semantic-foreground-container-highEmphasis);background:var(--gse-ui-modal-shroudColor)}:host .gux-modal .gux-modal-container{position:relative;box-sizing:border-box;display:flex;flex-direction:column;justify-content:space-between;padding:var(--gse-ui-modal-padding) 0;background:var(--gse-ui-modal-backgroundColor);border:1px solid var(--gse-semantic-border-container-edges-default);border-radius:var(--gse-ui-modal-borderRadius);box-shadow:var(--gse-ui-modal-boxShadow)}:host .gux-modal .gux-modal-container.gux-small{width:var(--gse-ui-modal-small-width);max-height:min(368px, 100vh - 2 * 24px)}:host .gux-modal .gux-modal-container.gux-medium{width:var(--gse-ui-modal-medium-width);max-height:min(640px, 100vh - 2 * 24px)}:host .gux-modal .gux-modal-container.gux-large{width:var(--gse-ui-modal-large-width);max-height:min(640px, 100vh - 2 * 24px)}:host .gux-modal .gux-modal-container.gux-dynamic{max-width:calc(100vw - 48px);max-height:calc(100vh - 48px)}:host .gux-modal .gux-modal-container.gux-dynamic .gux-modal-content{max-height:none}:host .gux-modal .gux-modal-container .gux-modal-header{padding:0 var(--gse-ui-modal-padding);margin:0;font-family:var(--gse-ui-modal-heading-fontFamily);font-size:var(--gse-ui-modal-heading-fontSize);font-weight:var(--gse-ui-modal-heading-fontWeight);line-height:var(--gse-ui-modal-heading-fontFamily);color:var(--gse-ui-modal-headerColor);font-family:var(--gse-semantic-heading-xl-bold-fontFamily), var(--gse-semantic-theme-fontFamily-headings), sans-serif;font-size:var(--gse-semantic-heading-xl-bold-fontSize);line-height:var(--gse-semantic-heading-xl-bold-lineHeight);font-weight:var(--gse-semantic-heading-xl-bold-fontWeight)}:host .gux-modal .gux-modal-container .gux-modal-content{max-height:432px;padding:0 var(--gse-ui-modal-padding);margin-top:var(--gse-ui-modal-gap);margin-bottom:var(--gse-ui-modal-gap);overflow-y:auto}:host .gux-modal .gux-modal-container .gux-modal-content.gux-no-buttons{margin-bottom:0}:host .gux-modal .gux-modal-container .gux-button-footer{display:flex;justify-content:space-between;padding:0 var(--gse-ui-modal-padding)}@media (max-width: 416px){:host .gux-modal .gux-modal-container.gux-small,:host .gux-modal .gux-modal-container.gux-medium,:host .gux-modal .gux-modal-container.gux-large{width:100%;height:100%}}",u=class{constructor(e){n(this,e),this.guxdismiss=s(this,"guxdismiss",7),this.size="dynamic",this.trapFocus=!0}handleKeyEvent(e){e.key==="Escape"&&this.onDismissHandler(e)}connectedCallback(){this.triggerElement=document.activeElement}componentWillLoad(){const e=this.trapFocus?"trapfocuson":"trapfocusoff",o=`${this.size}-${e}`;r(this.root,{variant:o})}componentDidLoad(){var e,o,a;const i=this.getInitialFocusElement();i?(e=i.focus)===null||e===void 0||e.call(i):this.dismissButton&&((a=(o=this.dismissButton).focus)===null||a===void 0||a.call(o))}render(){const e=this.hasModalTitleSlot(),o=this.hasFooterButtons(),a=l();return t("div",{key:"91a8d3f5b6ab931ffc94aea5b40c321cf05a59c7",class:"gux-modal",role:"dialog","aria-modal":"true","aria-labelledby":e?a:null},t("div",{key:"3668d85ad439de191c8635d7ed3e390ca135deb1",class:`gux-modal-container gux-${this.size}`},this.renderModalTrapFocusEl(),e&&t("h1",{key:"f38fddd1d7df06bf5e1460ee0b725d2a3b19a08d",class:"gux-modal-header",id:a},t("slot",{key:"4bd74bf22e565223b021fa412da72efa56e71cdd",name:"title"})),t("gux-dismiss-button",{key:"ec58483ffb758d6429a59f134c7a68796dbda7f2",onClick:this.onDismissHandler.bind(this),ref:i=>this.dismissButton=i}),t("div",{key:"fabb6fd54e4d49e612f7019bd3f31066b06e7a38",class:{"gux-modal-content":!0,"gux-no-buttons":!o}},t("p",{key:"a43b13f7079a9dc9fed65d6e8afe294ee72f731d"},t("slot",{key:"8454831443df7f3b4fbeda29be6564e6afab9f1b",name:"content"}))),o&&t("div",{key:"cb4f3b553d56aa6fa8031597becec961e0fc35c3",class:"gux-button-footer"},t("div",{key:"d87dbc41cc968e4d0b57847c28fc9d9b99394705",class:"gux-left-align-buttons"},t("slot",{key:"4ffcab63bc3b2ec48712125047e98ccb48d34783",name:"left-align-buttons"})),t("div",{key:"a4465f7ac2169f96c58eecd88e24d2b5425232a0",class:"gux-right-align-buttons"},t("slot",{key:"49929978191ffe9b38bfa4d5e9f3d43051714f98",name:"right-align-buttons"}))),this.renderModalTrapFocusEl()))}renderModalTrapFocusEl(){if(this.trapFocus)return t("span",{onFocus:()=>this.dismissButton.focus(),tabindex:"0"})}getInitialFocusElement(){return this.initialFocus?this.root.querySelector(this.initialFocus):void 0}hasModalTitleSlot(){return!!this.root.querySelector('[slot="title"]')}hasFooterButtons(){return!!this.root.querySelector('[slot="left-align-buttons"]')||!!this.root.querySelector('[slot="right-align-buttons"]')}onDismissHandler(e){var o;e.stopPropagation(),this.guxdismiss.emit().defaultPrevented||(this.root.remove(),(o=this.triggerElement)===null||o===void 0||o.focus())}get root(){return d(this)}};u.style=g;export{u as gux_modal_legacy};
