import{r as p,c as l,h as s,g as h}from"./index-RhTaIPoL.js";import{O as b}from"./on-click-outside-C-8pG9cs-6YGsTWW7.js";import{w as f}from"./when-event-is-from-kLXvN2m9-B4cyA2sH.js";import{a as u}from"./after-next-render-Bg4q97BS-C_KTwidI.js";import{t as m}from"./usage-BYFiy2rf-lhiVWKSr.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const g=["primary","secondary","tertiary"];function w(t){return g.find(e=>e===t)?t:"secondary"}const x=":host{display:block;-webkit-user-select:none;user-select:none}.gux-button-multi-container .gux-dropdown-button button{display:inline-flex;align-items:center}.gux-button-multi-container .gux-dropdown-button button gux-icon{margin-inline-start:var(--gse-ui-button-gap)}.gux-list-container{max-inline-size:220px;margin:0;overflow-y:auto;background:var(--gse-ui-menu-backgroundColor);border-color:var(--gse-ui-menu-border-color);border-style:var(--gse-ui-menu-border-style);border-width:var(--gse-ui-menu-border-width);border-radius:var(--gse-ui-menu-borderRadius);box-shadow:var(--gse-ui-menu-boxShadow)}";var y=function(t,e,o,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,o):n,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};const d=class{constructor(t){p(this,t),this.open=l(this,"open",7),this.close=l(this,"close",7),this.disabled=!1,this.accent="secondary",this.guxAriaLabel="",this.isOpen=!1}handleKeydown(t){const e=t.composedPath();switch(t.key){case"Escape":this.isOpen=!1,e.includes(this.listElement)&&(t.preventDefault(),this.dropdownButton.focus());break;case"Tab":{this.isOpen=!1;break}case"Enter":case"ArrowDown":e.includes(this.dropdownButton)&&(t.preventDefault(),this.isOpen=!0,this.focusFirstItemInPopupList());break;case"ArrowUp":e.includes(this.dropdownButton)&&(t.preventDefault(),this.isOpen=!0,this.focusLastItemInPopupList());break}}handleKeyup(t){switch(t.key){case" ":{t.composedPath().includes(this.dropdownButton)&&(this.isOpen=!0,this.focusFirstItemInPopupList());break}}}watchDisabled(t){t&&(this.isOpen=!1)}watchValue(t){t?this.open.emit():(this.listElement.blur(),this.close.emit())}onClickOutside(){this.isOpen=!1}toggle(){this.disabled||(this.isOpen=!this.isOpen,this.isOpen&&this.focusPopupList())}focusPopupList(){u(()=>{this.listElement.focus()})}focusFirstItemInPopupList(){u(()=>{this.listElement.guxFocusFirstItem()})}focusLastItemInPopupList(){u(()=>{this.listElement.guxFocusLastItem()})}onListClick(t){f("gux-list-item",t,()=>{this.isOpen=!1,this.dropdownButton.focus()})}componentWillLoad(){m(this.root,{variant:this.accent})}render(){return s("gux-popup",{key:"cc01db704cdc3ae9e1479976953a493a94b43cea",expanded:this.isOpen,"exceed-target-width":!0,placement:"bottom-end"},s("div",{key:"d226ede83afb8dc4bb08289b4ffb61c88933a161",slot:"target",class:"gux-button-multi-container"},s("gux-button-slot",{key:"6c8291a56b06bbf35c08ba1476bea725b12e7f52",class:"gux-dropdown-button",accent:w(this.accent)},s("button",{key:"75d1c5b2a3e09c8f7966d4fe311e5323128209ae",type:"button",disabled:this.disabled,ref:t=>this.dropdownButton=t,onMouseUp:()=>this.toggle(),"aria-haspopup":"true","aria-expanded":this.isOpen.toString(),"aria-label":this.guxAriaLabel},s("slot",{key:"3c466c3ee683ed6bd2d917613bda5e17873acbc5",name:"title"}),s("gux-icon",{key:"f0702da01fe1d75aa5b389c11f2dd07c4c7a6ddc",size:"small",decorative:!0,"icon-name":"custom/chevron-down-small-regular"})))),s("div",{key:"cb51c84cb7d1b6150bcfcb3d216a2047b6af4758",class:"gux-list-container",slot:"popup"},s("gux-list",{key:"54f9b1ae4c66ad9cdf7721c3c9b42d1c4d5aa99a",onClick:t=>this.onListClick(t),ref:t=>this.listElement=t},s("slot",{key:"10c4257f1f5346e5ca42f1035052b13c3a6553f8"}))))}static get delegatesFocus(){return!0}get root(){return h(this)}static get watchers(){return{disabled:["watchDisabled"],isOpen:["watchValue"]}}};y([b({triggerEvents:"mousedown"})],d.prototype,"onClickOutside",null);d.style=x;export{d as gux_button_multi};
