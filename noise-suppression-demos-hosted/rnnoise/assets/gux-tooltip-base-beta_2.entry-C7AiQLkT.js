import{r as s,h as i,H as r,g as n}from"./index-RhTaIPoL.js";import{a as p,c as u,o as f,f as m,s as g,h as b}from"./floating-ui.dom-s4o__4X6-DwnQVfa1.js";import{r as a}from"./random-html-id-D9jKBqIb-D30kRngR.js";import{t as l}from"./usage-BYFiy2rf-lhiVWKSr.js";import{b as v}from"./after-next-render-Bg4q97BS-C_KTwidI.js";import{o as x}from"./overflow-detection-CuxAGj8g-Dc51OqHM.js";import{f as E}from"./find-element-by-id-Cr5bTKWF-DntMpzyb.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const w=":host{position:fixed;z-index:var(--gse-semantic-zIndex-tooltip);display:none;inline-size:max-content;max-inline-size:var(--gse-ui-tooltip-maxWidth);border-radius:var(--gse-ui-tooltip-borderRadius);box-shadow:var(--gse-ui-tooltip-boxShadow);opacity:0}:host(.gux-show){display:block;animation-name:fade-in;animation-duration:250ms;animation-delay:350ms;animation-fill-mode:forwards}.gux-container{box-sizing:border-box;display:flex;flex-direction:row;gap:var(--gse-ui-tooltip-gap);place-content:center flex-start;padding:var(--gse-ui-tooltip-padding);font-family:var(--gse-ui-tooltip-text-fontFamily);font-size:var(--gse-ui-tooltip-text-fontSize);font-weight:var(--gse-ui-tooltip-text-fontWeight);line-height:var(--gse-ui-tooltip-text-lineHeight);color:var(--gse-ui-tooltip-light-foregroundColor);pointer-events:none;background-color:var(--gse-ui-tooltip-light-backgroundColor);border:var(--gse-ui-tooltip-light-border-width) var(--gse-ui-tooltip-light-border-style) var(--gse-ui-tooltip-light-border-color);border-radius:var(--gse-ui-tooltip-borderRadius)}.gux-container ::slotted(gux-icon){align-self:center;inline-size:var(--gse-ui-icon-small-size);block-size:var(--gse-ui-icon-small-size);color:var(--gse-ui-tooltip-light-foregroundColor)}.gux-container ::slotted(*){inline-size:100%;overflow-wrap:break-word;white-space:normal}.gux-container.gux-dark{color:var(--gse-ui-tooltip-dark-foregroundColor);background-color:var(--gse-ui-tooltip-dark-backgroundColor);border:var(--gse-ui-tooltip-dark-border-width) var(--gse-ui-tooltip-dark-border-style) var(--gse-ui-tooltip-dark-border-color)}.gux-container.gux-dark ::slotted(gux-icon){align-self:center;inline-size:var(--gse-ui-icon-small-size);block-size:var(--gse-ui-icon-small-size);color:var(--gse-ui-tooltip-dark-iconColor)}@keyframes fade-in{0%{opacity:0}100%{opacity:1}}",y=class{constructor(t){s(this,t),this.pointerenterHandler=()=>this.show(),this.pointerleaveHandler=()=>this.hide(),this.focusinHandler=()=>this.show(),this.focusoutHandler=()=>this.hide(),this.forElementListeners=new Map([["pointerenter",this.pointerenterHandler],["pointerleave",this.pointerleaveHandler],["focusin",this.focusinHandler],["focusout",this.focusoutHandler],["mousemove",this.handlePointerMove.bind(this)]]),this.id=a("gux-tooltip-base"),this.placement="bottom-start",this.offsetX=0,this.offsetY=0,this.accent="light",this.visualOnly=!1,this.followMouse=!1,this.isShown=!1}handleKeyDown(t){t.key==="Escape"&&this.isShown&&this.hide()}handlePointerenter(){this.show()}handlePointerleave(){this.hide()}handlePointerMove(t){this.followMouse&&this.isShown&&(this.refElement=this.getRefElement(t.clientX,t.clientY),this.runUpdatePosition())}async showTooltip(){this.show()}async hideTooltip(){this.hide()}runUpdatePosition(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition();const t=this.followMouse&&this.refElement?this.refElement:this.forElement;this.cleanupUpdatePosition=p(t,this.root,()=>this.updatePosition(t),{ancestorScroll:!0,elementResize:!0,animationFrame:this.followMouse,ancestorResize:!0})}updatePosition(t){const e=[f(12),m({fallbackAxisSideDirection:"start",crossAxis:!1}),g(),b(),x()];u(t,this.root,{placement:this.placement,strategy:"fixed",middleware:e}).then(({x:d,y:h,middlewareData:c})=>{var o;Object.assign(this.root.style,{left:`${d+this.offsetX}px`,top:`${h+this.offsetY}px`,visibility:!((o=c.hide)===null||o===void 0)&&o.referenceHidden?"hidden":"visible"}),this.root.setAttribute("data-placement",this.placement)})}show(){clearTimeout(this.hideDelayTimeout),this.isShown=!0,v(()=>{this.runUpdatePosition()})}hide(){this.hideDelayTimeout=setTimeout(()=>{this.isShown=!1,this.refElement=void 0,this.cleanupUpdatePosition&&this.cleanupUpdatePosition()},350)}setForElement(){if(this.forElement){if(!this.visualOnly){const t=this.tooltipId?this.tooltipId:this.id;this.forElement.setAttribute("aria-describedby",t)}this.forElementListeners.forEach((t,e)=>this.forElement.addEventListener(e,t))}}disconnectForElement(){this.forElement&&(this.forElement.removeAttribute("aria-describedby"),this.forElementListeners.forEach((t,e)=>this.forElement.removeEventListener(e,t)))}updateForElement(){this.disconnectForElement(),this.setForElement()}getRefElement(t,e){return{getBoundingClientRect(){return{x:t,y:e,top:e,left:t,bottom:e,right:t,width:10,height:10}}}}connectedCallback(){this.setForElement()}componentWillLoad(){l(this.root,{variant:this.placement})}disconnectedCallback(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition(),this.disconnectForElement()}render(){return i(r,{key:"21503054c9a86a0b8895eaa5ed9ada5743f915f9",id:this.tooltipId?void 0:this.id,role:this.tooltipId&&!this.isShown?void 0:"tooltip",class:{"gux-show":this.isShown},"aria-hidden":this.visualOnly},i("div",{key:"76b418da3eb8368169d684328a4f1ca3c93c623c",class:{"gux-container":!0,[`gux-${this.accent}`]:!0},"data-placement":this.placement},i("slot",{key:"89e56b1a3dc95c9b07375820e8d3970e2a736a81",name:"content"})))}get root(){return n(this)}static get watchers(){return{offsetX:["runUpdatePosition"],offsetY:["runUpdatePosition"],forElement:["updateForElement"]}}};y.style=w;const S=class{constructor(t){s(this,t),this.id=a("gux-tooltip"),this.placement="bottom-start",this.accent="light",this.visualOnly=!1}async showTooltip(){return await this.baseTooltip.showTooltip()}async hideTooltip(){return await this.baseTooltip.hideTooltip()}updateForElement(){this.forElement=this.getForElement()}handleClick(t){t.stopPropagation(),t.preventDefault()}componentWillLoad(){l(this.root,{variant:this.placement})}componentDidLoad(){this.baseTooltip&&(this.tooltipObserver=new MutationObserver(()=>{var t;this.role=(t=this.baseTooltip)===null||t===void 0?void 0:t.role}),this.tooltipObserver.observe(this.baseTooltip,{childList:!0,attributes:!0,attributeFilter:["role"]}))}connectedCallback(){this.updateForElement()}disconnectedCallback(){this.tooltipObserver&&this.tooltipObserver.disconnect()}getForElement(){if(this.for){const t=E(this.root,this.for);return t||this.logForAttributeError(),t}else return this.root.parentElement}logForAttributeError(){this.root.isConnected&&console.error(`gux-tooltip: invalid element supplied to 'for': "${this.for}"`)}render(){return i(r,{key:"ac45d9cdc06ddc45a155155eb90f049ca5c39aa7",id:this.id,role:this.role},i("gux-tooltip-base-beta",{key:"7057c0220053adefb9d96167ad89cab0bd33b95e",forElement:this.forElement,placement:this.placement,accent:this.accent,tooltipId:this.id,visualOnly:this.visualOnly,ref:t=>this.baseTooltip=t},i("span",{key:"471dc6c0ced47d63b23887d85da8b753c2cdb31a",slot:"content"},i("slot",{key:"62d28b576a1c3d31997070b56c9227b7936e02bd",name:"content"},i("slot",{key:"139b3764d87288106be93e14c8138130cdce7b47"})))))}get root(){return n(this)}static get watchers(){return{for:["updateForElement"]}}};export{y as gux_tooltip_base_beta,S as gux_tooltip_beta};
