import{r as h,h as o,H as f,g as u,f as c}from"./index-RhTaIPoL.js";import{a as m,c as g,o as v,f as b,s as x,h as w}from"./floating-ui.dom-s4o__4X6-DwnQVfa1.js";import{r as y}from"./random-html-id-D9jKBqIb-D30kRngR.js";import{t as E}from"./usage-BYFiy2rf-lhiVWKSr.js";import{f as k}from"./find-element-by-id-Cr5bTKWF-DntMpzyb.js";import{b as T}from"./after-next-render-Bg4q97BS-C_KTwidI.js";import{o as z}from"./overflow-detection-CuxAGj8g-Dc51OqHM.js";import{O as P}from"./on-mutation-D5H4nH4U-CeToMEmQ.js";import{O as C}from"./on-resize-DU66ME6L-yF4SUj4S.js";import{g as H}from"./get-text-content-from-nodes-DjLdmWVU-BQ4yQ5rq.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const F=":host{position:fixed;z-index:var(--gse-semantic-zIndex-tooltip);display:none;inline-size:max-content;max-inline-size:var(--gse-ui-tooltip-maxWidth);border-radius:var(--gse-ui-tooltip-borderRadius);box-shadow:var(--gse-ui-tooltip-boxShadow);opacity:0}:host(.gux-show){display:block;animation-name:fade-in;animation-duration:250ms;animation-delay:350ms;animation-fill-mode:forwards}.gux-container{box-sizing:border-box;display:flex;flex-direction:row;gap:var(--gse-ui-tooltip-gap);place-content:center flex-start;padding:var(--gse-ui-tooltip-padding);font-family:var(--gse-ui-tooltip-text-fontFamily);font-size:var(--gse-ui-tooltip-text-fontSize);font-weight:var(--gse-ui-tooltip-text-fontWeight);line-height:var(--gse-ui-tooltip-text-lineHeight);color:var(--gse-ui-tooltip-light-foregroundColor);pointer-events:none;background-color:var(--gse-ui-tooltip-light-backgroundColor);border:var(--gse-ui-tooltip-light-border-width) var(--gse-ui-tooltip-light-border-style) var(--gse-ui-tooltip-light-border-color);border-radius:var(--gse-ui-tooltip-borderRadius)}.gux-container ::slotted(gux-icon){align-self:center;inline-size:var(--gse-ui-icon-small-size);block-size:var(--gse-ui-icon-small-size);color:var(--gse-ui-tooltip-light-foregroundColor)}.gux-container ::slotted(*){inline-size:100%;overflow-wrap:break-word;white-space:normal}.gux-container.gux-dark{color:var(--gse-ui-tooltip-dark-foregroundColor);background-color:var(--gse-ui-tooltip-dark-backgroundColor);border:var(--gse-ui-tooltip-dark-border-width) var(--gse-ui-tooltip-dark-border-style) var(--gse-ui-tooltip-dark-border-color)}.gux-container.gux-dark ::slotted(gux-icon){align-self:center;inline-size:var(--gse-ui-icon-small-size);block-size:var(--gse-ui-icon-small-size);color:var(--gse-ui-tooltip-dark-iconColor)}@keyframes fade-in{0%{opacity:0}100%{opacity:1}}",R=class{constructor(t){h(this,t),this.pointerenterHandler=()=>this.show(),this.pointerleaveHandler=()=>this.hide(),this.focusinHandler=()=>this.show(),this.focusoutHandler=()=>this.hide(),this.forElementListeners=new Map([["pointerenter",this.pointerenterHandler],["pointerleave",this.pointerleaveHandler],["focusin",this.focusinHandler],["focusout",this.focusoutHandler]]),this.id=y("gux-tooltip"),this.placement="bottom-start",this.accent="light",this.isShown=!1}handleKeyDown(t){t.key==="Escape"&&this.isShown&&this.hide()}handlePointerenter(){this.show()}handlePointerleave(){this.hide()}handleClick(t){t.stopPropagation(),t.preventDefault()}async showTooltip(){this.show()}async hideTooltip(){this.hide()}runUpdatePosition(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition(),this.cleanupUpdatePosition=m(this.forElement,this.root,()=>this.updatePosition(),{ancestorScroll:!0,elementResize:!0,animationFrame:!1,ancestorResize:!0})}updatePosition(){const t=[v(12),b({fallbackAxisSideDirection:"start",crossAxis:!1}),x(),w(),z()];g(this.forElement,this.root,{placement:this.placement,strategy:"fixed",middleware:t}).then(({x:e,y:n,middlewareData:s})=>{var i;Object.assign(this.root.style,{left:`${e}px`,top:`${n}px`,visibility:!((i=s.hide)===null||i===void 0)&&i.referenceHidden?"hidden":"visible"}),this.root.setAttribute("data-placement",this.placement)})}show(){clearTimeout(this.hideDelayTimeout),this.isShown=!0,T(()=>{this.runUpdatePosition()})}hide(){this.hideDelayTimeout=setTimeout(()=>{this.cleanupUpdatePosition&&this.cleanupUpdatePosition(),this.isShown=!1},350)}getForElement(){return this.for?k(this.root,this.for):this.root.parentElement}logForAttributeError(){this.root.isConnected&&console.error(`gux-tooltip: invalid element supplied to 'for': "${this.for}"`)}setForElement(){this.forElement=this.getForElement(),this.forElement?(this.forElement.setAttribute("aria-describedby",this.id),this.forElementListeners.forEach((t,e)=>this.forElement.addEventListener(e,t))):this.logForAttributeError()}disconnectForElement(){this.forElement&&(this.forElement.removeAttribute("aria-describedby"),this.forElementListeners.forEach((t,e)=>this.forElement.removeEventListener(e,t)))}updateForElement(){this.disconnectForElement(),this.setForElement()}connectedCallback(){this.setForElement()}componentWillLoad(){E(this.root,{variant:this.placement})}disconnectedCallback(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition(),this.disconnectForElement()}render(){return o(f,{key:"1f6eeb5e5d7414275a5114b4bb5e454977592112",id:this.id,class:{"gux-show":this.isShown},role:"tooltip"},o("div",{key:"47e19cc0938d146586c4601871e60ea72e605ef9",class:{"gux-container":!0,[`gux-${this.accent}`]:!0},"data-placement":this.placement},o("slot",{key:"3a26f0e50e87360a2c3e39f07ab2757f445f5f71",name:"content"},o("slot",{key:"17832b8a75aab0ab0562a51dc9e4fc963d7719f7"}))))}get root(){return u(this)}static get watchers(){return{for:["updateForElement"]}}};R.style=F;const S=":host{display:block;inline-size:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:inherit}::slotted(*){display:inline}.gux-truncate-multi-line{white-space:normal}.gux-truncate-multi-line .gux-truncate-slot-container{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;line-clamp:1}gux-tooltip{font-weight:normal;line-height:normal;text-align:start;overflow-wrap:break-word;white-space:normal}.gux-truncate-slot-container>*{display:inline}.gux-truncate-slot-container{display:block;text-overflow:ellipsis}.gux-overflow-hidden{overflow:hidden}";var p=function(t,e,n,s){var i=arguments.length,r=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(t,e,n,s);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};const d=class{constructor(t){h(this,t),this.tooltipPlacement="bottom-start",this.tooltipAccent="light"}async setShowTooltip(){var t;await((t=this.tooltipElement)===null||t===void 0?void 0:t.showTooltip())}async setHideTooltip(){var t;await((t=this.tooltipElement)===null||t===void 0?void 0:t.hideTooltip())}onMutation(){c(this.root)}onResize(){c(this.root)}getTooltipContent(){return H(Array.from(this.root.childNodes))||""}needsTruncation(){const t=this.root.shadowRoot.querySelector(".gux-truncate-slot-container");return(t==null?void 0:t.scrollWidth)>(t==null?void 0:t.offsetWidth)||(t==null?void 0:t.scrollHeight)>(t==null?void 0:t.offsetHeight)}renderTooltip(){return this.needsTruncation()?o("gux-tooltip",{accent:this.tooltipAccent,placement:this.tooltipPlacement,"aria-hidden":"true",ref:t=>this.tooltipElement=t},o("div",{slot:"content"},this.getTooltipContent())):null}render(){var t;return o("div",{key:"369047099a6b95ed8c82e701b986446c01738b30",class:{"gux-truncate-multi-line":!!this.maxLines}},o("span",{key:"b6d80fa5bd95e2fa748ca7c3c564a71db16f8564",class:{"gux-overflow-hidden":this.needsTruncation(),"gux-truncate-slot-container":!0},style:{webkitLineClamp:(t=this.maxLines)===null||t===void 0?void 0:t.toString()}},o("slot",{key:"a49fa9e176375f8795388290f925375748918965"})),this.renderTooltip())}get root(){return u(this)}};p([P({childList:!0,subtree:!0,characterData:!0})],d.prototype,"onMutation",null);p([C()],d.prototype,"onResize",null);d.style=S;export{R as gux_tooltip,d as gux_truncate};
