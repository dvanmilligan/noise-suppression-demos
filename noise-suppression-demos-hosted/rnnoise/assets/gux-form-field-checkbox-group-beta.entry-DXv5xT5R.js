import{r as b,f as c,h as t,g as m}from"./index-RhTaIPoL.js";import{O as C}from"./on-mutation-D5H4nH4U-CeToMEmQ.js";import{h as a}from"./has-slot-qzV3vtOw-D7GdaS0G.js";import{l as d}from"./log-error-DxtJDeL9-5foDqi4E.js";import{b as k}from"./index-Bbwiw1Rf-CzeU2kBB.js";import{s as g}from"./simulate-native-event-BMRf5pjV-BcLDngo1.js";import{a as v,G as y}from"./gux-form-field-error-Dyi3YXR2-iLJZN6dq.js";import{G,a as w,b as S}from"./gux-form-field-fieldset-container-B6FHqi9L-CyDwlgCW.js";import{g as u}from"./get-slot-text-content-MAoEg4ig-DTSoMW52.js";import{t as F}from"./usage-BYFiy2rf-lhiVWKSr.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-Cd4R0amv-C_5KDHD-.js";function q(e,o){h(e).forEach(r=>{r.checked!==o&&!r.disabled&&(r.checked=o,g(r,"input"),g(r,"change"))})}function p(e,o){if(o){const{checkedCheckboxes:r,totalCheckboxes:i}=E(e);r===0?(o.indeterminate=!1,o.checked=!1):r===i?(o.indeterminate=!1,o.checked=!0):o.indeterminate=!0}}function E(e){const o=h(e).length;return{checkedCheckboxes:L(e).length,totalCheckboxes:o}}function h(e){return Array.from(e.querySelectorAll('gux-form-field-checkbox input:not(gux-form-field-checkbox[slot="group-checkbox"] input'))}function L(e){return h(e).filter(r=>r.checked)}const T="Required";var z={required:T};const H=".gux-form-field-fieldset-container{display:flex;min-inline-size:0;padding:0;margin:0;border:none}.gux-form-field-fieldset-container.gux-beside{flex-direction:row}.gux-form-field-fieldset-container.gux-above{flex-direction:column}.gux-form-field-error{display:none;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-formControl-helper-gap);place-content:stretch flex-start;padding:var(--gse-ui-formControl-helper-errorPadding);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error.gux-show{display:flex}.gux-form-field-error gux-icon{flex:0 0 auto;order:0;color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error .gux-message{flex:0 1 auto;align-self:auto;order:0}.gux-form-field-help{display:none;flex-direction:row;flex-wrap:nowrap;place-content:stretch flex-start;align-items:flex-start;justify-content:flex-start;padding-block-start:var(--gse-ui-formControl-formField-gap);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-defaultColor)}.gux-form-field-help.gux-show{display:flex}.gux-form-field-help .gux-message{flex:0 1 auto;align-self:none;order:0}.gux-form-field-error{display:none;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-formControl-helper-gap);place-content:stretch flex-start;padding:var(--gse-ui-formControl-helper-errorPadding);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error.gux-show{display:flex}.gux-form-field-error gux-icon{flex:0 0 auto;order:0;color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error .gux-message{flex:0 1 auto;align-self:auto;order:0}.gux-form-field-help{display:none;flex-direction:row;flex-wrap:nowrap;place-content:stretch flex-start;align-items:flex-start;justify-content:flex-start;padding-block-start:var(--gse-ui-formControl-formField-gap);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-defaultColor)}.gux-form-field-help.gux-show{display:flex}.gux-form-field-help .gux-message{flex:0 1 auto;align-self:none;order:0}.gux-form-field-visual-label{display:inline-flex;flex:1 0 auto}.gux-form-field-visual-label ::slotted(label){min-inline-size:0}.gux-form-field-visual-label ::slotted(gux-label-info-beta){padding-inline-start:var(--gse-ui-formControl-formField-gap)}.gux-form-field-visual-label.gux-beside{position:relative;inset-block-start:var(--gse-ui-formControl-input-top);inline-size:fit-content;min-inline-size:var(--gse-ui-formControl-input-textfield-minWidth);max-inline-size:fit-content;margin-inline-end:var(--gse-ui-formControl-group-gapItems)}.gux-form-field-visual-label.gux-above{padding-block-end:var(--gse-ui-formControl-formField-gap)}.gux-form-field-visual-label.gux-screenreader{display:none}.gux-form-field-screenreader-label{position:absolute;top:auto;left:-10000px;width:1px;height:1px;overflow:hidden}:host{display:block}:host([disabled]) .gux-form-field-legend-label{opacity:var(--gse-ui-formControl-input-disabled-opacity)}::slotted(gux-form-field-checkbox){padding-block-start:var(--gse-ui-formControl-group-gapItems)}::slotted(gux-form-field-checkbox:first-of-type){padding-block-start:0}:host(.gux-group-checkbox) ::slotted(gux-form-field-checkbox){padding-inline-start:var(--gse-ui-checkbox-group-paddingLeft)}:host(.gux-group-checkbox) slot[name=group-checkbox]::slotted(gux-form-field-checkbox){padding-inline-start:0}.gux-form-field-legend-label{font-family:var(--gse-ui-formControl-label-text-fontFamily);font-size:var(--gse-ui-formControl-label-text-fontSize);font-weight:var(--gse-ui-formControl-label-text-fontWeight);line-height:var(--gse-ui-formControl-label-text-lineHeight);color:var(--gse-ui-formControl-label-labelColor)}:host([disabled]) ::slotted(label){opacity:var(--gse-ui-formControl-input-disabled-opacity)}::slotted(label){font-family:var(--gse-ui-formControl-label-textBold-fontFamily);font-size:var(--gse-ui-formControl-label-textBold-fontSize);font-weight:var(--gse-ui-formControl-label-textBold-fontWeight);line-height:var(--gse-ui-formControl-label-textBold-lineHeight);color:var(--gse-ui-formControl-label-labelColor)}";var M=function(e,o,r,i){var s=arguments.length,l=s<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,r):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,o,r,i);else for(var f=e.length-1;f>=0;f--)(n=e[f])&&(l=(s<3?n(l):s>3?n(o,r,l):n(o,r))||l);return s>3&&l&&Object.defineProperty(o,r,l),l};const x=class{constructor(e){b(this,e),this.indicatorMark="required",this.required=!1,this.hasGroupError=!1,this.hasGroupHelp=!1,this.hasGroupLabelInfo=!1,this.disabled=!1}watchGroupError(e){const o=this.root.querySelectorAll("gux-form-field-checkbox");o&&o.forEach(r=>{r.hasGroupError=e})}watchDisabled(){this.setDisabledCheckboxes()}onMutation(){this.hasGroupError=a(this.root,"group-error"),this.hasGroupHelp=a(this.root,"group-help"),this.hasGroupLabelInfo=a(this.root,"group-label-info")}async componentWillLoad(){this.getI18nValue=await k(this.root,z),this.hasGroupError=a(this.root,"group-error"),this.hasGroupHelp=a(this.root,"group-help"),this.hasGroupLabelInfo=a(this.root,"group-label-info"),this.setLabel(),this.setDisabledCheckboxes(),F(this.root)}componentDidLoad(){p(this.root,this.root.querySelector('gux-form-field-checkbox[slot="group-checkbox"] input'))}disconnectedCallback(){this.disabledObserver&&this.disabledObserver.disconnect()}getGroupCheckboxElement(){return this.root.querySelector('gux-form-field-checkbox[slot="group-checkbox"] input')}setDisabledCheckboxes(){const e=this.root.querySelectorAll("gux-form-field-checkbox");e&&e.forEach(o=>{o.hasGroupDisabled=this.disabled})}onMainCheckboxChange(){const e=this.getGroupCheckboxElement();q(this.root,e.checked),c(this.root)}setupNestedCheckboxes(){this.warnMultipleGroupCheckbox(),this.warnGroupCheckboxNameAttr();const e=this.getGroupCheckboxElement();e?this.root.classList.add("gux-group-checkbox"):this.root.classList.remove("gux-group-checkbox"),e==null||e.addEventListener("change",()=>{this.onMainCheckboxChange()}),this.initialSetNestedCheckboxes(e==null?void 0:e.checked)}initialSetNestedCheckboxes(e){const o=Array.from(this.root.querySelectorAll('gux-form-field-checkbox input:not(gux-form-field-checkbox[slot="group-checkbox"] input)'));o!=null&&o.length&&o.forEach(r=>{r.addEventListener("change",()=>{this.updateMainCheckbox()}),e&&!r.disabled&&(r.checked=!0)})}warnMultipleGroupCheckbox(){const e=this.root.querySelectorAll('gux-form-field-checkbox[slot="group-checkbox"] input');(e==null?void 0:e.length)>1&&d(this.root,"Can only have one group checkbox")}warnGroupCheckboxNameAttr(){const e=this.getGroupCheckboxElement();e!=null&&e.hasAttribute("name")&&d(this.root,"Group checkbox should not have a name attribute")}updateMainCheckbox(){p(this.root,this.root.querySelector('gux-form-field-checkbox[slot="group-checkbox"] input')),c(this.root)}renderText(e,o=!1){if(o)return" "+e}render(){var e;return t(S,{key:"470ae45142560a3740b454cbdf30967a4b8265bd",labelPosition:"above"},t(w,{key:"53fcedbe0f571a847411c9e74503f3a7581fdfb0"},(e=this.label)===null||e===void 0?void 0:e.textContent,this.renderText(this.getI18nValue("required"),this.required),this.renderText(u(this.root,"group-error"),this.hasGroupError),this.renderText(u(this.root,"group-help"),this.hasGroupHelp),this.renderText(u(this.root,"group-label-info"),this.hasGroupLabelInfo)),t(G,{key:"52e26182b08242b65212f208a0bb81366875372b",position:"above",required:this.required},t("slot",{key:"e9999af2d18ddcfeed588a67c2ae3fd532ab9fd6",name:"group-label",onSlotchange:()=>this.setLabel()}),t("gux-form-field-label-indicator",{key:"e3b77659f36db1f8013f952d0f8757bedce785fc",variant:this.indicatorMark,required:this.required}),t("slot",{key:"d98a9b22a9e865eba263bbce917ec691e494d946",name:"group-label-info"})),t("slot",{key:"1631bc8aef4908a0f54394ccb369ca21967895a1",onSlotchange:()=>this.setupNestedCheckboxes(),name:"group-checkbox"}),t("slot",{key:"7a193c9dc8e3678881cfdab5ae6693ef8f5c666b",onSlotchange:()=>this.updateMainCheckbox()}),t(y,{key:"f605b0cec65f5dc314253db6c1152697ad431b61",show:this.hasGroupError},t("slot",{key:"fe38cb98b7ec5c56c04e933d898e34eb65a1658d",name:"group-error"})),t(v,{key:"3cbd19a1fa5a1b00c3aaa6540d5c6150d4e40e9b",show:!this.hasGroupError&&this.hasGroupHelp},t("slot",{key:"5c13c9504d5490795042c63ffe29c7de74af3bb0",name:"group-help"})))}setLabel(){this.label=this.root.querySelector('label[slot="group-label"]')}get root(){return m(this)}static get watchers(){return{hasGroupError:["watchGroupError"],disabled:["watchDisabled"]}}};M([C({childList:!0,subtree:!0})],x.prototype,"onMutation",null);x.style=H;export{x as gux_form_field_checkbox_group_beta};
