import{r as n,c as o,h as t,g as r}from"./index-RhTaIPoL.js";import{t as i}from"./usage-BYFiy2rf-lhiVWKSr.js";import{b as a}from"./index-Bbwiw1Rf-CzeU2kBB.js";import{a as s}from"./on-attribute-change-De1NnCmO-C8j0fVsi.js";import{f as u}from"./focus-input-element-JHLuJ8Pb-hXwZ4F3C.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-Cd4R0amv-C_5KDHD-.js";const c="Clear search text",l="Highlight next match",g="Highlight previous match",d="{currentMatch, number} of {matchCount, number}",h="Clear";var b={eraseBtnAria:c,navigateNextBtn:l,navigatePreviousBtn:g,totalMatches:d,clear:h};const v=":host{display:inline-block;inline-size:var(--gse-ui-search-width);min-inline-size:var(--gse-ui-search-width)}::slotted(input[disabled]){opacity:var(--gse-ui-formControl-input-disabled-opacity)}::slotted(input){box-sizing:border-box;flex-shrink:1;flex-basis:100%;inline-size:100%;overflow:hidden;text-overflow:ellipsis;font-family:var(--gse-ui-search-counter-text-fontFamily);font-size:var(--gse-ui-search-counter-text-fontSize);font-weight:var(--gse-ui-search-counter-text-fontWeight);line-height:var(--gse-ui-search-counter-text-lineHeight);color:var(--gse-ui-formControl-input-populatedColor);white-space:nowrap;outline:none;background-color:var(--gse-ui-formControl-input-backgroundColor);background-image:none;border:0;border-radius:0}::slotted(input)::placeholder{color:var(--gse-ui-formControl-input-populatedColor)}::slotted(input).gux-focused,::slotted(input):focus,::slotted(input):focus-visible{outline:none;border:0;box-shadow:none}.gux-content-search{box-sizing:border-box;display:flex;flex-direction:row;gap:var(--gse-ui-formControl-input-gap);inline-size:100%;block-size:var(--gse-ui-formControl-input-textfield-height);padding:var(--gse-ui-formControl-textarea-padding);cursor:text;background-color:var(--gse-ui-formControl-input-backgroundColor);background-image:none;border:var(--gse-ui-formControl-input-default-border-width) var(--gse-ui-formControl-input-default-border-style) var(--gse-ui-formControl-input-default-border-color);border-radius:var(--gse-ui-formControl-input-borderRadius)}.gux-content-search gux-truncate{display:flex;align-items:center}.gux-content-search.gux-disabled{pointer-events:none;cursor:default;opacity:var(--gse-ui-formControl-input-disabled-opacity)}.gux-content-search:focus-visible,.gux-content-search:focus-within{outline:var(--gse-ui-formControl-input-focus-border-width) var(--gse-ui-formControl-input-focus-border-style) var(--gse-ui-formControl-input-focus-border-color);outline-offset:var(--gse-semantic-focusOutline-offset);border:var(--gse-ui-formControl-input-active-border-width) var(--gse-ui-formControl-input-active-border-style) var(--gse-ui-formControl-input-active-border-color);border-radius:var(--gse-ui-formControl-focusRing-borderRadius)}.gux-content-search:not(:disabled):not(.gux-disabled):hover{border:var(--gse-ui-formControl-input-hover-border-width) var(--gse-ui-formControl-input-hover-border-style) var(--gse-ui-formControl-input-hover-border-color)}.gux-content-search .gux-search-icon{display:flex;flex-shrink:0;align-items:center}.gux-content-search .gux-search-icon:disabled{pointer-events:none;cursor:default;opacity:var(--gse-ui-formControl-input-disabled-opacity)}.gux-content-search .gux-search-icon gux-icon{color:var(--gse-ui-formControl-input-inputIcon-defaultColor)}.gux-content-search .gux-content-control-panel{box-sizing:border-box;display:flex;flex-grow:1;flex-shrink:0;gap:var(--gse-ui-formControl-input-gap);place-content:center flex-end;align-items:center;padding:0}.gux-content-search .gux-content-control-panel button{display:block;align-items:center;block-size:var(--gse-ui-search-counter-icon-height);padding:0;overflow:hidden;color:var(--gse-ui-search-counter-default-foregroundColor);cursor:pointer;outline:none;background:none;border:none;border-radius:var(--gse-ui-button-borderRadius)}.gux-content-search .gux-content-control-panel button:disabled{pointer-events:none;cursor:default;opacity:var(--gse-ui-formControl-input-disabled-opacity)}.gux-content-search .gux-content-control-panel button:not(:disabled):hover,.gux-content-search .gux-content-control-panel button:not(:disabled):focus-visible{color:var(--gse-ui-search-counter-hover-foregroundColor)}.gux-content-search .gux-content-control-panel button:not(.gux-clear-button):focus-visible:enabled{outline:var(--gse-semantic-focusOutline-md-borderWidth) solid var(--gse-semantic-border-focus);outline-offset:var(--gse-semantic-focusOutline-offset)}.gux-content-search .gux-content-control-panel button.gux-clear-button{flex-shrink:0;align-items:center}.gux-content-search .gux-content-control-panel button.gux-clear-button gux-icon{inline-size:var(--gse-ui-icon-small-size);block-size:var(--gse-ui-icon-small-size)}.gux-content-search .gux-content-control-panel .gux-navigation-disabled{pointer-events:auto;cursor:default;opacity:var(--gse-ui-formControl-input-disabled-opacity)}.gux-content-search .gux-content-control-panel .gux-navigation-panel{display:flex;gap:var(--gse-ui-search-counter-gap);align-items:center}.gux-content-search .gux-content-control-panel .gux-navigation-panel .gux-navigation-divider{box-sizing:border-box;align-self:center;block-size:var(--gse-ui-search-counter-divider-height);color:var(--gse-ui-search-counter-default-foregroundColor);border:var(--gse-ui-search-counter-divider-border-width) var(--gse-ui-search-counter-divider-border-style) var(--gse-ui-search-counter-divider-border-color)}.gux-content-search .gux-content-control-panel .gux-navigation-panel .gux-navigation-buttons{display:flex;flex-direction:row}.gux-content-search .gux-content-control-panel .gux-navigation-panel .gux-navigation-result{align-items:center;color:var(--gse-ui-search-counter-default-foregroundColor);white-space:nowrap}.gux-content-search .gux-content-control-panel .gux-navigation-panel .gux-previous-button{flex-shrink:0;align-items:center}.gux-content-search .gux-content-control-panel .gux-navigation-panel .gux-next-button{flex-shrink:0;align-items:center}",p=class{constructor(e){n(this,e),this.guxcurrentmatchchanged=o(this,"guxcurrentmatchchanged",7),this.matchCount=0,this.currentMatch=0}async clear(){this.disabled||(this.matchCount=0,this.currentMatch=0,this.value="",this.resetInputSlottedElement(),this.emitCurrentMatchChanged(),this.inputSlottedElement.focus())}async componentWillLoad(){i(this.root),this.i18n=await a(this.root,b),this.inputSlottedElement=this.root.querySelector("input"),this.disabled=this.inputSlottedElement.disabled,this.value=this.inputSlottedElement.value,this.disabledObserver=s(this.inputSlottedElement,e=>{this.disabled=e}),this.inputSlottedElement.addEventListener("input",e=>this.onInput(e))}disconnectedCallback(){this.disabledObserver&&this.disabledObserver.disconnect()}render(){return t("div",{key:"84feb7e1a8f3e2ed035fe927f7185a88f903677a",class:{"gux-content-search":!0,"gux-disabled":this.disabled},onClick:()=>u(this.inputSlottedElement)},t("div",{key:"c8a38612fc2bd6f7862a7da8fc1851807679fa51",class:"gux-search-icon"},t("gux-icon",{key:"227b4b40ec452990f0552a945ec0a7592b4603a1",size:"small",decorative:!0,"icon-name":"fa/magnifying-glass-regular"})),t("slot",{key:"ba012bb673c81c6649e4cce851f7d7cdb3a30ea5"}),this.getNavigationPanel())}getNavigationPanel(){if(this.showNavigationPanel()){const e=this.disableNavigationPanel();return t("div",{class:"gux-content-control-panel"},t("div",{class:{"gux-navigation-panel":!0,"gux-navigation-disabled":e},"aria-disabled":e.toString()},t("span",{class:{"gux-navigation-result":!0,"gux-navigation-result-disabled":e}},this.matchCountResult()),t("div",{class:"gux-navigation-buttons"},t("button",{type:"button",class:"gux-previous-button",title:this.i18n("navigatePreviousBtn"),"aria-label":this.i18n("navigatePreviousBtn"),onClick:()=>this.previousClick(),disabled:e},t("gux-icon",{decorative:!0,"icon-name":"fa/caret-up-solid",size:"small"})),t("button",{type:"button",class:"gux-next-button",title:this.i18n("navigateNextBtn"),"aria-label":this.i18n("navigateNextBtn"),onClick:()=>this.nextClick(),disabled:e},t("gux-icon",{decorative:!0,"icon-name":"fa/caret-down-solid",size:"small"}))),t("div",{class:"gux-navigation-divider"})),t("button",{class:"gux-clear-button",tabIndex:-1,type:"button",title:this.i18n("clear"),onClick:()=>void this.clear(),disabled:e},t("gux-icon",{"icon-name":"fa/xmark-large-regular",decorative:!0,size:"small"})))}return null}matchCountResult(){return this.i18n("totalMatches",{currentMatch:this.getNormalizedCurrentMatch(),matchCount:this.getNormalizedMatchCount()})}showNavigationPanel(){return this.value!==""}disableNavigationPanel(){return this.disabled||this.getNormalizedMatchCount()<=0}getNormalizedMatchCount(){return this.matchCount&&Number.isInteger(this.matchCount)&&this.matchCount>=0?Number(this.matchCount):0}getNormalizedCurrentMatch(){return this.currentMatch&&Number.isInteger(this.currentMatch)&&this.currentMatch>=0&&this.currentMatch<=this.getNormalizedMatchCount()&&this.getNormalizedMatchCount()>0?Number(this.currentMatch):0}resetInputSlottedElement(){this.inputSlottedElement.value="",this.inputSlottedElement.dispatchEvent(new InputEvent("input",{bubbles:!0,cancelable:!0})),this.inputSlottedElement.dispatchEvent(new InputEvent("change",{bubbles:!0}))}nextClick(){this.disableNavigationPanel()||(this.getNormalizedCurrentMatch()===this.getNormalizedMatchCount()?this.currentMatch=1:this.currentMatch=this.getNormalizedCurrentMatch()+1,this.emitCurrentMatchChanged())}previousClick(){this.disableNavigationPanel()||(this.getNormalizedCurrentMatch()===1||this.getNormalizedCurrentMatch()===0?this.currentMatch=this.getNormalizedMatchCount():this.currentMatch=this.getNormalizedCurrentMatch()-1,this.emitCurrentMatchChanged())}onInput(e){this.value=e.target.value}emitCurrentMatchChanged(){this.guxcurrentmatchchanged.emit(this.getNormalizedCurrentMatch())}get root(){return r(this)}};p.style=v;export{p as gux_content_search};
