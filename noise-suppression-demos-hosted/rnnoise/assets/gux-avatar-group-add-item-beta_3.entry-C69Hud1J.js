import{r as c,h as t,H as d,g}from"./index-RhTaIPoL.js";import{t as v}from"./usage-BYFiy2rf-lhiVWKSr.js";import{g as m}from"./gux-avatar-group.service-DMpkGO63-DD1-fUIk.js";import{b as x}from"./index-Bbwiw1Rf-CzeU2kBB.js";import{a as k,c as w,o as y}from"./floating-ui.dom-s4o__4X6-DwnQVfa1.js";import{O as F}from"./on-click-outside-C-8pG9cs-6YGsTWW7.js";import{l}from"./log-error-DxtJDeL9-5foDqi4E.js";import{a as f}from"./after-next-render-Bg4q97BS-C_KTwidI.js";import{g as z,a as A}from"./gux-avatar.service-BV03_Ljp-DKwIKmQf.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-Cd4R0amv-C_5KDHD-.js";const E="Add more items to group";var T={addToGroup:E};const O="button{box-sizing:border-box;display:flex;align-items:center;justify-content:center;inline-size:var(--gse-ui-avatar-small-content-size);block-size:var(--gse-ui-avatar-small-content-size);padding:0;margin:0;overflow:hidden;font-family:var(--gse-ui-avatar-small-initials-fontFamily);font-size:var(--gse-ui-avatar-small-initials-fontSize);font-weight:var(--gse-ui-avatar-small-initials-fontWeight);line-height:var(--gse-ui-avatar-small-initials-lineHeight);color:var(--gse-ui-avatar-media-initialsForeground-add);cursor:pointer;background:none;background-color:var(--gse-ui-avatar-media-initialsBackground-add);border:none;border-radius:50%}button:focus-visible,button:hover{position:relative;z-index:var(--gse-semantic-zIndex-showFocus)}button:focus-visible{outline:var(--gse-semantic-focusOutline-md-borderWidth) solid var(--gse-semantic-border-focus);outline-offset:var(--gse-semantic-focusOutline-offset)}",C=class{constructor(e){c(this,e)}async componentWillLoad(){v(this.root),this.i18n=await x(this.root,T)}async hideTooltip(){return await this.tooltip.hideTooltip()}onKeydown(e){m(e,this.root)}render(){return t(d,{key:"939f8b3fc4660d4c3aae91b4b00ccbc3e48401f5",role:"menuitem"},t("button",{key:"85601e754565823963d5d3e9cba3f5c3f20f4a12",type:"button","aria-label":this.i18n("addToGroup"),tabIndex:-1,class:"gux-avatar"},t("span",{key:"aeba5a058e5246d957672cca700b1cf8fdc0b268","aria-hidden":"true"},"+"),t("gux-tooltip-beta",{key:"ea4598ef51bf4584bbcaa8fa2bbf515de672b268","aria-hidden":"true","visual-only":!0,placement:"top",ref:e=>this.tooltip=e},t("div",{key:"421774c94dcca4ded514a3d2c0e3922a188ef0cc",slot:"content"},this.i18n("addToGroup")))))}static get delegatesFocus(){return!0}get root(){return g(this)}};C.style=O;const B=":host{display:block;margin-inline-end:var(--gse-ui-avatar-groupSet-gap)}.gux-avatar-overflow{position:relative;box-sizing:border-box;inline-size:100%;padding:0;margin:0;line-height:0px;cursor:pointer;background:none;border:none;border-radius:50%}.gux-avatar-overflow:focus-visible{outline:var(--gse-semantic-focusOutline-md-borderWidth) solid var(--gse-semantic-border-focus);outline-offset:var(--gse-semantic-focusOutline-offset)}.gux-avatar-overflow:hover,.gux-avatar-overflow:focus{z-index:var(--gse-semantic-zIndex-showFocus)}.gux-avatar-overflow .gux-avatar-overflow-wrapper{position:relative;display:flex}.gux-avatar-overflow .gux-avatar-overflow-wrapper .gux-avatar-overflow-content{box-sizing:border-box;display:flex;align-items:center;justify-content:center;inline-size:var(--gse-ui-avatar-small-content-size);block-size:var(--gse-ui-avatar-small-content-size);overflow:hidden;font-family:var(--gse-ui-avatar-small-initials-fontFamily);font-size:var(--gse-ui-avatar-small-initials-fontSize);font-weight:var(--gse-ui-avatar-small-initials-fontWeight);line-height:var(--gse-core-lineHeight-matchFontSize);color:var(--gse-ui-avatar-media-initialsForeground-default);background-color:var(--gse-ui-avatar-media-initialsBackground-overflowCount);border-radius:50%}.gux-menu-wrapper{position:fixed;inset-block-start:0;inset-inline-start:0;z-index:var(--gse-semantic-zIndex-popup);visibility:hidden;flex-direction:column;max-block-size:var(--gse-ui-menu-maxHeight);padding:var(--gse-ui-menu-padding);margin:0;overflow-y:auto;background-color:var(--gse-ui-menu-backgroundColor);border:none;border:var(--gse-semantic-container-edges-borderWidth) solid var(--gse-semantic-border-container-edges-default);border-radius:var(--gse-ui-menu-borderRadius);box-shadow:var(--gse-ui-menu-boxShadow)}.gux-menu-wrapper.gux-shown{visibility:visible}";var I=function(e,a,i,r){var n=arguments.length,o=n<3?a:r===null?r=Object.getOwnPropertyDescriptor(a,i):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,a,i,r);else for(var u=e.length-1;u>=0;u--)(s=e[u])&&(o=(n<3?s(o):n>3?s(a,i,o):s(a,i))||o);return n>3&&o&&Object.defineProperty(a,i,o),o};const b=class{constructor(e){c(this,e),this.delayTime=250,this.count=0,this.expanded=!1}async componentWillLoad(){v(this.root)}componentDidLoad(){this.expanded&&this.runUpdatePosition()}componentDidUpdate(){this.expanded?this.runUpdatePosition():this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}disconnectedCallback(){clearTimeout(this.focusDelayTimeout),clearTimeout(this.hideDelayTimeout),this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}onClickOutside(){this.expanded=!1}onKeydown(e){switch(m(e,this.root),e.key){case"Escape":{this.hide(),e.target.tagName==="GUX-AVATAR-OVERFLOW-ITEM-BETA"&&(this.focusDelayTimeout=f(()=>{var i;(i=this.overflowButtonElement)===null||i===void 0||i.focus()}));break}case"Tab":this.hide();break}}onClick(e){e.stopPropagation(),e.target.tagName==="GUX-AVATAR-OVERFLOW-ITEM-BETA"&&(this.menuElement.scrollTop=0,this.expanded=!1)}async guxClose(){this.hide()}runUpdatePosition(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition(),this.root.isConnected?this.cleanupUpdatePosition=k(this.overflowButtonElement,this.menuElement,()=>this.updatePosition(),{ancestorScroll:!0,elementResize:!0,animationFrame:!0,ancestorResize:!0}):this.disconnectedCallback()}updatePosition(){this.root&&w(this.overflowButtonElement,this.menuElement,{placement:"bottom-start",strategy:"fixed",middleware:[y({mainAxis:4,crossAxis:4})]}).then(({x:e,y:a})=>{Object.assign(this.menuElement.style,{left:`${e}px`,top:`${a}px`})})}getCount(){const e=Array.from(this.root.children);if(e.some(a=>a.tagName!=="GUX-AVATAR-OVERFLOW-ITEM-BETA")&&l(this.root,"Only gux-avatar-overflow-item-beta elements are allowed as children."),e)return e.length}toggleOverflowMenu(){this.expanded?this.hide():this.show()}show(){clearTimeout(this.hideDelayTimeout),this.expanded=!0,this.hideDelayTimeout=f(()=>{this.focusOnMenu()})}hide(){this.expanded&&(this.hideDelayTimeout=setTimeout(()=>{this.expanded=!1},this.delayTime))}focusOnMenu(){Array.from(this.root.children)[0].focus()}render(){return t(d,{key:"414e3e0aa9109a6b29a96b383440581715d30084",role:"menuitem"},t("button",{key:"cfc33402fa19164395049ebef4f8901c1bc1fecc",class:"gux-avatar-overflow",ref:e=>this.overflowButtonElement=e,onClick:()=>this.toggleOverflowMenu(),tabIndex:-1,"aria-haspopup":"true","aria-expanded":this.expanded.toString()},t("span",{key:"47face021168cc59f55094467413428787e1dfb9",class:"gux-avatar-overflow-wrapper"},t("span",{key:"bc2232575706eca207b7492f05d4ba1e4b550b0b",class:"gux-avatar-overflow-content"}," +",this.getCount()))),t("div",{key:"a0a0c501e62e9529af57f693de72855ae3efe686",class:{"gux-menu-wrapper":!0,"gux-shown":this.expanded},ref:e=>this.menuElement=e},t("div",{key:"ea9ff82a975185881c9c406d39a7347df079777b",role:"menu",class:"gux-menu-content"},t("slot",{key:"74cf98398e8c183532af8177c296cbf5c90734de"}))))}static get delegatesFocus(){return!0}get root(){return g(this)}};I([F({triggerEvents:"mousedown"})],b.prototype,"onClickOutside",null);b.style=B;function P(e,a){switch(e.key){case"ArrowUp":case"ArrowLeft":e.stopPropagation(),e.preventDefault(),S(a);break;case"ArrowDown":case"ArrowRight":e.stopPropagation(),e.preventDefault(),R(a);break;case"Home":e.stopPropagation(),e.preventDefault(),p(a);break;case"End":e.stopPropagation(),e.preventDefault(),h(a);break}}function p(e){const a=U(e);a&&a.focus()}function h(e){const a=D(e);a&&a.focus()}function S(e){const a=e.previousElementSibling;a?a.focus():h(e)}function R(e){const a=e.nextElementSibling;a?a.focus():p(e)}function U(e){let a=e;for(;a.previousElementSibling!==null;)a=a.previousElementSibling;return a}function D(e){let a=e;for(;a.nextElementSibling!==null;)a=a.nextElementSibling;return a}const W="::slotted(img){inline-size:100%;block-size:100%;object-fit:cover}button{all:unset;box-sizing:border-box;display:flex;gap:var(--gse-ui-menu-option-gap);align-items:center;inline-size:100%;min-block-size:var(--gse-ui-menu-option-height);padding:var(--gse-ui-menu-option-padding);font-family:var(--gse-ui-menu-option-label-default-text-fontFamily);font-size:var(--gse-ui-menu-option-label-default-text-fontSize);font-weight:var(--gse-ui-menu-option-label-default-text-fontWeight);line-height:var(--gse-ui-menu-option-label-default-text-lineHeight);color:var(--gse-ui-menu-option-label-foregroundColor);overflow-wrap:break-word;cursor:pointer;outline:none;outline-offset:calc(var(--gse-ui-menu-option-focus-border-width) * -1);background-color:var(--gse-ui-menu-option-default-backgroundColor);border:none}button:focus-visible{outline:var(--gse-ui-menu-option-focus-border-width) var(--gse-ui-menu-option-focus-border-style) var(--gse-ui-menu-option-focus-border-color);border-radius:var(--gse-semantic-focusOutline-sm-borderRadius)}button:hover{background:var(--gse-ui-menu-option-hover-backgroundColor)}button:active{font-family:var(--gse-ui-menu-option-label-active-text-fontFamily);font-size:var(--gse-ui-menu-option-label-active-text-fontSize);font-weight:var(--gse-ui-menu-option-label-active-text-fontWeight);line-height:var(--gse-ui-menu-option-label-active-text-lineHeight);background:var(--gse-ui-menu-option-selected-backgroundColor)}button .gux-avatar{box-sizing:border-box;display:flex;align-items:center;justify-content:center;inline-size:var(--gse-ui-avatar-xsmall-content-size);block-size:var(--gse-ui-avatar-xsmall-content-size);padding:0;margin:0;overflow:hidden;color:var(--gse-ui-avatar-media-initialsForeground-inverse);cursor:pointer;background:none;background-color:var(--gse-ui-avatar-media-initialsBackground-default);border:none;border-radius:50%}button .gux-avatar .gux-avatar-initials{font-family:var(--gse-ui-avatar-small-initials-fontFamily);font-size:var(--gse-ui-avatar-xsmall-initials-fontSize);font-weight:var(--gse-ui-avatar-xsmall-initials-fontWeight);line-height:var(--gse-ui-avatar-small-initials-lineHeight);text-transform:uppercase}button .gux-avatar.gux-accent-1{color:var(--gse-ui-avatar-media-initialsForeground-inverse);background-color:var(--gse-ui-avatar-media-initialsBackground-accent1)}button .gux-avatar.gux-accent-2{color:var(--gse-ui-avatar-media-initialsForeground-default);background-color:var(--gse-ui-avatar-media-initialsBackground-accent2)}button .gux-avatar.gux-accent-3{color:var(--gse-ui-avatar-media-initialsForeground-inverse);background-color:var(--gse-ui-avatar-media-initialsBackground-accent3)}button .gux-avatar.gux-accent-4{color:var(--gse-ui-avatar-media-initialsForeground-inverse);background-color:var(--gse-ui-avatar-media-initialsBackground-accent4)}button .gux-avatar.gux-accent-5{color:var(--gse-ui-avatar-media-initialsForeground-default);background-color:var(--gse-ui-avatar-media-initialsBackground-accent5)}button .gux-avatar.gux-accent-6{color:var(--gse-ui-avatar-media-initialsForeground-default);background-color:var(--gse-ui-avatar-media-initialsBackground-accent6)}button .gux-avatar.gux-accent-7{color:var(--gse-ui-avatar-media-initialsForeground-inverse);background-color:var(--gse-ui-avatar-media-initialsBackground-accent7)}button .gux-avatar.gux-accent-8{color:var(--gse-ui-avatar-media-initialsForeground-default);background-color:var(--gse-ui-avatar-media-initialsBackground-accent8)}button .gux-avatar.gux-accent-9{color:var(--gse-ui-avatar-media-initialsForeground-default);background-color:var(--gse-ui-avatar-media-initialsBackground-accent9)}button .gux-avatar.gux-accent-10{color:var(--gse-ui-avatar-media-initialsForeground-default);background-color:var(--gse-ui-avatar-media-initialsBackground-accent10)}button .gux-avatar.gux-accent-11{color:var(--gse-ui-avatar-media-initialsForeground-default);background-color:var(--gse-ui-avatar-media-initialsBackground-accent11)}button .gux-avatar.gux-accent-12{color:var(--gse-ui-avatar-media-initialsForeground-inverse);background-color:var(--gse-ui-avatar-media-initialsBackground-accent12)}button .gux-avatar.gux-accent-inherit{color:inherit;background-color:inherit}",_=class{constructor(e){c(this,e),this.accent="auto"}async componentWillLoad(){v(this.root)}componentDidLoad(){this.validatingInputs()}onKeydown(e){P(e,this.root)}validatingInputs(){const e=this.root.querySelector("img");this.name||l(this.root,"Name prop is required"),e&&!e.getAttribute("alt")&&l(this.root,"Alt attribute is required for slotted image.")}render(){return t(d,{key:"3484a9766bc6579e0d0ff9ecc1072d4fe9daa3fb",role:"menuitem"},t("button",{key:"faf1ef959a2931375ccf2d2613c69d31df119d09",type:"button","aria-label":this.name,tabIndex:-1},t("span",{key:"6365d5bc608ed6768e24137abe02e603bdc0556e",class:{"gux-avatar":!0,[z(this.accent,this.name)]:!0}},t("slot",{key:"e6ac5bcdf9e44445782a7b520b9b4db50cd693c7",name:"image"},t("span",{key:"226ea2aa1ab9dc4a9246222ea146c8ac563af4a2",class:"gux-avatar-initials","aria-hidden":"true"},A(this.name)))),t("span",{key:"686671785a282abcc0e6369d700651643c82574a"},this.name)))}static get delegatesFocus(){return!0}get root(){return g(this)}};_.style=W;export{C as gux_avatar_group_add_item_beta,b as gux_avatar_overflow_beta,_ as gux_avatar_overflow_item_beta};
