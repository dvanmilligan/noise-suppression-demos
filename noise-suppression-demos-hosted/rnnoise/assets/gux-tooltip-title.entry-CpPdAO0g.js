import{r as p,f as u,h as s,g as d}from"./index-RhTaIPoL.js";import{l as f}from"./log-error-DxtJDeL9-5foDqi4E.js";import{O as x}from"./on-mutation-D5H4nH4U-CeToMEmQ.js";import{O as T}from"./on-resize-DU66ME6L-yF4SUj4S.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const g="gux-tooltip-title{overflow:hidden}gux-tooltip{font-weight:normal;line-height:normal;text-align:start;overflow-wrap:break-word;white-space:normal}.gux-overflow-hidden .gux-title-container ::slotted(span){overflow:hidden;text-overflow:ellipsis}.gux-overflow-hidden .gux-title-container>*{overflow:hidden;text-overflow:ellipsis}.gux-title-container{display:flex;pointer-events:none}.gux-tooltip-icon-decorative .gux-title-container{position:relative;margin-inline-start:20px}.gux-tooltip-icon-decorative .gux-title-container gux-icon,.gux-tooltip-icon-decorative .gux-title-container ::slotted(gux-icon){position:absolute;inset-block-start:1px;inset-inline-start:-20px;flex-shrink:0;inline-size:16px;block-size:16px}.gux-icon-only{line-height:0px}";var c=function(t,e,o,l){var r=arguments.length,i=r<3?e:l===null?l=Object.getOwnPropertyDescriptor(e,o):l,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,o,l);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(i=(r<3?n(i):r>3?n(e,o,i):n(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};const h=class{constructor(t){p(this,t),this.hasTooltip=!1,this.showTooltip=!1,this.iconOnly=!1,this.titleName=""}onmouseenter(t){t.buttons||(this.showTooltip=!0)}onmouseleave(){this.showTooltip=!1}onmousedown(){this.showTooltip=!1}async setShowTooltip(){this.tooltipElement&&(this.showTooltip=!0,await this.tooltipElement.showTooltip())}async setHideTooltip(){this.tooltipElement&&(this.showTooltip=!1,await this.tooltipElement.hideTooltip())}onMutation(){const t=this.setTooltipTitleText();this.titleName!==t&&(this.titleName=t,u(this.root)),this.checkForTooltipHideOrShow()}onResize(){this.titleName=this.setTooltipTitleText(),this.checkForTooltipHideOrShow()}componentWillLoad(){this.titleName=this.setTooltipTitleText()}componentDidLoad(){this.logWarnNoIconSrText()}logWarnNoIconSrText(){this.iconOnly&&!this.titleName&&f(this.root,"No screenreader-text provided. Provide a localized screenreader-text property for the gux-icon. The screenreader-text property is used for the icon screenreader text and the tooltip.")}addIconDecorative(){this.root.classList.add("gux-tooltip-icon-decorative")}getTitleElements(){var t;const e=this.root.querySelector("slot"),o=(t=this.root.querySelector(".gux-title-container span"))===null||t===void 0?void 0:t.children;return e?e.assignedElements():o?Array.from(o):[]}getTitleTextContent(){return this.root.querySelector("slot")?this.root.querySelector("slot").assignedNodes().map(t=>t.textContent.trim()).join(""):this.root.querySelector(".gux-title-container")?this.root.querySelector(".gux-title-container").textContent.trim():""}setTooltipTitleText(){let t=this.getTitleTextContent();return this.getTitleElements().forEach(e=>{e.tagName==="GUX-ICON"&&!this.getTitleTextContent()?(this.iconOnly=!0,t=e.getAttribute("screenreader-text")):e.tagName==="GUX-ICON"&&this.getTitleTextContent()&&this.addIconDecorative()}),t}checkForTooltipHideOrShow(){const t=this.root.querySelector(".gux-title-container");this.root.classList.remove("gux-overflow-hidden"),this.iconOnly&&this.titleName?this.hasTooltip=!0:(t==null?void 0:t.scrollWidth)>(t==null?void 0:t.offsetWidth)?(this.root.classList.add("gux-overflow-hidden"),this.hasTooltip=!0):this.hasTooltip=!1}render(){return[s("span",{key:"8c2dbcf4511ab1153c6e10979d4e4b2043af907a",class:{"gux-title-container":!0,"gux-icon-only":this.iconOnly}},s("slot",{key:"02dd232fbbffc1a44e1f8ce613212a71b853709e"})),this.renderTooltip()]}renderTooltip(){if(this.hasTooltip)return s("gux-tooltip",{"aria-hidden":"true",ref:t=>this.tooltipElement=t,hidden:!this.showTooltip},s("div",{slot:"content"},this.setTooltipTitleText()))}get root(){return d(this)}};c([x({childList:!0,subtree:!0,characterData:!0})],h.prototype,"onMutation",null);c([T()],h.prototype,"onResize",null);h.style=g;export{h as gux_tooltip_title};
