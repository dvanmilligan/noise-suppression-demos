import{r as s,c as n,h as i,g as r}from"./index-RhTaIPoL.js";import{e}from"./event-is-from-C6ZfOd6U-BUOfvQpd.js";import{r as d}from"./random-html-id-D9jKBqIb-D30kRngR.js";import{a}from"./after-next-render-Bg4q97BS-C_KTwidI.js";import{b as u}from"./index-Bbwiw1Rf-CzeU2kBB.js";import{t as c}from"./en-DFTYqKJS-D4CZb78c.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-Cd4R0amv-C_5KDHD-.js";const l="gux-tab-advanced .gux-tab{display:flex;align-items:center;border-color:transparent;border-block-start-width:var(--gse-ui-advancedTabs-item-indicator-height);border-block-end-style:solid;border-block-end-width:var(--gse-ui-advancedTabs-item-indicator-height)}gux-tab-advanced .gux-tab .gux-buttons{display:flex;flex:1 1 0;gap:var(--gse-ui-advancedTabs-item-gap);align-items:center;inline-size:var(--gse-ui-advancedTabs-item-width);min-inline-size:0}gux-tab-advanced .gux-tab .gux-buttons .gux-tab-button{all:unset;flex:1 1 0;inline-size:100px;min-inline-size:0;padding:var(--gse-ui-advancedTabs-item-padding)}gux-tab-advanced .gux-tab .gux-buttons .gux-tab-button:focus-visible{outline:var(--gse-semantic-focusOutline-md-borderWidth) solid var(--gse-semantic-border-focus);outline-offset:var(--gse-semantic-focusOutline-offset);outline-offset:calc(-1 * var(--gse-semantic-focusOutline-md-borderWidth));border-radius:var(--gse-ui-advancedTabs-item-focus-borderRadius)}gux-tab-advanced .gux-tab .gux-buttons .gux-tab-button .gux-tab-button-text{font-family:var(--gse-ui-advancedTabs-item-itemText-fontFamily);font-size:var(--gse-ui-advancedTabs-item-itemText-fontSize);font-weight:var(--gse-ui-advancedTabs-item-itemText-fontWeight);line-height:var(--gse-ui-advancedTabs-item-itemText-lineHeight);color:var(--gse-ui-advancedTabs-item-text-color);white-space:nowrap}gux-tab-advanced .gux-tab .gux-tab-options button{block-size:var(--gse-ui-button-default-height);padding:var(--gse-ui-button-default-paddingIconOnly);border-radius:var(--gse-ui-button-borderRadius)}gux-tab-advanced .gux-tab .gux-tab-options .gux-tab-options-trigger gux-icon{inline-size:var(--gse-ui-icon-small-size);block-size:var(--gse-ui-icon-small-size)}gux-tab-advanced .gux-tab .gux-tab-options .gux-tab-options-container{--no-op:none}gux-tab-advanced .gux-tab .gux-divider{inline-size:var(--gse-ui-advancedTabs-item-divider-right-width);block-size:var(--gse-ui-advancedTabs-item-divider-right-height);background-color:var(--gse-ui-advancedTabs-divider-dividerColor)}gux-tab-advanced .gux-tab:hover:not(.gux-disabled),gux-tab-advanced .gux-tab:focus-within{border-block-end-color:var(--gse-ui-advancedTabs-item-indicator-activeColor)}gux-tab-advanced .gux-tab.gux-selected{background-color:var(--gse-ui-advancedTabs-item-backgroundColor);border-block-end-color:var(--gse-ui-advancedTabs-item-indicator-activeColor)}gux-tab-advanced .gux-tab.gux-selected.gux-disabled{opacity:var(--gse-ui-advancedTabs-item-disabled-opacity)}gux-tab-advanced .gux-tab.gux-disabled .gux-buttons .gux-tab-button .gux-tab-button-text{opacity:var(--gse-ui-advancedTabs-item-disabled-opacity)}",g=class{constructor(t){s(this,t),this.internalactivatetabpanel=n(this,"internalactivatetabpanel",7),this.dropdownOptionsButtonId=d(),this.tabTitle="",this.focusinFromClick=!1,this.active=!1,this.guxDisabled=!1,this.popoverHidden=!0}onFocusin(t){!this.focusinFromClick&&t.target.classList.contains("gux-tab-button")&&this.tooltipTitleElement.setShowTooltip()}onFocusout(t){this.root.querySelector(".gux-tab").contains(t.relatedTarget)||(this.popoverHidden=!0),t.target.classList.contains("gux-tab-button")&&this.tooltipTitleElement.setHideTooltip(),this.focusinFromClick=!1}onKeydown(t){switch(t.key){case"ArrowDown":e(".gux-tab-options-trigger",t)&&(t.stopPropagation(),t.preventDefault(),this.popoverHidden=!1,this.focusFirstItemInPopupList()),e('gux-list[slot="dropdown-options"]',t)&&(t.stopImmediatePropagation(),t.stopPropagation());break;case"Enter":e(".gux-tab-options-trigger",t)&&(t.stopPropagation(),t.preventDefault(),this.popoverHidden=!1,this.focusFirstItemInPopupList());break;case"Escape":e('gux-list[slot="dropdown-options"]',t)&&(t.stopPropagation(),this.popoverHidden=!0,a(()=>{var o;(o=this.tabOptionsButtonElement)===null||o===void 0||o.focus()}));break;case"ArrowRight":case"ArrowLeft":case"ArrowUp":case"Tab":case"Home":case"End":e('gux-list[slot="dropdown-options"]',t)&&(t.stopImmediatePropagation(),t.stopPropagation());break}}onKeyup(t){switch(t.key){case" ":e(".gux-tab-options-trigger",t)&&this.focusFirstItemInPopupList()}}onClick(t){e(".gux-tab-options-trigger",t)||!this.active&&!this.guxDisabled&&this.internalactivatetabpanel.emit(this.tabId)}onMouseDown(){this.focusinFromClick=!0}async guxSetActive(t){this.active=t}async guxGetActive(){return this.active}async guxFocus(){this.buttonElement.focus()}get hasDropdownOptions(){return!!this.root.querySelector('gux-list[slot="dropdown-options"]')}focusFirstItemInPopupList(){const t=this.root.querySelector('gux-list[slot="dropdown-options"]');a(()=>{t==null||t.guxFocusFirstItem()})}toggleOptions(){this.popoverHidden=!this.popoverHidden}onSelectDropdownOption(t){this.popoverHidden=!0,t.stopPropagation(),a(()=>{this.tabOptionsButtonElement.focus()})}async componentWillLoad(){this.i18n=await u(this.root,c,"gux-tabs-advanced")}componentDidLoad(){this.tabTitle=this.root.querySelector("gux-tooltip-title").textContent.trim()}popoverOnClick(t){t.stopPropagation()}renderTabOptions(){return this.hasDropdownOptions?i("div",{class:"gux-tab-options"},i("gux-button-slot",{accent:"ghost"},i("button",{id:this.dropdownOptionsButtonId,role:"tab","aria-expanded":(!this.popoverHidden).toString(),type:"button",class:"gux-tab-options-trigger",ref:t=>this.tabOptionsButtonElement=t,onClick:()=>this.toggleOptions(),tabIndex:this.active?0:-1,disabled:this.guxDisabled},i("gux-icon",{"icon-name":"fa/ellipsis-vertical-regular",decorative:!0}),i("gux-screen-reader-beta",null,this.i18n("options",{tabTitle:this.tabTitle})))),i("gux-popover-list",{position:"top-end",for:this.dropdownOptionsButtonId,displayDismissButton:!1,"is-open":!this.popoverHidden,closeOnClickOutside:!0,onGuxdismiss:()=>this.popoverHidden=!0,onClick:t=>this.popoverOnClick(t),onFocusout:t=>t.stopImmediatePropagation()},i("div",{class:"gux-dropdown-options-container",onClick:t=>this.onSelectDropdownOption(t)},i("slot",{name:"dropdown-options"})))):null}renderTabButton(){return i("button",{class:"gux-tab-button",type:"button",role:"tab",disabled:this.guxDisabled,"aria-selected":this.active.toString(),"aria-disabled":this.guxDisabled.toString(),"aria-controls":`gux-${this.tabId}-panel`,ref:t=>this.buttonElement=t,tabIndex:this.active?0:-1,id:`gux-${this.tabId}-tab`},i("gux-tooltip-title",{ref:t=>this.tooltipTitleElement=t},i("span",{class:"gux-tab-button-text"},i("slot",null))))}render(){return[i("div",{key:"6cc61dbd74ec3fcdae36625ccac88a2b4e62ac7f",class:{"gux-tab":!0,"gux-selected":this.active,"gux-dropdown-options":this.hasDropdownOptions,"gux-disabled":this.guxDisabled}},i("div",{key:"88f6316c9af208548e9a0b065d5b9ce13a3f8a49",class:"gux-buttons"},this.renderTabButton(),this.renderTabOptions()),i("div",{key:"79073bc9a158ca54ba78371e5a538ba76baa8d12",class:"gux-divider"}))]}get root(){return r(this)}};g.style=l;export{g as gux_tab_advanced};
