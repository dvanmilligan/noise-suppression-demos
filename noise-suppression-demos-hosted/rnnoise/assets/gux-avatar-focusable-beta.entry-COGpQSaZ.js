import{r as s,h as i,H as n,g as d}from"./index-RhTaIPoL.js";import{l}from"./log-error-DxtJDeL9-5foDqi4E.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const m=class{constructor(t){s(this,t)}componentWillLoad(){this.validateSlot()}validateSlot(){var t;this.slottedElement=this.root.querySelector("a, button, gux-avatar-change-photo-beta"),this.slottedElement?(this.avatarElement=this.slottedElement.querySelector("gux-avatar-beta"),this.avatarElement||l(this.root,"Slotted element must contain a gux-avatar")):l(this.root,"An anchor tag, gux-avatar-change-photo-beta tag or button tag must be slotted into gux-avatar-focusable"),["A","BUTTON"].includes((t=this.slottedElement)===null||t===void 0?void 0:t.tagName)&&(this.slottedElement.addEventListener("keyup",e=>{this.handleKeyEvent(e)}),this.slottedElement.addEventListener("focusout",()=>{this.handleFocusOut()}))}disconnectedCallback(){var t,e,a;["A","BUTTON"].includes((t=this.slottedElement)===null||t===void 0?void 0:t.tagName)&&((e=this.slottedElement)===null||e===void 0||e.removeEventListener("keyup",o=>this.handleKeyEvent(o)),(a=this.slottedElement)===null||a===void 0||a.removeEventListener("focusout",()=>this.handleFocusOut()))}handleKeyEvent(t){var e,a;switch(t.key){case"Tab":{this.slottedElement.matches(":focus-visible")&&this.avatarElement&&((e=this.avatarElement)===null||e===void 0||e.showTooltip(),this.hideTooltipTimeout=setTimeout(()=>{var o;(o=this.avatarElement)===null||o===void 0||o.hideTooltip()},6e3));break}default:{this.slottedElement.matches(":focus-visible")&&this.avatarElement&&((a=this.avatarElement)===null||a===void 0||a.hideTooltip(),clearTimeout(this.hideTooltipTimeout));break}}}handleFocusOut(){var t;(t=this.avatarElement)===null||t===void 0||t.hideTooltip(),clearTimeout(this.hideTooltipTimeout)}render(){return i(n,{key:"6c184a01d6f634e96c881f475f1498426c1f70ed"},i("slot",{key:"4e8cdb661f29149f4ea7a908de8b614ddd1853bf"}))}get root(){return d(this)}};export{m as gux_avatar_focusable_beta};
