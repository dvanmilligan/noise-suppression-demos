import{r as d,c as a,h as n}from"./index-RhTaIPoL.js";import{a as r,c as l,o as c,f as h,d as u,s as f,h as g}from"./floating-ui.dom-s4o__4X6-DwnQVfa1.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const x=".gux-target-container.gux-disabled{pointer-events:none;cursor:default;opacity:0.5}.gux-popup-container{position:fixed;z-index:var(--gse-semantic-zIndex-popup);visibility:hidden;inline-size:max-content;background-color:var(--gse-ui-menu-backgroundColor)}.gux-popup-container.gux-expanded{visibility:visible}.gux-sr-only-clip{}.gux-sr-only-clip:not(:focus):not(:active){position:absolute;width:1px;height:1px;overflow:hidden;white-space:nowrap;clip-path:inset(50%)}",m=class{constructor(e){d(this,e),this.internalexpanded=a(this,"internalexpanded",7),this.internalcollapsed=a(this,"internalcollapsed",7),this.placement="bottom-start",this.expanded=!1,this.disabled=!1,this.offset=2,this.exceedTargetWidth=!1,this.inline=!1}runUpdatePosition(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition(),this.cleanupUpdatePosition=r(this.targetElementContainer,this.popupElementContainer,()=>this.updatePosition(),{ancestorScroll:!0,elementResize:!0,animationFrame:!0,ancestorResize:!0})}updatePosition(){if(this.targetElementContainer&&this.popupElementContainer){const e=this.exceedTargetWidth,s=this.inline;l(this.targetElementContainer,this.popupElementContainer,{strategy:"fixed",placement:this.placement,middleware:[c(this.offset),h(),u({apply({rects:t,elements:i}){e&&!s?Object.assign(i.floating.style,{minWidth:`${t.reference.width}px`}):s||Object.assign(i.floating.style,{width:`${t.reference.width}px`})}}),f(),g()]}).then(({x:t,y:i,middlewareData:o})=>{const{referenceHidden:p}=o.hide;isNaN(t)||Object.assign(this.popupElementContainer.style,{left:`${t}px`}),isNaN(i)||Object.assign(this.popupElementContainer.style,{top:`${i}px`}),p?this.popupElementContainer.classList.add("gux-sr-only-clip"):this.popupElementContainer.classList.remove("gux-sr-only-clip")})}}onExpandedChange(e){e?this.internalexpanded.emit():this.internalcollapsed.emit()}componentDidLoad(){this.expanded&&this.runUpdatePosition()}componentDidUpdate(){this.expanded?this.runUpdatePosition():this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}disconnectedCallback(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}render(){return n("div",{key:"5128584fdc2b17e72d85d4d0e7c46ee0a090960e",class:{"gux-target-container":!0,"gux-disabled":this.disabled},"aria-disabled":this.disabled.toString(),ref:e=>this.targetElementContainer=e},n("slot",{key:"5141e285b264bced60582e69fb9e5762999682d1",name:"target"}),n("div",{key:"57ff295ea506290611a8e9f1f1df6e30a44d2d3d",class:{"gux-popup-container":!0,"gux-expanded":this.expanded&&!this.disabled},ref:e=>this.popupElementContainer=e},n("slot",{key:"e8463689dfa49381ad0e1a2bda8990d813439487",name:"popup"})))}static get watchers(){return{expanded:["onExpandedChange"]}}};m.style=x;export{m as gux_popup};
