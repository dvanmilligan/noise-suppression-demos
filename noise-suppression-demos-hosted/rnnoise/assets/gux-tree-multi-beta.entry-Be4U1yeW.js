import{r as f,f as m,h as r,H as p,g}from"./index-RhTaIPoL.js";import{t as b}from"./usage-BYFiy2rf-lhiVWKSr.js";import{s as l}from"./simulate-native-event-BMRf5pjV-BcLDngo1.js";import{h as k,s as v,f as i,c as x,d as n,e as d,i as A,j as D,k as w,l as C,m as N,t as a,n as c,o as y}from"./gux-tree-multi.service-C9qtlM6V-D1mAoUwW.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./when-event-is-from-kLXvN2m9-B4cyA2sH.js";const S=":host{display:flex;flex-direction:column;flex-wrap:nowrap;gap:var(--gse-ui-treeView-item-internalGap);place-content:stretch flex-start;align-items:stretch;padding:var(--gse-ui-treeView-group-comfy-padding)}:host(.gux-compact){padding:var(--gse-ui-treeView-group-compact-padding)}",E=class{constructor(e){f(this,e),e.$hostElement$["s-ei"]?this.internals=e.$hostElement$["s-ei"]:(this.internals=e.$hostElement$.attachInternals(),e.$hostElement$["s-ei"]=this.internals),this.value="",this._disabled=!1,this.size="comfy",this.alignment="start"}get disabled(){return this._disabled||k(this.root)}set disabled(e){this._disabled=e}handleValueChange(e,t){var s;!((s=this.internals)===null||s===void 0)&&s.setFormValue&&this.internals.setFormValue(e),v(this.root,this.value),l(this.root,"input"),t!==e&&l(this.root,"change"),i(this.root)}handleDisabledChange(){this.disabled?x(this.root):n(this.root),i(this.root)}onClick(e){this.disabled||d({event:e,onLeaf:t=>{this.isSelectionClick(e)&&a(this.root,t)},onBranch:t=>{this.isSelectionClick(e)?a(this.root,t):t.expanded=!t.expanded}})}handleKeydown(e){if(!this.disabled)switch(e.key){case"ArrowDown":e.preventDefault(),C(this.root);break;case"ArrowUp":e.preventDefault(),w(this.root);break;case"Home":e.preventDefault(),D(this.root);break;case"End":e.preventDefault(),A(this.root);break;case"ArrowLeft":case"ArrowRight":case"Enter":case" ":d({event:e,onLeaf:t=>{switch(e.key){case"ArrowLeft":e.preventDefault(),c(this.root);break;case"Enter":case" ":e.preventDefault(),a(this.root,t);break}},onBranch:t=>{switch(e.key){case"ArrowRight":e.preventDefault(),t.expanded?y(this.root):t.expanded=!0;break;case"ArrowLeft":e.preventDefault(),t.expanded?t.expanded=!1:c(this.root);break;case"Enter":case" ":e.preventDefault(),a(this.root,t);break}}});break;default:return}}formAssociatedCallback(e){console.info("Form associated:",e)}formDisabledCallback(){i(this.root)}formResetCallback(){this.value=""}formStateRestoreCallback(e){this.value=e}componentWillLoad(){var e;b(this.root),this.internals.role="tree",this.root.setAttribute("role","tree"),this.internals.ariaMultiSelectable="true",this.root.setAttribute("aria-multiselectable","true"),!((e=this.internals)===null||e===void 0)&&e.setFormValue&&this.internals.setFormValue(this.value),N(this.root,this.value),n(this.root)}componentDidLoad(){this.handleDisabledChange()}onDefaultSlotchange(){m(this.root)}isSelectionClick(e){const t=e.composedPath(),s=["gux-selection-target"];return t.some(h=>{const o=h;return o.classList&&s.some(u=>o.classList.contains(u))})}render(){return r(p,{key:"3b6c422fe4ac7d0faf1f70233bd2911a7b706220",class:{"gux-compact":this.size==="compact","gux-end":this.alignment==="end"},"aria-disabled":this.disabled?"true":"false"},r("slot",{key:"2d49efb0f76c946d5f6d02c748d80e8aa2eb33a3",onSlotchange:()=>this.onDefaultSlotchange()}))}static get formAssociated(){return!0}get root(){return g(this)}static get watchers(){return{value:["handleValueChange"],disabled:["handleDisabledChange"]}}};E.style=S;export{E as gux_tree_multi_beta};
