import{r as s,c as n,h as t,g as l}from"./index-CV4KLuUB.js";import{r as d}from"./random-html-id-81ac821b-D30kRngR.js";import{t as r}from"./usage-6129fffe-6kP8_2TX.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const u="::slotted(button:active:enabled){color:var(--gse-ui-link-active-foregroundColor);text-decoration:underline;background:none}slot[name=left-align-buttons]::slotted(:not(button,gux-button)){display:flex;flex-direction:row;gap:var(--gse-ui-modal-buttonBar-gap);align-content:flex-start;align-items:center}:host .gux-modal{position:fixed;inset:0;z-index:var(--gse-semantic-zIndex-modal);display:flex;align-items:center;justify-content:center;color:#2e394c;background:var(--gse-ui-modal-shroudColor)}:host .gux-modal .gux-modal-container{position:relative;box-sizing:border-box;display:flex;flex-direction:column;justify-content:space-between;padding:var(--gse-ui-modal-padding);background:var(--gse-ui-modal-backgroundColor);border:1px solid #b4bccb;border-radius:var(--gse-ui-modal-borderRadius);box-shadow:var(--gse-ui-modal-boxShadow-x) var(--gse-ui-modal-boxShadow-y) var(--gse-ui-modal-boxShadow-blur) var(--gse-ui-modal-boxShadow-spread) var(--gse-ui-modal-boxShadow-color)}:host .gux-modal .gux-modal-container.gux-small{width:var(--gse-ui-modal-small-width);max-height:min(368px, 100vh - 2 * 24px)}:host .gux-modal .gux-modal-container.gux-medium{width:var(--gse-ui-modal-medium-width);max-height:min(640px, 100vh - 2 * 24px)}:host .gux-modal .gux-modal-container.gux-large{width:var(--gse-ui-modal-large-width);max-height:min(640px, 100vh - 2 * 24px)}:host .gux-modal .gux-modal-container.gux-dynamic{max-width:calc(100vw - 48px);max-height:calc(100vh - 48px)}:host .gux-modal .gux-modal-container.gux-dynamic .gux-modal-content{max-height:none}:host .gux-modal .gux-modal-container .gux-modal-header{margin:0;font-family:var(--gse-ui-modal-heading-fontFamily);font-size:var(--gse-ui-modal-heading-fontSize);font-weight:var(--gse-ui-modal-heading-fontWeight);line-height:var(--gse-ui-modal-heading-fontFamily);color:var(--gse-ui-modal-headerColor);letter-spacing:var(--gse-ui-modal-heading-letterSpacing);font-family:var(--gse-core-typography-heading-xl-fontFamily), var(--gse-core-fontFamily-heading), sans-serif;font-size:var(--gse-core-typography-heading-xl-fontSize);line-height:var(--gse-core-typography-heading-xl-lineHeight);font-weight:var(--gse-core-fontWeight-bold)}:host .gux-modal .gux-modal-container .gux-modal-content{max-height:432px;margin-top:var(--gse-ui-modal-gap);margin-bottom:var(--gse-ui-modal-gap);overflow-y:auto}:host .gux-modal .gux-modal-container .gux-modal-content.gux-no-buttons{margin-bottom:0}:host .gux-modal .gux-modal-container .gux-button-footer{display:flex;justify-content:space-between}@media (max-width: 416px){:host .gux-modal .gux-modal-container.gux-small,:host .gux-modal .gux-modal-container.gux-medium,:host .gux-modal .gux-modal-container.gux-large{width:100%;height:100%}}",g=u,m=class{constructor(o){s(this,o),this.guxdismiss=n(this,"guxdismiss",7),this.size="dynamic",this.trapFocus=!0,this.initialFocus=void 0}handleKeyEvent(o){o.key==="Escape"&&this.onDismissHandler(o)}connectedCallback(){this.triggerElement=document.activeElement}componentWillLoad(){const o=this.trapFocus?"trapfocuson":"trapfocusoff",a=`${this.size}-${o}`;r(this.root,{variant:a})}componentDidLoad(){var o,a,e;const i=this.getInitialFocusElement();i?(o=i.focus)===null||o===void 0||o.call(i):this.dismissButton&&((e=(a=this.dismissButton).focus)===null||e===void 0||e.call(a))}render(){const o=this.hasModalTitleSlot(),a=this.hasFooterButtons(),e=d();return t("div",{key:"3daad0ffabba648d738f54b040b904fd1ee55627",class:"gux-modal",role:"dialog","aria-modal":"true","aria-labelledby":o?e:null},t("div",{key:"6327b850582b671096469837f42bb83bca21c9bc",class:`gux-modal-container gux-${this.size}`},this.renderModalTrapFocusEl(),o&&t("h1",{class:"gux-modal-header",id:e},t("slot",{name:"title"})),t("gux-dismiss-button",{key:"733bf40eef00a7a6670232d65d3884f67fde36d4",onClick:this.onDismissHandler.bind(this),ref:i=>this.dismissButton=i}),t("div",{key:"b1cb4e2e26e5740b386d056e271adf66e1ebf5c1",class:{"gux-modal-content":!0,"gux-no-buttons":!a}},t("p",{key:"0f392adf40c71849062c9bd59e1d787dcbaffab2"},t("slot",{key:"71b43af6aa19a21e091c886610dda186921195b6",name:"content"}))),a&&t("div",{class:"gux-button-footer"},t("div",{class:"gux-left-align-buttons"},t("slot",{name:"left-align-buttons"})),t("div",{class:"gux-right-align-buttons"},t("slot",{name:"right-align-buttons"}))),this.renderModalTrapFocusEl()))}renderModalTrapFocusEl(){if(this.trapFocus)return t("span",{onFocus:()=>this.dismissButton.focus(),tabindex:"0"})}getInitialFocusElement(){return this.initialFocus?this.root.querySelector(this.initialFocus):void 0}hasModalTitleSlot(){return!!this.root.querySelector('[slot="title"]')}hasFooterButtons(){return!!this.root.querySelector('[slot="left-align-buttons"]')||!!this.root.querySelector('[slot="right-align-buttons"]')}onDismissHandler(o){var a;o.stopPropagation(),this.guxdismiss.emit().defaultPrevented||(this.root.remove(),(a=this.triggerElement)===null||a===void 0||a.focus())}get root(){return l(this)}};m.style=g;export{m as gux_modal_legacy};
