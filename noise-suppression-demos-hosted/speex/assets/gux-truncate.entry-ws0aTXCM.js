import{r as h,f as c,h as r,g as f}from"./index-CV4KLuUB.js";import{O as m}from"./on-mutation-1355c534-NPHHExKE.js";import{O as v}from"./on-resize-6a194a58-Duu1gocu.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";function d(t){return t.reduce((e,o)=>{if(o.nodeName==="SLOT"){const i=o.assignedNodes();return e.concat(d(i))}return e.concat(o.textContent)},[]).map(e=>e.trim()).join(" ")}const g=":host{display:block;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:inherit}::slotted(*){display:inline}.gux-truncate-multi-line{white-space:normal}.gux-truncate-multi-line .gux-truncate-slot-container{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}gux-tooltip{font-weight:normal;line-height:normal;text-align:left;overflow-wrap:break-word;white-space:normal}.gux-truncate-slot-container>*{display:inline}.gux-truncate-slot-container{display:block;text-overflow:ellipsis}.gux-overflow-hidden{overflow:hidden}",x=g;var p=function(t,e,o,i){var l=arguments.length,n=l<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,o):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(n=(l<3?s(n):l>3?s(e,o,n):s(e,o))||n);return l>3&&n&&Object.defineProperty(e,o,n),n};const u=class{constructor(t){h(this,t),this.maxLines=void 0}async setShowTooltip(){var t;await((t=this.tooltipElement)===null||t===void 0?void 0:t.showTooltip())}async setHideTooltip(){var t;await((t=this.tooltipElement)===null||t===void 0?void 0:t.hideTooltip())}onMutation(){c(this.root)}onResize(){c(this.root)}getTooltipContent(){return d(Array.from(this.root.childNodes))||""}needsTruncation(){const t=this.root.shadowRoot.querySelector(".gux-truncate-slot-container");return(t==null?void 0:t.scrollWidth)>(t==null?void 0:t.offsetWidth)||(t==null?void 0:t.scrollHeight)>(t==null?void 0:t.offsetHeight)}renderTooltip(){return this.needsTruncation()?r("gux-tooltip",{"aria-hidden":"true",ref:t=>this.tooltipElement=t},r("div",{slot:"content"},this.getTooltipContent())):null}render(){var t;return r("div",{key:"d885f73cb60b603dd67d8adc57b30720f8719640",class:{"gux-truncate-multi-line":!!this.maxLines}},r("span",{key:"21c219be168505b4bd5c3b8194fef135e8e92a91",class:{"gux-overflow-hidden":this.needsTruncation(),"gux-truncate-slot-container":!0},style:{webkitLineClamp:(t=this.maxLines)===null||t===void 0?void 0:t.toString()}},r("slot",{key:"9b97d5729f0a2a65b115ee75c0e40ba3224215c7"})),this.renderTooltip())}get root(){return f(this)}};p([m({childList:!0,subtree:!0,characterData:!0})],u.prototype,"onMutation",null);p([v()],u.prototype,"onResize",null);u.style=x;export{u as gux_truncate};
