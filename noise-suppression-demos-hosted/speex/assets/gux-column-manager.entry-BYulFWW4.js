import{r as l,c as u,f as r,h as t,g}from"./index-CV4KLuUB.js";import{b as m}from"./index-3f1e5ba8-CrdMLsjJ.js";import{t as b}from"./usage-6129fffe-6kP8_2TX.js";import{g as s,s as p,a as c,b as C,c as x,d as k,e as i,f as y,h as f}from"./gux-column-manager.service-90a02975-GGjVHfbH.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-728b9f18-C_5KDHD-.js";import"./clamp-1fc36648-DnrAwabn.js";import"./simulate-native-event-e0631897-BcLDngo1.js";const w="Search",I="search results",v="{count} / {total} Columns Selected",O="{count} of {total} columns selected: check checkbox to select all {total} columns",P="{count} of {total} columns selected: uncheck checkbox to unselect all {total} columns",R="Press space or enter to move the {columnName} column to position {newPositionNumber} from position {oldPositionNumber}.",S="Reordering mode active. Reposition the {columnName} column using the up arrow key, the down arrow key, the home key and the end key. Press Escape to deactivate reordering mode.",E={search:w,searchResults:I,selectedColumnCount:v,selectAllColumnsScreenReader:O,unselectAllColumnsScreenReader:P,movePositionPrompt:R,reorderingModeActive:S},M=".gux-container{width:320px;min-width:320px;padding:var(--gse-ui-dataTableItems-editColumn-editColumnContent-padding)}.gux-container .gux-search gux-content-search{width:100%}.gux-container .gux-search gux-content-search input[type=search]::-webkit-search-decoration,.gux-container .gux-search gux-content-search input[type=search]::-webkit-search-cancel-button,.gux-container .gux-search gux-content-search input[type=search]::-webkit-search-results-button,.gux-container .gux-search gux-content-search input[type=search]::-webkit-search-results-decoration{display:none;-webkit-appearance:none}.gux-container .gux-select{padding:var(--gse-ui-dataTableItems-editColumn-editColumnContent-padding);margin-left:24px}.gux-sr-only:not(:focus):not(:active){position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0 0 0 0);clip-path:inset(50%);white-space:nowrap}",A=M,N=class{constructor(e){l(this,e),this.guxorderchange=u(this,"guxorderchange",7),this.highlightResults={matchCount:0,currentMatch:0},this.keyboardOrderChange=s()}watchKeyboardOrderChange(){p(this.root,this.keyboardOrderChange)}async componentWillLoad(){b(this.root),this.i18n=await m(this.root,E)}componentDidLoad(){c(this.root,this.mainCheckboxElement)}handleInternalorderchange(e){e.stopPropagation(),this.emitOrderChange(e.detail)}emitOrderChange(e){const{oldIndex:n,newIndex:o}=e;if(n!==o){const a=C(this.root,e);this.guxorderchange.emit(a)}}handleInternalkeyboardorderstart(e){e.stopPropagation();const n=e.detail,o=x(e.target);this.keyboardOrderChange={oldIndex:o,newIndex:o},this.announceElement.guxAnnounce(this.i18n("reorderingModeActive",{columnName:n}))}handleInternalkeyboardreordermove(e){e.stopPropagation();const{delta:n,column:o}=e.detail;this.keyboardOrderChange=k(this.root,this.keyboardOrderChange,n);const a=o,h=this.keyboardOrderChange.newIndex+1,d=this.keyboardOrderChange.oldIndex+1;this.announceElement.guxAnnounce(this.i18n("movePositionPrompt",{columnName:a,newPositionNumber:h,oldPositionNumber:d}))}handleInternalkeyboarddoreorder(e){e.stopPropagation(),this.emitOrderChange(this.keyboardOrderChange),e.target.guxFocus()}handleInternalkeyboardorderfinish(e){e.stopPropagation(),this.keyboardOrderChange=s()}onSearchInput(){this.highlightResults=i(this.root,this.searchElement)}onGuxCurrentMatchChanged(e){this.highlightResults=i(this.root,this.searchElement,e.detail)}onMainCheckboxChange(){y(this.root,this.mainCheckboxElement.checked),r(this.root)}onListChange(){c(this.root,this.mainCheckboxElement),r(this.root)}onSlotChange(){this.onListChange()}renderSelectedColumnCount(){const{count:e,total:n}=f(this.root);return t("div",null,t("span",{"aria-hidden":"true"},this.i18n("selectedColumnCount",{count:e,total:n})),t("span",{class:"gux-sr-only"},e===n?t("span",null,": ",this.i18n("unselectAllColumnsScreenReader",{count:e,total:n})):t("span",null,": ",this.i18n("selectAllColumnsScreenReader",{count:e,total:n}))))}render(){return t("div",{key:"235c27899f7907107d12ec4d7651443ca763de03",class:"gux-container"},t("div",{key:"a67dd33d227868fd49bb75cbd089c51945f204fc",class:"gux-sr-only","aria-live":"polite"},`${this.highlightResults.matchCount} ${this.i18n("searchResults")}`),t("div",{key:"62d80474abfdb828efaf3d68663db230fd6acb04",class:"gux-search"},t("gux-content-search",{key:"a0104c41a58927e5b5441fe682312d83923ac65b","match-count":this.highlightResults.matchCount,"current-match":this.highlightResults.currentMatch,onGuxcurrentmatchchanged:e=>this.onGuxCurrentMatchChanged(e)},t("input",{key:"f6b653b05402b950c0b187e3cbea9098dda33b04",type:"search",placeholder:this.i18n("search"),onInput:()=>this.onSearchInput(),ref:e=>this.searchElement=e}))),t("div",{key:"a1c6a894e9355394556a354a5ad4517c47ea48cb",class:"gux-select"},t("gux-form-field-checkbox",{key:"ef7523a6686227c4a9bb999cb68e377912d8ce42"},t("input",{key:"14d3438c585c61ac2423f2bbc4a674340b2a0134",slot:"input",type:"checkbox",ref:e=>this.mainCheckboxElement=e,onChange:()=>this.onMainCheckboxChange()}),t("label",{key:"5fa1c2a35b48dfcbe8bf83380951219e41d15244",slot:"label"},this.renderSelectedColumnCount()))),t("div",{key:"c2fe9d9e9289e1708f5a39ebaf5de9c1c6143f20",class:"gux-list",onChange:()=>this.onListChange()},t("slot",{key:"d1a6b7b13c7e61039d1849ae50376f5183b8484c",onSlotchange:()=>this.onSlotChange()})),t("gux-announce-beta",{key:"1b810acfb1b38167c55029865dc4c6aed8cfc845",ref:e=>this.announceElement=e}))}get root(){return g(this)}static get watchers(){return{keyboardOrderChange:["watchKeyboardOrderChange"]}}};N.style=A;export{N as gux_column_manager};
