import{r as u,h as r,g as p}from"./index-CV4KLuUB.js";import{b as m}from"./index-3f1e5ba8-CrdMLsjJ.js";import{O as g}from"./on-mutation-1355c534-NPHHExKE.js";import{h as s}from"./has-slot-f24a46a6-D7GdaS0G.js";import{t as c}from"./usage-6129fffe-6kP8_2TX.js";import{a as b,G as x}from"./gux-form-field-error-4d654b58-Dsr4dyig.js";import{G as v,a as C}from"./gux-form-field-fieldset-container-8d2b9425-6NoEgp15.js";import{a as y,g as w,v as F}from"./gux-form-field.service-6cfb4f6f-COVh4ZMn.js";import{g as d}from"./get-slot-text-content-95a85429-DTSoMW52.js";import{p as q}from"./prevent-browser-validation-styling-3983eb0a-8P9I4Sy5.js";import{o as S}from"./on-attribute-change-f42eabee-B5v87GNV.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-728b9f18-C_5KDHD-.js";import"./random-html-id-81ac821b-D30kRngR.js";import"./log-error-274efeb7-BpRSdGLj.js";import"./simulate-native-event-e0631897-BcLDngo1.js";const I="required",P={required:I},E='.gux-form-field-fieldset-container{display:flex;min-width:0;padding:0;margin:0;border:none}.gux-form-field-fieldset-container.gux-beside{flex-direction:row}.gux-form-field-fieldset-container.gux-above{flex-direction:column}.gux-form-field-error{display:none;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-formControl-helper-gap);place-content:stretch flex-start;align-items:center;padding:var(--gse-ui-formControl-helper-errorPadding);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error.gux-show{display:flex}.gux-form-field-error gux-icon{flex:0 1 auto;align-self:start;order:0;min-width:var(--gse-ui-icon-size-sm);min-height:var(--gse-ui-icon-size-sm);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error .gux-message{flex:0 1 auto;align-self:auto;order:0}.gux-form-field-legend-label ::slotted(label){white-space:nowrap}.gux-form-field-legend-label.gux-required::after{color:var(--gse-ui-formControl-label-indicator-requiredColor);content:" *"}.gux-form-field-legend-label.gux-beside{position:relative;top:var(--gse-ui-formControl-input-top);float:left;width:fit-content;min-width:45px;margin-right:var(--gse-ui-formControl-label-gap)}.gux-form-field-legend-label.gux-above{padding:var(--gse-ui-formControl-label-padding)}.gux-form-field-legend-label.gux-screenreader{position:absolute;top:auto;left:-10000px;width:1px;height:1px;overflow:hidden}.gux-form-field-help{display:none;flex-direction:row;flex-wrap:nowrap;place-content:stretch flex-start;align-items:flex-start;justify-content:flex-start;padding:var(--gse-ui-formControl-helper-paddingSmall);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-defaultColor)}.gux-form-field-help.gux-show{display:flex}.gux-form-field-help .gux-message{flex:0 1 auto;align-self:none;order:0}:host{display:block}::slotted(label){font-family:var(--gse-ui-formControl-label-text-fontFamily);font-size:var(--gse-ui-formControl-label-text-fontSize);font-weight:var(--gse-ui-formControl-label-text-fontWeight);line-height:var(--gse-ui-formControl-label-text-lineHeight);color:var(--gse-ui-formControl-label-labelColor)}',L=E;var T=function(e,t,i,l){var n=arguments.length,o=n<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,i):l,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,i,l);else for(var f=e.length-1;f>=0;f--)(a=e[f])&&(o=(n<3?a(o):n>3?a(t,i,o):a(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o};const h=class{constructor(e){u(this,e),this.labelPosition=void 0,this.computedLabelPosition="above",this.hasError=!1,this.hasHelp=!1,this.required=!1}onMutation(){this.hasError=s(this.root,"error"),this.hasHelp=s(this.root,"help")}async componentWillLoad(){this.getI18nValue=await m(this.root,P),this.setInput(),this.setLabel(),this.hasError=s(this.root,"error"),this.hasHelp=s(this.root,"help"),c(this.root,{variant:this.variant})}disconnectedCallback(){this.requiredObserver&&this.requiredObserver.disconnect()}renderScreenReaderText(e,t=!0){if(t)return r("gux-screen-reader-beta",null,e)}setLabel(){this.label=this.root.querySelector('label[slot="label"]'),this.computedLabelPosition=y(this.label,this.labelPosition)}setInput(){this.fileInputElement=w(this.root,'input[type="file"][slot="input"]'),q(this.fileInputElement),this.required=this.fileInputElement.required,this.requiredObserver=S(this.fileInputElement,e=>{this.required=e}),F(this.root,this.fileInputElement)}get variant(){return`fileInput-${this.labelPosition?this.labelPosition.toLowerCase():"none"}`}render(){var e;return r(C,{key:"8716b8e17ef001bec3f88b261aa83d0b9b423491",labelPosition:this.computedLabelPosition},r(v,{key:"e55734683ae0d8e1b519553258754c37fed89094",position:this.computedLabelPosition,required:this.required,labelText:(e=this.label)===null||e===void 0?void 0:e.textContent},r("slot",{key:"a1ea5f5d8cf08de5d1b24a1096027362d0e14bc6",name:"label",onSlotchange:()=>this.setLabel()}),this.renderScreenReaderText(this.getI18nValue("required"),this.required),this.renderScreenReaderText(d(this.root,"error"),this.hasError),this.renderScreenReaderText(d(this.root,"help"),this.hasHelp)),r("slot",{key:"e2250394b1dc46d4805c85ab5848e17abbede2fa",name:"input",onSlotchange:()=>this.setInput()}),r(x,{key:"118c9dfcdeee88cf80a3276b5cf9fb44e3efc9a1",show:this.hasError},r("slot",{key:"1a23ef5f0e8df3db85f46e367e48b1b41806ed24",name:"error"})),r(b,{key:"0f7654fab175c17ceb4b03648f658306d2c01027",show:!this.hasError&&this.hasHelp},r("slot",{key:"88d4cf5b5e66b4df82afdcd2d9385715b614788e",name:"help"})))}get root(){return p(this)}};T([g({childList:!0,subtree:!0})],h.prototype,"onMutation",null);h.style=L;export{h as gux_form_field_file};
