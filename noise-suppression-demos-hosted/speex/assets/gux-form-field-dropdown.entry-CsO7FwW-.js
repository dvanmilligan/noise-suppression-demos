import{r as p,h as o,g as c}from"./index-CV4KLuUB.js";import{b as m}from"./index-3f1e5ba8-CrdMLsjJ.js";import{O as g}from"./on-mutation-1355c534-NPHHExKE.js";import{o as x}from"./on-attribute-change-f42eabee-B5v87GNV.js";import{h as s}from"./has-slot-f24a46a6-D7GdaS0G.js";import{G as b,a as v}from"./gux-form-field-error-4d654b58-Dsr4dyig.js";import{G as w,a as y}from"./gux-form-field-fieldset-container-8d2b9425-6NoEgp15.js";import{g as f}from"./get-slot-text-content-95a85429-DTSoMW52.js";import{s as C,b as h,a as q}from"./gux-form-field.service-6cfb4f6f-COVh4ZMn.js";import{t as S}from"./usage-6129fffe-6kP8_2TX.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-728b9f18-C_5KDHD-.js";import"./random-html-id-81ac821b-D30kRngR.js";import"./log-error-274efeb7-BpRSdGLj.js";import"./simulate-native-event-e0631897-BcLDngo1.js";const F="Required",E={required:F},P='.gux-form-field-fieldset-container{display:flex;min-width:0;padding:0;margin:0;border:none}.gux-form-field-fieldset-container.gux-beside{flex-direction:row}.gux-form-field-fieldset-container.gux-above{flex-direction:column}.gux-form-field-error{display:none;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-formControl-helper-gap);place-content:stretch flex-start;align-items:center;padding:var(--gse-ui-formControl-helper-errorPadding);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error.gux-show{display:flex}.gux-form-field-error gux-icon{flex:0 1 auto;align-self:start;order:0;min-width:var(--gse-ui-icon-size-sm);min-height:var(--gse-ui-icon-size-sm);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error .gux-message{flex:0 1 auto;align-self:auto;order:0}.gux-form-field-legend-label ::slotted(label){white-space:nowrap}.gux-form-field-legend-label.gux-required::after{color:var(--gse-ui-formControl-label-indicator-requiredColor);content:" *"}.gux-form-field-legend-label.gux-beside{position:relative;top:var(--gse-ui-formControl-input-top);float:left;width:fit-content;min-width:45px;margin-right:var(--gse-ui-formControl-label-gap)}.gux-form-field-legend-label.gux-above{padding:var(--gse-ui-formControl-label-padding)}.gux-form-field-legend-label.gux-screenreader{position:absolute;top:auto;left:-10000px;width:1px;height:1px;overflow:hidden}.gux-form-field-help{display:none;flex-direction:row;flex-wrap:nowrap;place-content:stretch flex-start;align-items:flex-start;justify-content:flex-start;padding:var(--gse-ui-formControl-helper-paddingSmall);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-defaultColor)}.gux-form-field-help.gux-show{display:flex}.gux-form-field-help .gux-message{flex:0 1 auto;align-self:none;order:0}:host{display:block}::slotted(label){font-family:var(--gse-ui-formControl-label-text-fontFamily);font-size:var(--gse-ui-formControl-label-text-fontSize);font-weight:var(--gse-ui-formControl-label-text-fontWeight);line-height:var(--gse-ui-formControl-label-text-lineHeight);color:var(--gse-ui-formControl-label-labelColor)}.gux-input-and-error-container{flex-grow:1;width:100%}',L=P;var T=function(e,r,i,l){var a=arguments.length,t=a<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,i):l,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(e,r,i,l);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(t=(a<3?n(t):a>3?n(r,i,t):n(r,i))||t);return a>3&&t&&Object.defineProperty(r,i,t),t};const u=class{constructor(e){p(this,e),this.labelPosition=void 0,this.computedLabelPosition="above",this.required=void 0,this.hasError=!1,this.hasHelp=!1}watchValue(e){const r=this.root.querySelector("gux-dropdown")||this.root.querySelector("gux-dropdown-multi");r&&(r.hasError=e)}onMutation(){this.hasError=s(this.root,"error"),this.hasHelp=s(this.root,"help")}async componentWillLoad(){this.getI18nValue=await m(this.root,E),this.setInput(),this.setLabel(),this.hasError=s(this.root,"error"),this.hasHelp=s(this.root,"help"),S(this.root,{variant:this.variant})}disconnectedCallback(){this.requiredObserver&&this.requiredObserver.disconnect()}renderScreenReaderText(e,r=!1){if(r)return o("gux-screen-reader-beta",null,e)}render(){var e;return o(y,{key:"666a7685c605ea7479a051d974539de44ecaef98",labelPosition:this.computedLabelPosition},o(w,{key:"11758886f2f34ffe6e86d7d7cd09eb8b5fc4b4fe",position:this.computedLabelPosition,required:this.required,labelText:(e=this.label)===null||e===void 0?void 0:e.textContent},o("slot",{key:"bb7665c398da3d38396bb5e3ca65d5aea10611da",name:"label",onSlotchange:()=>this.setLabel()}),this.renderScreenReaderText(this.getI18nValue("required"),this.required),this.renderScreenReaderText(f(this.root,"error"),this.hasError),this.renderScreenReaderText(f(this.root,"help"),this.hasHelp)),o("div",{key:"1fc1141771a6cf9adebd75ef14a466191f17cd65",class:"gux-input-and-error-container"},o("div",{key:"8a44f9eafffc9a764fda33656e28ffee6c2495b4",class:{"gux-input":!0,"gux-input-error":this.hasError}},o("slot",{key:"423b5f3c63c2dca04bd02203a893b8cb780e4288"})),o(b,{key:"87b68e6fdccb9cdeeb194cea7a74accb0bc91ed2",show:this.hasError},o("slot",{key:"0324435c911a0614737641ebe7d2d362ef342537",name:"error"})),o(v,{key:"f5ff6c7188ac726cfcca95e8f192d01682fff4fc",show:!this.hasError&&this.hasHelp},o("slot",{key:"f0a51c6237eaaa370e6a6a3491dae66cf5d60dde",name:"help"}))))}get variant(){return`dropdown-${this.labelPosition?this.labelPosition.toLowerCase():"none"}`}setInput(){this.dropdownElement=this.root.querySelector("gux-dropdown")||this.root.querySelector("gux-dropdown-multi"),this.listboxElement=this.root.querySelector("gux-listbox")||this.root.querySelector("gux-listbox-multi"),this.required=this.dropdownElement.required,this.requiredObserver=x(this.dropdownElement,e=>{this.required=e}),C(this.root,this.listboxElement,"label"),h(this.root,this.listboxElement,"error"),h(this.root,this.listboxElement,"help")}setLabel(){this.label=this.root.querySelector('label[slot="label"]'),this.computedLabelPosition=q(this.label,this.labelPosition)}get root(){return c(this)}static get watchers(){return{hasError:["watchValue"]}}};T([g({childList:!0,subtree:!0})],u.prototype,"onMutation",null);u.style=L;export{u as gux_form_field_dropdown};
