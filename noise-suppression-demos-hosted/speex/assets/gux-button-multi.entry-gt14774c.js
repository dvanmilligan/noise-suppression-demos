import{r as p,c,h as o,g as b}from"./index-CV4KLuUB.js";import{O as h}from"./on-click-outside-21dd269e-9ljsEeio.js";import{w as f}from"./when-event-is-from-2aac15f0-B4cyA2sH.js";import{a as d}from"./after-next-render-07a41f53-C_KTwidI.js";import{t as m}from"./usage-6129fffe-6kP8_2TX.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const g=["primary","secondary","tertiary"];function w(e){return g.find(t=>t===e)?e:"secondary"}const x=":host{display:block;-webkit-user-select:none;user-select:none}.gux-button-multi-container .gux-dropdown-button button{display:inline-flex;align-items:center}.gux-button-multi-container .gux-dropdown-button button gux-icon{width:var(--gse-ui-button-icon-size);height:var(--gse-ui-button-icon-size);margin-left:var(--gse-ui-button-gap)}.gux-list-container{max-width:220px;margin:0;overflow-y:auto;background:var(--gse-ui-menu-backgroundColor);border-color:var(--gse-ui-menu-border-color);border-style:var(--gse-ui-menu-border-style);border-width:var(--gse-ui-menu-border-width);border-radius:var(--gse-ui-menu-borderRadius);box-shadow:var(--gse-ui-menu-boxShadow-x) var(--gse-ui-menu-boxShadow-y) var(--gse-ui-menu-boxShadow-blur) var(--gse-ui-menu-boxShadow-spread) var(--gse-ui-menu-boxShadow-color)}",y=x;var v=function(e,t,i,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,i,n);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s};const l=class{constructor(e){p(this,e),this.open=c(this,"open",7),this.close=c(this,"close",7),this.disabled=!1,this.accent="secondary",this.isOpen=!1}handleKeydown(e){const t=e.composedPath();switch(e.key){case"Escape":this.isOpen=!1,t.includes(this.listElement)&&(e.preventDefault(),this.dropdownButton.focus());break;case"Tab":{this.isOpen=!1;break}case"ArrowDown":case"Enter":t.includes(this.dropdownButton)&&(e.preventDefault(),this.isOpen=!0,this.focusFirstItemInPopupList());break}}handleKeyup(e){switch(e.key){case" ":{e.composedPath().includes(this.dropdownButton)&&(this.isOpen=!0,this.focusFirstItemInPopupList());break}}}watchDisabled(e){e&&(this.isOpen=!1)}watchValue(e){e?this.open.emit():this.close.emit()}onClickOutside(){this.isOpen=!1}toggle(){this.disabled||(this.isOpen=!this.isOpen,this.isOpen&&this.focusPopupList())}focusPopupList(){d(()=>{this.listElement.focus()})}focusFirstItemInPopupList(){d(()=>{this.listElement.guxFocusFirstItem()})}onListClick(e){f("gux-list-item",e,()=>{this.isOpen=!1,this.dropdownButton.focus()})}componentWillLoad(){m(this.root,{variant:this.accent})}render(){return o("gux-popup",{key:"d11ee46bdc394e449948a990c3392e67561b5440",expanded:this.isOpen,"exceed-target-width":!0,placement:"bottom-end"},o("div",{key:"9bcee7ee324bfe28f2a4b3f54350da517e213e5e",slot:"target",class:"gux-button-multi-container"},o("gux-button-slot",{key:"078262dda15c7d90b8ebd5ea4eeeba54135bdbd5",class:"gux-dropdown-button",accent:w(this.accent)},o("button",{key:"0226c6123fd6f41457a2a59fc79b5eb6856ada7c",type:"button",disabled:this.disabled,ref:e=>this.dropdownButton=e,onMouseUp:()=>this.toggle(),"aria-haspopup":"true","aria-expanded":this.isOpen.toString()},o("slot",{key:"8c3ff11aa93a3bc3a7aa532f3883ec1e1e34e786",name:"title"}),o("gux-icon",{key:"cb3f3e29dc0d7aa677dfc4a51fb7481d47bff5b7",decorative:!0,"icon-name":"custom/chevron-down-small-regular"})))),o("div",{key:"0fc02de7d793f0b72e8356dda71630a84e54b894",class:"gux-list-container",slot:"popup"},o("gux-list",{key:"3b65d94364a7491e611d752b3652ebcedeb3da8e",onClick:e=>this.onListClick(e),ref:e=>this.listElement=e},o("slot",{key:"4ea6256473eb88b0d029becc3d00a1a0d3b0f187"}))))}get root(){return b(this)}static get watchers(){return{disabled:["watchDisabled"],isOpen:["watchValue"]}}};v([h({triggerEvents:"mousedown"})],l.prototype,"onClickOutside",null);l.style=y;export{l as gux_button_multi};
