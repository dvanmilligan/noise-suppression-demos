import{r as o,h as r,g as u}from"./index-CV4KLuUB.js";import{b as h,g as c}from"./index-3f1e5ba8-CrdMLsjJ.js";import{u as l,a as d}from"./use-regional-dates-a47e74e6-CHt-lzjs.js";import{s as i}from"./simulate-native-event-e0631897-BcLDngo1.js";import{b as g}from"./after-next-render-07a41f53-C_KTwidI.js";import{g as n,b as s,a as m}from"./year-month-values-7461d213-BGOpTfvI.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-728b9f18-C_5KDHD-.js";const f="Current year is {currentYear}, Click to change year to {changeYear}",x={changeYear:f},y=".gux-month-calendar{flex-wrap:wrap;width:var(--gse-ui-calendarMenu-width);box-shadow:var(--gse-ui-calendarMenu-boxShadow-x) var(--gse-ui-calendarMenu-boxShadow-y) var(--gse-ui-calendarMenu-boxShadow-blur) var(--gse-ui-calendarMenu-boxShadow-spread) var(--gse-ui-calendarMenu-boxShadow-color)}.gux-month-calendar .gux-current-month{font-family:var(--gse-ui-calendarMenu-month-currentText-fontFamily);font-size:var(--gse-ui-calendarMenu-month-currentText-fontSize);font-weight:var(--gse-ui-calendarMenu-month-currentText-fontWeight);line-height:var(--gse-ui-calendarMenu-month-currentText-lineHeight);color:var(--gse-ui-calendarMenu-month-default-foregroundColor)}.gux-month-calendar .gux-year-header{position:relative;display:flex;align-items:center;justify-content:space-between;height:var(--gse-ui-calendarMenu-month-single-header-height);padding:var(--gse-ui-calendarMenu-header-padding);font-family:var(--gse-ui-calendarMenu-day-headerText-fontFamily);font-size:var(--gse-ui-calendarMenu-day-headerText-fontSize);font-weight:var(--gse-ui-calendarMenu-day-headerText-fontWeight);line-height:var(--gse-ui-calendarMenu-day-headerText-lineHeight);color:var(--gse-ui-calendarMenu-header-foregroundColor);background-color:var(--gse-ui-calendarMenu-header-backgroundColor);border-radius:var(--gse-ui-calendarMenu-single-header-borderRadius)}.gux-month-calendar .gux-year-header button{padding:var(--gse-ui-calendarMenu-header-arrow-padding);color:inherit;cursor:pointer;background:none;border:none;outline:none}.gux-month-calendar .gux-year-header button:focus-visible{border-radius:calc(var(--gse-semantic-focusRing-cornerRadius) - var(--gse-semantic-focusRing-offset));outline:var(--gse-semantic-focusRing-width) var(--gse-semantic-focusRing-default-border-style) var(--gse-semantic-color-focus);outline-offset:var(--gse-semantic-focusRing-offset)}.gux-month-calendar .gux-year-header button.gux-year-change:disabled{cursor:default;opacity:var(--gse-ui-calendarMenu-disabled-opacity)}.gux-month-calendar .gux-year-header button gux-icon{width:var(--gse-ui-icon-size-sm);height:var(--gse-ui-icon-size-sm);pointer-events:none}",v=y,p=class{constructor(e){o(this,e),this.value=void 0,this.min=void 0,this.max=void 0,this.year=void 0,this.locale=void 0}onValueUpdate(e){const{year:t}=n(e);this.year=t}async guxFocus(e){e=e||s();const{year:t}=n(e);this.year=t,g(()=>{const a=this.root.shadowRoot.querySelector(`gux-month-list-item[value="${e}"]`);a&&a.focus()})}async componentWillLoad(){this.i18n=await h(this.root,x),l()?this.locale=d(this.root):this.locale=c(this.root),this.value?this.year=n(this.value).year:this.year=n(s()).year}updateValue(e){this.value=e,i(this.root,"input"),i(this.root,"change")}isOutOfBounds(e){return this.max&&this.max<e||this.min&&this.min>e}onMonthClick(e){this.isOutOfBounds(e)||this.updateValue(e)}isCurrentMonth(e){return n(s()).year==this.year&&n(s()).month==e}getMonthAriaLabel(e){const{year:t,month:a}=n(e);return new Date(Number(t),Number(a)-1).toLocaleDateString(this.locale,{year:"numeric",month:"long"})}getYearLabel(e){return new Date(Number(e),5).toLocaleDateString(this.locale,{year:"numeric"})}isSelectedMonth(e){return e===this.value}isAriaSelectedMonth(e){return this.isSelectedMonth(e)?"true":!1}changeYear(e){this.year=(parseInt(this.year)+e).toString()}isPreviousYearLessThanMinYear(e,t){return(parseInt(e)-1).toString()<(t&&n(t).year)}isNextYearGreaterThanMaxYear(e,t){return(parseInt(e)+1).toString()>(t&&n(t).year)}getMonthShortName(e,t){return new Date(Number(e),Number(t)-1).toLocaleDateString(this.locale,{month:"short"})}doFocusTrap(){this.previousYearElement.disabled||this.previousYearElement.focus(),this.nextYearElement.disabled||this.nextYearElement.focus(),this.monthListElement.focus()}renderHeader(){return r("div",{class:"gux-year-header"},r("button",{type:"button",class:"gux-year-change",onClick:()=>this.changeYear(-1),disabled:this.isPreviousYearLessThanMinYear(this.year,this.min),ref:e=>this.previousYearElement=e},r("gux-icon",{"icon-name":"custom/chevron-left-small-regular","screenreader-text":this.i18n("changeYear",{currentYear:parseInt(this.year),changeYear:parseInt(this.year)-1})})),r("div",null,this.getYearLabel(this.year)),r("button",{type:"button",class:"gux-year-change",onClick:()=>this.changeYear(1),disabled:this.isNextYearGreaterThanMaxYear(this.year,this.max),ref:e=>this.nextYearElement=e},r("gux-icon",{"icon-name":"custom/chevron-right-small-regular","screenreader-text":this.i18n("changeYear",{currentYear:parseInt(this.year),changeYear:parseInt(this.year)+1})})))}renderMonths(){const e=Array.from(new Array(12),(t,a)=>String(a+1).padStart(2,"0")).map(t=>{const a=m(this.year,t);return r("gux-month-list-item",{class:{"gux-current-month":this.isCurrentMonth(t)},value:a,selected:this.isSelectedMonth(a),"aria-selected":this.isAriaSelectedMonth(a),"aria-label":this.getMonthAriaLabel(a),onClick:()=>this.onMonthClick(a),disabled:this.isOutOfBounds(a)},this.getMonthShortName(this.year,t))});return r("gux-month-list",{tabIndex:1,ref:t=>this.monthListElement=t},e)}renderTrapFocusEl(){return r("span",{onFocus:()=>this.doFocusTrap(),tabindex:"0"})}render(){return r("div",{key:"7779da6a0844737396b0275636f38d2cea6e49e4",class:"gux-month-calendar"},this.renderHeader(),this.renderMonths(),this.renderTrapFocusEl())}static get delegatesFocus(){return!0}get root(){return u(this)}static get watchers(){return{value:["onValueUpdate"]}}};p.style=v;export{p as gux_month_calendar};
