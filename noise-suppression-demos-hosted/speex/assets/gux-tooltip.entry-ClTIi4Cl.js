import{r as n,h as o,H as a,g as l}from"./index-CV4KLuUB.js";import{a as d,c as h,o as c,f as p,s as u,h as f}from"./floating-ui.dom.esm-8b93f9de-BrzsGlin.js";import{r as g}from"./random-html-id-81ac821b-D30kRngR.js";import{t as m}from"./usage-6129fffe-6kP8_2TX.js";import{f as b}from"./find-element-by-id-d0ce6208-DntMpzyb.js";import{b as v}from"./after-next-render-07a41f53-C_KTwidI.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const x=":host{position:fixed;z-index:var(--gse-semantic-zIndex-tooltip);display:none;width:max-content;max-width:250px;pointer-events:none;border-radius:var(--gse-ui-tooltip-borderRadius);box-shadow:var(--gse-ui-tooltip-boxShadow-x) var(--gse-ui-tooltip-boxShadow-y) var(--gse-ui-tooltip-boxShadow-blur) var(--gse-ui-tooltip-boxShadow-spread) var(--gse-ui-tooltip-boxShadow-color);opacity:0}:host(.gux-show){display:block;animation-name:fade-in;animation-duration:250ms;animation-delay:1s;animation-fill-mode:forwards}.gux-container{box-sizing:border-box;display:flex;flex-direction:row;gap:var(--gse-ui-tooltip-gap);place-content:center flex-start;padding:var(--gse-ui-tooltip-padding);font-family:var(--gse-ui-tooltip-text-fontFamily);font-size:var(--gse-ui-tooltip-text-fontSize);font-weight:var(--gse-ui-tooltip-text-fontWeight);line-height:var(--gse-ui-tooltip-text-lineHeight);color:var(--gse-ui-tooltip-light-foregroundColor);background-color:var(--gse-ui-tooltip-light-backgroundColor);border:var(--gse-ui-tooltip-light-border-width) var(--gse-ui-tooltip-light-border-style) var(--gse-ui-tooltip-light-border-color);border-radius:var(--gse-ui-tooltip-borderRadius)}.gux-container ::slotted(gux-icon){align-self:center;width:var(--gse-ui-icon-size-sm);height:var(--gse-ui-icon-size-sm);color:var(--gse-ui-tooltip-light-iconColor)}.gux-container ::slotted(*){width:100%;overflow-wrap:break-word;white-space:normal}.gux-container.gux-dark{color:var(--gse-ui-tooltip-dark-foregroundColor);background-color:var(--gse-ui-tooltip-dark-backgroundColor);border-color:var(--gse-ui-tooltip-dark-border-color)}.gux-container.gux-dark ::slotted(gux-icon){align-self:center;width:var(--gse-ui-icon-size-sm);height:var(--gse-ui-icon-size-sm);color:var(--gse-ui-tooltip-dark-iconColor)}@keyframes fade-in{0%{opacity:0}100%{opacity:1}}",w=x,E=class{constructor(t){n(this,t),this.pointerenterHandler=()=>this.show(),this.pointerleaveHandler=()=>this.hide(),this.focusinHandler=()=>this.show(),this.focusoutHandler=()=>this.hide(),this.forElementListeners=new Map([["pointerenter",this.pointerenterHandler],["pointerleave",this.pointerleaveHandler],["focusin",this.focusinHandler],["focusout",this.focusoutHandler]]),this.id=g("gux-tooltip"),this.for=void 0,this.placement="bottom-start",this.accent="light",this.isShown=!1}handleKeyDown(t){t.key==="Escape"&&this.isShown&&this.hide()}async showTooltip(){this.show()}async hideTooltip(){this.hide()}runUpdatePosition(){this.cleanupUpdatePosition=d(this.forElement,this.root,()=>this.updatePosition(),{ancestorScroll:!0,elementResize:!0,animationFrame:!1,ancestorResize:!0})}updatePosition(){const t=[c(16),p(),u(),f()];h(this.forElement,this.root,{placement:this.placement,strategy:"fixed",middleware:t}).then(({x:e,y:r,middlewareData:s})=>{var i;Object.assign(this.root.style,{left:`${e}px`,top:`${r}px`,visibility:!((i=s.hide)===null||i===void 0)&&i.referenceHidden?"hidden":"visible"}),this.root.setAttribute("data-placement",this.placement)})}show(){this.isShown=!0,v(()=>{this.runUpdatePosition()})}hide(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition(),this.isShown=!1}getForElement(){return this.for?b(this.root,this.for):this.root.parentElement}logForAttributeError(){this.root.isConnected&&console.error(`gux-tooltip: invalid element supplied to 'for': "${this.for}"`)}setForElement(){this.forElement=this.getForElement(),this.forElement?(this.forElement.setAttribute("aria-describedby",this.id),this.forElementListeners.forEach((t,e)=>this.forElement.addEventListener(e,t))):this.logForAttributeError()}disconnectForElement(){this.forElement&&(this.forElement.removeAttribute("aria-describedby"),this.forElementListeners.forEach((t,e)=>this.forElement.removeEventListener(e,t)))}updateForElement(){this.disconnectForElement(),this.setForElement()}connectedCallback(){this.setForElement()}componentWillLoad(){m(this.root,{variant:this.placement})}disconnectedCallback(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition(),this.disconnectForElement()}render(){return o(a,{key:"cf47795c123bbbb84d20f2b05d7e261cfd198f80",id:this.id,class:{"gux-show":this.isShown},role:"tooltip"},o("div",{key:"602cb416885f721c72676919f4ae791785727946",class:{"gux-container":!0,[`gux-${this.accent}`]:!0},"data-placement":this.placement},o("slot",{key:"c6342a611c2eb1d547f28dac034504e03dbf9669",name:"content"},o("slot",{key:"e9fd2940bdd6f572e1ed1c747cf2aed934fa1be3"}))))}get root(){return l(this)}static get watchers(){return{for:["updateForElement"]}}};E.style=w;export{E as gux_tooltip};
