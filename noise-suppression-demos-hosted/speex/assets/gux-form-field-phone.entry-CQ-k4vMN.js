import{r as f,h as t,g as u}from"./index-CV4KLuUB.js";import{b as p}from"./index-3f1e5ba8-CrdMLsjJ.js";import{O as c}from"./on-mutation-1355c534-NPHHExKE.js";import{a as m,o as g}from"./on-attribute-change-f42eabee-B5v87GNV.js";import{t as b}from"./usage-6129fffe-6kP8_2TX.js";import{G as x,a as v}from"./gux-form-field-fieldset-container-8d2b9425-6NoEgp15.js";import{G as C,a as y}from"./gux-form-field-error-4d654b58-Dsr4dyig.js";import{h as s}from"./has-slot-f24a46a6-D7GdaS0G.js";import{g as w}from"./get-slot-text-content-95a85429-DTSoMW52.js";import{v as F,a as q}from"./gux-form-field.service-6cfb4f6f-COVh4ZMn.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./get-closest-element-728b9f18-C_5KDHD-.js";import"./random-html-id-81ac821b-D30kRngR.js";import"./log-error-274efeb7-BpRSdGLj.js";import"./simulate-native-event-e0631897-BcLDngo1.js";const P="Required",E={required:P},I='.gux-form-field-fieldset-container{display:flex;min-width:0;padding:0;margin:0;border:none}.gux-form-field-fieldset-container.gux-beside{flex-direction:row}.gux-form-field-fieldset-container.gux-above{flex-direction:column}.gux-form-field-error{display:none;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-formControl-helper-gap);place-content:stretch flex-start;align-items:center;padding:var(--gse-ui-formControl-helper-errorPadding);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error.gux-show{display:flex}.gux-form-field-error gux-icon{flex:0 1 auto;align-self:start;order:0;min-width:var(--gse-ui-icon-size-sm);min-height:var(--gse-ui-icon-size-sm);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error .gux-message{flex:0 1 auto;align-self:auto;order:0}.gux-form-field-legend-label ::slotted(label){white-space:nowrap}.gux-form-field-legend-label.gux-required::after{color:var(--gse-ui-formControl-label-indicator-requiredColor);content:" *"}.gux-form-field-legend-label.gux-beside{position:relative;top:var(--gse-ui-formControl-input-top);float:left;width:fit-content;min-width:45px;margin-right:var(--gse-ui-formControl-label-gap)}.gux-form-field-legend-label.gux-above{padding:var(--gse-ui-formControl-label-padding)}.gux-form-field-legend-label.gux-screenreader{position:absolute;top:auto;left:-10000px;width:1px;height:1px;overflow:hidden}.gux-form-field-help{display:none;flex-direction:row;flex-wrap:nowrap;place-content:stretch flex-start;align-items:flex-start;justify-content:flex-start;padding:var(--gse-ui-formControl-helper-paddingSmall);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-defaultColor)}.gux-form-field-help.gux-show{display:flex}.gux-form-field-help .gux-message{flex:0 1 auto;align-self:none;order:0}::slotted(label){font-family:var(--gse-ui-formControl-label-text-fontFamily);font-size:var(--gse-ui-formControl-label-text-fontSize);font-weight:var(--gse-ui-formControl-label-text-fontWeight);line-height:var(--gse-ui-formControl-label-text-lineHeight);color:var(--gse-ui-formControl-label-labelColor)}.gux-input-and-error-container{flex-grow:1}',S=I;var L=function(e,r,i,l){var a=arguments.length,o=a<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,i):l,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,i,l);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(o=(a<3?n(o):a>3?n(r,i,o):n(r,i))||o);return a>3&&o&&Object.defineProperty(r,i,o),o};const h=class{constructor(e){f(this,e),this.labelPosition=void 0,this.computedLabelPosition="above",this.disabled=void 0,this.required=!1,this.hasError=!1,this.hasHelp=!1}watchValue(e){const r=this.root.querySelector("gux-phone-input-beta");r&&(r.hasError=e)}onMutation(){this.hasError=s(this.root,"error"),this.hasHelp=s(this.root,"help")}async componentWillLoad(){this.getI18nValue=await p(this.root,E),this.setInput(),this.setLabel(),this.hasError=s(this.root,"error"),this.hasHelp=s(this.root,"help"),b(this.root,{variant:this.variant})}disconnectedCallback(){this.disabledObserver.disconnect(),this.requiredObserver.disconnect()}render(){var e;return t(v,{key:"db6b4f1a2f50c6da9543db76c567c1ccbe66d2f5",labelPosition:this.computedLabelPosition},t(x,{key:"6d9927d38d812f560f6a8ccb16e2d46463208208",position:this.computedLabelPosition,required:this.required,labelText:(e=this.label)===null||e===void 0?void 0:e.textContent},t("slot",{key:"d1dd0b051cb68dce0cd3a6878b3c3a7de44096bb",name:"label",onSlotchange:()=>this.setLabel()}),this.renderScreenReaderText(this.getI18nValue("required"),this.required),this.renderScreenReaderText(w(this.root,"error"),this.hasError)),t("div",{key:"f1583acb36f66a3b55e2b99478f36469bfe80e26",class:"gux-input-and-error-container"},t("div",{key:"2cf57ada67e14dc402c9108a0a980708f910c9a8",class:{"gux-input":!0,"gux-input-error":this.hasError}},t("div",{key:"e8515020246b404c20ee19ee181db7769199695b",class:{"gux-input-container":!0,"gux-disabled":this.disabled}},t("slot",{key:"5a960eae67822c36963c3ce30a5484b960a8baa8"}))),t(C,{key:"7fdc9ac607f7c776c5c864c25f790a8a9f8217b9",show:this.hasError},t("slot",{key:"ed8d8dceac60fb9e8896a49a312f87fb09a9cd72",name:"error"})),t(y,{key:"a3785fa725ce1ab00c3b285e6ed98014aeec85c3",show:!this.hasError&&this.hasHelp},t("slot",{key:"d59dae2017a361cba7a429ef521ea8a30ce7aa58",name:"help"}))))}renderScreenReaderText(e,r=!0){if(r)return t("gux-screen-reader-beta",null,e)}get variant(){return`phoneInput-${this.labelPosition?this.labelPosition.toLowerCase():"none"}`}setInput(){this.phoneInputElement=this.root.querySelector("gux-phone-input-beta"),this.disabled=this.phoneInputElement.disabled,this.required=this.phoneInputElement.required,this.disabledObserver=m(this.phoneInputElement,e=>{this.disabled=e}),this.requiredObserver=g(this.phoneInputElement,e=>{this.required=e}),F(this.root,this.phoneInputElement)}setLabel(){this.label=this.root.querySelector('label[slot="label"]'),this.computedLabelPosition=q(this.label,this.labelPosition)}get root(){return u(this)}static get watchers(){return{hasError:["watchValue"]}}};L([c({childList:!0,subtree:!0})],h.prototype,"onMutation",null);h.style=S;export{h as gux_form_field_phone};
