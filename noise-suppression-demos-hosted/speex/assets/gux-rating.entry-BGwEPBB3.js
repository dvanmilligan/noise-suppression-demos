import{r as l,h as s,H as u,g}from"./index-CV4KLuUB.js";import{s as n}from"./simulate-native-event-e0631897-BcLDngo1.js";import{c}from"./clamp-1fc36648-DnrAwabn.js";import{t as d}from"./usage-6129fffe-6kP8_2TX.js";import{a as h}from"./log-error-274efeb7-BpRSdGLj.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";const f=":host{display:inline-block;min-width:fit-content;user-select:none}:host(:host:focus-visible){outline:var(--gse-semantic-focusRing-small-border-color) var(--gse-semantic-focusRing-small-border-style) var(--gse-semantic-focusRing-small-border-width);outline-offset:var(--gse-semantic-focusRing-offset);box-shadow:0 0 0 1px var(--gse-semantic-focusRing-small-border-style)}.gux-rating-star-container{display:flex;gap:var(--gse-ui-rating-star-gap);justify-content:space-between;color:var(--gse-ui-rating-default-color)}.gux-rating-star-container.gux-disabled{color:var(--gse-ui-rating-disabled-color);pointer-events:none;opacity:var(--gse-ui-rating-disabled-opacity)}.gux-rating-star-container gux-icon{flex:0 0 auto;width:var(--gse-ui-rating-size);height:var(--gse-ui-rating-size);color:var(--gse-ui-rating-default-color)}.gux-rating-star-container gux-icon:hover:not(.gux-disabled){color:var(--gse-ui-rating-hover-color)}",m=f,p=class{constructor(t){l(this,t),this.value=0,this.maxValue=5,this.disabled=!1,this.readonly=!1,this.increment="default"}onClick(t){if(t.stopPropagation(),this.disabled||this.readonly)return;const[e]=t.composedPath(),i=e.getRootNode(),a=Array.from(this.starContainer.children).findIndex(o=>o.shadowRoot===i)+1;a===this.value+.5?this.updateRatingValue(a):a===this.value?this.updateRatingValue(0):a!==Math.floor(this.value)?this.increment==="half"?this.updateRatingValue(a-.5):this.updateRatingValue(a):this.updateRatingValue(a)}onKeyDown(t){if(t.stopPropagation(),this.disabled||this.readonly)return;const e=this.increment==="half"?.5:1;switch(t.key){case"ArrowUp":t.preventDefault(),this.updateRatingValue(this.value+e);break;case"ArrowDown":t.preventDefault(),this.updateRatingValue(this.value-e);break;case"End":t.preventDefault(),this.updateRatingValue(1/0);break;case"Home":t.preventDefault(),this.updateRatingValue(-1/0);break}}updateRatingValue(t){const e=c(t,0,Array.from(this.starContainer.children).length),i=this.increment==="half"?.5:1,r=Math.round(e/i)*i;this.value!==r&&(this.value=r,n(this.root,"input"),n(this.root,"change"))}getRatingStarElements(){return[...Array(this.maxValue).keys()].reduce((t,e)=>e+.5===this.value?t.concat("fa/star-sharp-half-stroke-regular"):e+1<=this.value?t.concat("fa/star-solid"):t.concat("fa/star-regular"),[]).map(t=>s("gux-icon",{"icon-name":t,decorative:!0}))}getTabIndex(){return this.disabled?-1:0}componentWillLoad(){d(this.root)}componentDidLoad(){this.root.getAttribute("aria-label")||this.root.getAttribute("aria-labelledby")||h(this.root,"`gux-rating` requires a label. Either provide a label and associate it with the gux-rating element using `aria-labelledby` or add an `aria-label` attribute to the gux-rating element.")}render(){return s(u,{key:"e443a8d144ae63c24153d403c5dedd87feaaa01c",role:"spinbutton",tabindex:this.getTabIndex(),"aria-readonly":this.readonly.toString(),"aria-valuenow":this.value,"aria-valuemin":"0","aria-valuemax":this.maxValue},s("div",{key:"51302b2383245a470a5e57051797b8e37e8a6db4",ref:t=>this.starContainer=t,class:{"gux-rating-star-container":!0,"gux-disabled":this.disabled}},this.getRatingStarElements()))}get root(){return g(this)}};p.style=m;export{p as gux_rating};
