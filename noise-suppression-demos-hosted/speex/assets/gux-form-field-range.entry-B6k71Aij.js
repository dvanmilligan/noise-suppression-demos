import{r as h,f as p,h as t,H as f,g as c}from"./index-CV4KLuUB.js";import{c as m,o as x}from"./on-input-disabled-state-change-27395154-_B452ZSd.js";import{O as b}from"./on-mutation-1355c534-NPHHExKE.js";import{o as v}from"./on-attribute-change-f42eabee-B5v87GNV.js";import{p as y}from"./prevent-browser-validation-styling-3983eb0a-8P9I4Sy5.js";import{h as s}from"./has-slot-f24a46a6-D7GdaS0G.js";import{G as C,a as w}from"./gux-form-field-error-4d654b58-Dsr4dyig.js";import{a as F,G as I}from"./gux-form-field-container-777ec473-C04Ut_gQ.js";import{g as k,v as P,a as E}from"./gux-form-field.service-6cfb4f6f-COVh4ZMn.js";import{t as S}from"./usage-6129fffe-6kP8_2TX.js";import{O as q}from"./on-resize-6a194a58-Duu1gocu.js";import"vite-plugin-node-polyfills/shims/process";import"vite-plugin-node-polyfills/shims/buffer";import"./random-html-id-81ac821b-D30kRngR.js";import"./log-error-274efeb7-BpRSdGLj.js";import"./simulate-native-event-e0631897-BcLDngo1.js";const z='.gux-form-field-container.gux-beside{display:flex;flex-direction:row}.gux-form-field-error{display:none;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-formControl-helper-gap);place-content:stretch flex-start;align-items:center;padding:var(--gse-ui-formControl-helper-errorPadding);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error.gux-show{display:flex}.gux-form-field-error gux-icon{flex:0 1 auto;align-self:start;order:0;min-width:var(--gse-ui-icon-size-sm);min-height:var(--gse-ui-icon-size-sm);color:var(--gse-ui-formControl-helper-errorColor)}.gux-form-field-error .gux-message{flex:0 1 auto;align-self:auto;order:0}.gux-form-field-label.gux-required::after{color:var(--gse-ui-formControl-label-indicator-requiredColor);content:" *"}.gux-form-field-label.gux-beside{position:relative;top:8px;width:fit-content;min-width:45px;margin-right:var(--gse-ui-formControl-label-gap)}.gux-form-field-label.gux-above{padding:var(--gse-ui-formControl-label-padding)}.gux-form-field-label.gux-screenreader{position:absolute;top:auto;left:-10000px;width:1px;height:1px;overflow:hidden}.gux-form-field-help{display:none;flex-direction:row;flex-wrap:nowrap;place-content:stretch flex-start;align-items:flex-start;justify-content:flex-start;padding:var(--gse-ui-formControl-helper-paddingSmall);font-family:var(--gse-ui-formControl-helper-helperText-fontFamily);font-size:var(--gse-ui-formControl-helper-helperText-fontSize);line-height:var(--gse-ui-formControl-helper-helperText-lineHeight);color:var(--gse-ui-formControl-helper-defaultColor)}.gux-form-field-help.gux-show{display:flex}.gux-form-field-help .gux-message{flex:0 1 auto;align-self:none;order:0}:host{display:block}::slotted(label){font-family:var(--gse-ui-formControl-label-text-fontFamily);font-size:var(--gse-ui-formControl-label-text-fontSize);font-weight:var(--gse-ui-formControl-label-text-fontWeight);line-height:var(--gse-ui-formControl-label-text-lineHeight);color:var(--gse-ui-formControl-label-labelColor)}::slotted(input[type=range]){position:absolute;width:100%;width:100%;height:var(--gse-ui-slider-bar-height);margin:calc(var(--gse-ui-slider-handle-width) / 2) 0;margin-top:calc(-1 * (var(--gse-ui-slider-handle-width) / 2 + var(--gse-ui-slider-bar-height)));-webkit-appearance:none;background:transparent}.gux-input-and-error-container{flex-grow:1}.gux-input-and-error-container.gux-hidden{display:none}.gux-input-and-error-container .gux-range-input-container{display:flex;flex-direction:row;flex-wrap:nowrap;gap:var(--gse-ui-slider-gap);place-content:stretch flex-start;align-items:center;height:32px;font-size:var(--gse-ui-slider-label-text-fontSize)}.gux-input-and-error-container .gux-range-input-container.gux-disabled{opacity:var(--gse-ui-slider-disabled-opacity)}.gux-input-and-error-container .gux-range-input-container .gux-range{position:relative;flex:1 1 auto;align-self:center;order:0}.gux-input-and-error-container .gux-range-input-container .gux-range:hover .gux-range-tooltip,.gux-input-and-error-container .gux-range-input-container .gux-range:focus-within .gux-range-tooltip{visibility:visible}.gux-input-and-error-container .gux-range-input-container .gux-range .gux-track{width:100%;height:var(--gse-ui-slider-bar-height);margin:6px 0;background:var(--gse-ui-slider-bar-default-backgroundColor);border-radius:var(--gse-ui-slider-track-borderRadius)}.gux-input-and-error-container .gux-range-input-container .gux-range .gux-track .gux-progress{height:var(--gse-ui-slider-bar-height);background-color:var(--gse-ui-slider-bar-selected-backgroundColor);border-radius:var(--gse-ui-slider-track-borderRadius)}.gux-input-and-error-container .gux-range-input-container .gux-display{flex:0 1 auto;align-self:auto;order:0;margin:0 0 0 var(--gux-spacing-medium);font-family:var(--gse-ui-slider-label-text-fontFamily);font-size:var(--gse-ui-slider-label-text-fontSize);font-weight:var(--gse-ui-slider-label-text-fontWeight);line-height:var(--gse-ui-slider-label-text-lineHeight);text-align:right}.gux-input-and-error-container .gux-range-input-container .gux-display.gux-hidden{display:none}',L=z;var g=function(e,i,o,a){var l=arguments.length,r=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,i,o,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(r=(l<3?n(r):l>3?n(i,o,r):n(i,o))||r);return l>3&&r&&Object.defineProperty(i,o,r),r};const d=class{constructor(e){h(this,e),this.displayUnits=void 0,this.valueInTooltip=void 0,this.labelPosition=void 0,this.computedLabelPosition="above",this.disabled=void 0,this.required=void 0,this.hasError=!1,this.hasHelp=!1,this.value=void 0,this.active=void 0,this.valueWatcherId=void 0}onInput(e){const i=e.target;this.updateValue(i.value)}onMousedown(){this.disabled||(this.active=!0)}onMouseup(){this.active=!1}onMutation(){this.hasError=s(this.root,"error"),this.hasHelp=s(this.root,"help")}componentWillLoad(){this.setInput(),this.setLabel(),this.hasError=s(this.root,"error"),this.hasHelp=s(this.root,"help"),S(this.root,{variant:this.variant})}componentDidLoad(){this.updatePosition(),this.tooltipElement&&p(this.root)}disconnectedCallback(){this.disabledObserver&&this.disabledObserver.disconnect(),this.requiredObserver&&this.requiredObserver.disconnect(),clearInterval(this.valueWatcherId)}render(){return t(f,{key:"555a470f41986a6ab8731c8803b240b30cd4d65e",class:{"gux-active":this.active}},t(F,{key:"39f20232cd05020500ab0a9aa9be1fdaf1291619",labelPosition:this.computedLabelPosition},t(I,{key:"1bbfe067086bc8c7d7673b5cdc9c789052b08a86",position:this.computedLabelPosition,required:this.required},t("slot",{key:"eaca0784721a3cd922dc07a5cd769fe18601aabd",name:"label",onSlotchange:()=>this.setLabel()})),t("div",{key:"23fc47b9206f15812a47dcef4f28825021619426",class:"gux-input-and-error-container"},this.renderRangeInput(),t(C,{key:"123775129952675ae780f24308deee4151d1c102",show:this.hasError},t("slot",{key:"98bc664e228397f35fe3c9459d61543d33de50bc",name:"error"})),t(w,{key:"58bd604286dc20f3228eebe9796a92f1dae762d0",show:!this.hasError&&this.hasHelp},t("slot",{key:"6570f867aa63fa8ef6d679b419419376565e4d78",name:"help"})))))}get variant(){return this.labelPosition?this.labelPosition.toLowerCase():"none"}setInput(){this.input=k(this.root,'input[type="range"][slot="input"]'),y(this.input),this.disabled=m(this.input),this.required=this.input.required,this.value=this.input.value,this.disabledObserver=x(this.input,e=>{this.disabled=e}),this.requiredObserver=v(this.input,e=>{this.required=e}),clearInterval(this.valueWatcherId),this.valueWatcherId=setInterval(()=>{this.value!==this.input.value&&this.updateValue(this.input.value)},100),P(this.root,this.input)}setLabel(){this.label=this.root.querySelector('label[slot="label"]'),this.computedLabelPosition=E(this.label,this.labelPosition)}renderRangeInput(){return t("div",{class:{"gux-range-input-container":!0,"gux-disabled":this.disabled},ref:e=>this.containerElement=e},t("div",{class:"gux-range"},t("div",{class:"gux-track"},t("div",{class:"gux-progress",ref:e=>this.progressElement=e})),t("slot",{name:"input"}),this.valueInTooltip&&t("gux-tooltip-base-beta",{ref:e=>this.tooltipElement=e,forElement:this.containerElement,offsetY:-10,placement:"top"},t("span",{slot:"content"},this.getDisplayValue()))),t("div",{class:{"gux-display":!0,"gux-hidden":this.valueInTooltip}},this.getDisplayValue()))}updateValue(e){this.value=e,this.updatePosition()}updatePosition(){const e=Number(this.input.value||0),i=Number(this.input.min||0),o=Number(this.input.max||100),a=(e-i)/(o-i)*100;if(this.tooltipElement){const r=this.containerElement.offsetWidth-20,n=a/100-.5;this.tooltipElement.offsetX=n*r}this.progressElement.style.width=`${a}%`}getDisplayValue(){return this.displayUnits?`${this.value}${this.displayUnits}`:this.value}get root(){return c(this)}};g([b({childList:!0,subtree:!0})],d.prototype,"onMutation",null);g([q()],d.prototype,"updatePosition",null);d.style=L;export{d as gux_form_field_range};
